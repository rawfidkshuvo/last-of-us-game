(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},_l={};var M_;function Rb(){if(M_)return _l;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var V_;function Ib(){return V_||(V_=1,Dd.exports=Rb()),Dd.exports}var x=Ib(),Od={exports:{}},wt={};var k_;function Cb(){if(k_)return wt;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,nt={};function yt(O,K,it){this.props=O,this.context=K,this.refs=nt,this.updater=it||W}yt.prototype.isReactComponent={},yt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},yt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function It(){}It.prototype=yt.prototype;function _t(O,K,it){this.props=O,this.context=K,this.refs=nt,this.updater=it||W}var Dt=_t.prototype=new It;Dt.constructor=_t,st(Dt,yt.prototype),Dt.isPureReactComponent=!0;var ne=Array.isArray;function Ot(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,K,it){var rt=it.ref;return{$$typeof:s,type:O,key:K,ref:rt!==void 0?rt:null,props:it}}function V(O,K){return C(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var w=/\/+/g;function ue(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ot,Ot):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,it,rt,Et){var $=typeof O;($==="undefined"||$==="boolean")&&(O=null);var J=!1;if(O===null)J=!0;else switch($){case"bigint":case"string":case"number":J=!0;break;case"object":switch(O.$$typeof){case s:case t:J=!0;break;case b:return J=O._init,G(J(O._payload),K,it,rt,Et)}}if(J)return Et=Et(O),J=rt===""?"."+ue(O,0):rt,ne(Et)?(it="",J!=null&&(it=J.replace(w,"$&/")+"/"),G(Et,K,it,"",function(Gt){return Gt})):Et!=null&&(D(Et)&&(Et=V(Et,it+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(w,"$&/")+"/")+J)),K.push(Et)),1;J=0;var at=rt===""?".":rt+":";if(ne(O))for(var dt=0;dt<O.length;dt++)rt=O[dt],$=at+ue(rt,dt),J+=G(rt,K,it,$,Et);else if(dt=H(O),typeof dt=="function")for(O=dt.call(O),dt=0;!(rt=O.next()).done;)rt=rt.value,$=at+ue(rt,dt++),J+=G(rt,K,it,$,Et);else if($==="object"){if(typeof O.then=="function")return G(Te(O),K,it,rt,Et);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return J}function et(O,K,it){if(O==null)return O;var rt=[],Et=0;return G(O,rt,"","",function($){return K.call(it,$,Et++)}),rt}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Kt={map:et,forEach:function(O,K,it){et(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=S,wt.Children=Kt,wt.Component=yt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=_t,wt.StrictMode=a,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=st({},O.props),Et=O.key;if(K!=null)for($ in K.key!==void 0&&(Et=""+K.key),K)!A.call(K,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&K.ref===void 0||(rt[$]=K[$]);var $=arguments.length-2;if($===1)rt.children=it;else if(1<$){for(var J=Array($),at=0;at<$;at++)J[at]=arguments[at+2];rt.children=J}return C(O.type,Et,rt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,K,it){var rt,Et={},$=null;if(K!=null)for(rt in K.key!==void 0&&($=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=K[rt]);var J=arguments.length-2;if(J===1)Et.children=it;else if(1<J){for(var at=Array(J),dt=0;dt<J;dt++)at[dt]=arguments[dt+2];Et.children=at}if(O&&O.defaultProps)for(rt in J=O.defaultProps,J)Et[rt]===void 0&&(Et[rt]=J[rt]);return C(O,$,Et)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:y,render:O}},wt.isValidElement=D,wt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ft}},wt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},wt.startTransition=function(O){var K=I.T,it={};I.T=it;try{var rt=O(),Et=I.S;Et!==null&&Et(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,kt)}catch($){kt($)}finally{K!==null&&it.types!==null&&(K.types=it.types),I.T=K}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(O){return I.H.use(O)},wt.useActionState=function(O,K,it){return I.H.useActionState(O,K,it)},wt.useCallback=function(O,K){return I.H.useCallback(O,K)},wt.useContext=function(O){return I.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},wt.useEffect=function(O,K){return I.H.useEffect(O,K)},wt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(O,K,it){return I.H.useImperativeHandle(O,K,it)},wt.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},wt.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},wt.useMemo=function(O,K){return I.H.useMemo(O,K)},wt.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},wt.useReducer=function(O,K,it){return I.H.useReducer(O,K,it)},wt.useRef=function(O){return I.H.useRef(O)},wt.useState=function(O){return I.H.useState(O)},wt.useSyncExternalStore=function(O,K,it){return I.H.useSyncExternalStore(O,K,it)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.3",wt}var U_;function bm(){return U_||(U_=1,Od.exports=Cb()),Od.exports}var fe=bm(),Md={exports:{}},vl={},Vd={exports:{}},kd={};var L_;function xb(){return L_||(L_=1,(function(s){function t(G,et){var ft=G.length;G.push(et);t:for(;0<ft;){var kt=ft-1>>>1,Kt=G[kt];if(0<l(Kt,et))G[kt]=et,G[ft]=Kt,ft=kt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var et=G[0],ft=G.pop();if(ft!==et){G[0]=ft;t:for(var kt=0,Kt=G.length,O=Kt>>>1;kt<O;){var K=2*(kt+1)-1,it=G[K],rt=K+1,Et=G[rt];if(0>l(it,ft))rt<Kt&&0>l(Et,it)?(G[kt]=Et,G[rt]=ft,kt=rt):(G[kt]=it,G[K]=ft,kt=K);else if(rt<Kt&&0>l(Et,ft))G[kt]=Et,G[rt]=ft,kt=rt;else break t}}return et}function l(G,et){var ft=G.sortIndex-et.sortIndex;return ft!==0?ft:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var p=[],_=[],b=1,S=null,M=3,H=!1,W=!1,st=!1,nt=!1,yt=typeof setTimeout=="function"?setTimeout:null,It=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Dt(G){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=G)a(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=i(_)}}function ne(G){if(st=!1,Dt(G),!W)if(i(p)!==null)W=!0,Ot||(Ot=!0,k());else{var et=i(_);et!==null&&Te(ne,et.startTime-G)}}var Ot=!1,I=-1,A=5,C=-1;function V(){return nt?!0:!(s.unstable_now()-C<A)}function D(){if(nt=!1,Ot){var G=s.unstable_now();C=G;var et=!0;try{t:{W=!1,st&&(st=!1,It(I),I=-1),H=!0;var ft=M;try{e:{for(Dt(G),S=i(p);S!==null&&!(S.expirationTime>G&&V());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,M=S.priorityLevel;var Kt=kt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Kt=="function"){S.callback=Kt,Dt(G),et=!0;break e}S===i(p)&&a(p),Dt(G)}else a(p);S=i(p)}if(S!==null)et=!0;else{var O=i(_);O!==null&&Te(ne,O.startTime-G),et=!1}}break t}finally{S=null,M=ft,H=!1}et=void 0}}finally{et?k():Ot=!1}}}var k;if(typeof _t=="function")k=function(){_t(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ue=w.port2;w.port1.onmessage=D,k=function(){ue.postMessage(null)}}else k=function(){yt(D,0)};function Te(G,et){I=yt(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ft=M;M=et;try{return G()}finally{M=ft}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return et()}finally{M=ft}},s.unstable_scheduleCallback=function(G,et,ft){var kt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?kt+ft:kt):ft=kt,G){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=ft+Kt,G={id:b++,callback:et,priorityLevel:G,startTime:ft,expirationTime:Kt,sortIndex:-1},ft>kt?(G.sortIndex=ft,t(_,G),i(p)===null&&G===i(_)&&(st?(It(I),I=-1):st=!0,Te(ne,ft-kt))):(G.sortIndex=Kt,t(p,G),W||H||(W=!0,Ot||(Ot=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var et=M;return function(){var ft=M;M=et;try{return G.apply(this,arguments)}finally{M=ft}}}})(kd)),kd}var P_;function Nb(){return P_||(P_=1,Vd.exports=xb()),Vd.exports}var Ud={exports:{}},nn={};var z_;function Db(){if(z_)return nn;z_=1;var s=bm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,b)},nn.flushSync=function(p){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=b,a.d.f()}},nn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},nn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},nn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:H}):b==="script"&&a.d.X(p,{crossOrigin:S,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},nn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin);a.d.L(p,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},nn.requestFormReset=function(p){a.d.r(p)},nn.unstable_batchedUpdates=function(p,_){return p(_)},nn.useFormState=function(p,_,b){return d.H.useFormState(p,_,b)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var j_;function Ob(){if(j_)return Ud.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=Db(),Ud.exports}var B_;function Mb(){if(B_)return vl;B_=1;var s=Nb(),t=bm(),i=Ob();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),It=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case yt:return"Profiler";case nt:return"StrictMode";case ne:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case _t:return e.displayName||"Context";case It:return(e._context.displayName||"Context")+".Consumer";case Dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var Te=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},kt=[],Kt=-1;function O(e){return{current:e}}function K(e){0>Kt||(e.current=kt[Kt],kt[Kt]=null,Kt--)}function it(e,n){Kt++,kt[Kt]=e.current,e.current=n}var rt=O(null),Et=O(null),$=O(null),J=O(null);function at(e,n){switch(it($,n),it(Et,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),it(rt,e)}function dt(){K(rt),K(Et),K($)}function Gt(e){e.memoizedState!==null&&it(J,e);var n=rt.current,r=i_(n,e.type);n!==r&&(it(Et,e),it(rt,r))}function Bt(e){Et.current===e&&(K(rt),K(Et)),J.current===e&&(K(J),ml._currentValue=ft)}var ut,Tt;function At(e){if(ut===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ut=n&&n[1]||"",Tt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+e+Tt}var pe=!1;function Zt(e,n){if(!e||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?At(r):""}function ze(e,n){switch(e.tag){case 26:case 27:case 5:return At(e.type);case 16:return At("Lazy");case 13:return e.child!==n&&n!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return Zt(e.type,!1);case 11:return Zt(e.type.render,!1);case 1:return Zt(e.type,!0);case 31:return At("Activity");default:return""}}function Mn(e){try{var n="",r=null;do n+=ze(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Jt=Object.prototype.hasOwnProperty,oe=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,Oh=s.unstable_shouldYield,Wl=s.unstable_requestPaint,ln=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,_o=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,eu=s.log,nu=s.unstable_setDisableYieldValue,$n=null,Ke=null;function Vn(e){if(typeof eu=="function"&&nu(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode($n,e)}catch{}}var be=Math.clz32?Math.clz32:su,iu=Math.log,ea=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/ea|0)|0}var fi=256,yr=262144,Ce=4194304;function di(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=di(o):(g&=E,g!==0?h=di(g):r||(r=E&~e,r!==0&&(h=di(r))))):(E=o&~f,E!==0?h=di(E):g!==0?h=di(g):r||(r=o&~e,r!==0&&(h=di(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function gi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-be(r),Y=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function vr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-be(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function vo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-be(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Eo(e,n){var r=n&-n;return r=(r&42)!==0?1:Er(r),(r&(e.suspendedLanes|n))!==0?0:r}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Jn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Wn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Wn,He="__reactProps$"+Wn,pi="__reactContainer$"+Wn,na="__reactEvents$"+Wn,Uh="__reactListeners$"+Wn,ou="__reactHandles$"+Wn,lu="__reactResources$"+Wn,yi="__reactMarker$"+Wn;function ia(e){delete e[xe],delete e[He],delete e[na],delete e[Uh],delete e[ou]}function _i(e){var n=e[xe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[pi]||r[xe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=c_(e);e!==null;){if(r=e[xe])return r;e=c_(e)}return n}e=r,r=e.parentNode}return null}function kn(e){if(e=e[xe]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function vi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[yi]=!0}var To=new Set,bo={};function Ei(e,n){Ti(e,n),Ti(e+"Capture",n)}function Ti(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},wo={};function uu(e){return Jt.call(wo,e)?!0:Jt.call(Ao,e)?!1:So.test(e)?wo[e]=!0:(Ao[e]=!0,!1)}function sa(e,n,r){if(uu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function bn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function De(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function Tr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function fn(e){return e.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,Ge(n)):r!=null?Io(e,g,Ge(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ge(E):e.removeAttribute("name")}function cu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}r=r!=null?""+Ge(r):"",n=n!=null?""+Ge(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Wt(e)}function Io(e,n,r){n==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Es(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ge(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,r){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ge(r):""}function Ts(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Te(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ge(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Wt(e)}function dn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function xo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return bs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var No=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Si=null;function Sr(e){var n=kn(e);if(n&&(e=n.stateNode)){var r=e[He]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Tr(o)}break t;case"textarea":hu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Es(e,!!r.multiple,n,!1)}}}var la=!1;function As(e,n,r){if(la)return e(n,r);la=!0;try{var o=e(n);return o}finally{if(la=!1,(Ss!==null||Si!==null)&&(ac(),Ss&&(n=Ss,e=Si,Si=Ss=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function ei(e,n){var r=e.stateNode;if(r===null)return null;var o=r[He]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(Ln)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Ar=!1}var Ai=null,Do=null,wr=null;function Oo(){if(wr)return wr;var e,n=Do,r=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function ni(){return!1}function Ye(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Ye(Gi),ws=S({},Gi,{view:0,detail:0}),Mo=Ye(ws),Rs,ua,Ri,ca=S({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Rs=e.screenX-Ri.screenX,ua=e.screenY-Ri.screenY):ua=Rs=0,Ri=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Vo=Ye(ca),Ir=S({},ca,{dataTransfer:0}),mu=Ye(Ir),gu=S({},ws,{relatedTarget:0}),Cr=Ye(gu),ko=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Ye(ko),ha=S({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Ye(ha),_u=S({},Gi,{data:0}),Ii=Ye(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Is(){return bu}var un=S({},ws,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Ye(un),Au=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ye(Au),u=S({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),m=Ye(u),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ye(v),L=S({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(L),tt=S({},Gi,{newState:0,oldState:0}),Ct=Ye(tt),Se=[9,13,27,32],Yt=Ln&&"CompositionEvent"in window,me=null;Ln&&"documentMode"in document&&(me=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!me,Ci=Ln&&(!Yt||me&&8<me&&11>=me),ii=" ",si=!1;function xr(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function $T(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function ZT(e,n){if(da)return e==="compositionend"||!Yt&&xr(e,n)?(e=Oo(),wr=Do=Ai=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function mg(e,n,r,o){Ss?Si?Si.push(o):Si=[o]:Ss=o,n=dc(n,"onChange"),0<n.length&&(r=new wi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Uo=null,Lo=null;function WT(e){$y(e,0)}function wu(e){var n=Tn(e);if(Tr(n))return e}function gg(e,n){if(e==="change")return n}var pg=!1;if(Ln){var Lh;if(Ln){var Ph="oninput"in document;if(!Ph){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Ph=typeof yg.oninput=="function"}Lh=Ph}else Lh=!1;pg=Lh&&(!document.documentMode||9<document.documentMode)}function _g(){Uo&&(Uo.detachEvent("onpropertychange",vg),Lo=Uo=null)}function vg(e){if(e.propertyName==="value"&&wu(Lo)){var n=[];mg(n,Lo,e,Un(e)),As(WT,n)}}function t1(e,n,r){e==="focusin"?(_g(),Uo=n,Lo=r,Uo.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function e1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Lo)}function n1(e,n){if(e==="click")return wu(n)}function i1(e,n){if(e==="input"||e==="change")return wu(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:s1;function Po(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Jt.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,n){var r=Eg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Eg(r)}}function bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=bi(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var r1=Ln&&"documentMode"in document&&11>=document.documentMode,ma=null,jh=null,zo=null,Bh=!1;function Ag(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bh||ma==null||ma!==bi(o)||(o=ma,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=dc(jh,"onSelect"),0<o.length&&(n=new wi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ma)))}function Nr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ga={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},qh={},wg={};Ln&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Dr(e){if(qh[e])return qh[e];if(!ga[e])return e;var n=ga[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in wg)return qh[e]=n[r];return e}var Rg=Dr("animationend"),Ig=Dr("animationiteration"),Cg=Dr("animationstart"),a1=Dr("transitionrun"),o1=Dr("transitionstart"),l1=Dr("transitioncancel"),xg=Dr("transitionend"),Ng=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function ri(e,n){Ng.set(e,n),Ei(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],pa=0,Gh=0;function Iu(){for(var e=pa,n=Gh=pa=0;n<e;){var r=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Dg(r,h,f)}}function Cu(e,n,r,o){zn[pa++]=e,zn[pa++]=n,zn[pa++]=r,zn[pa++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,n,r,o){return Cu(e,n,r,o),xu(e)}function Or(e,n){return Cu(e,null,null,n),xu(e)}function Dg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function xu(e){if(50<ol)throw ol=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function u1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,r,o){return new u1(e,n,r,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var r=e.alternate;return r===null?(r=An(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Og(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=mb(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=An(31,r,n,h),e.elementType=C,e.lanes=f,e;case st:return Mr(r.children,h,f,n);case nt:g=8,h|=24;break;case yt:return e=An(12,r,n,h|2),e.elementType=yt,e.lanes=f,e;case ne:return e=An(13,r,n,h),e.elementType=ne,e.lanes=f,e;case Ot:return e=An(19,r,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case It:g=9;break t;case Dt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=An(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Mr(e,n,r,o){return e=An(7,e,o,n),e.lanes=r,e}function Kh(e,n,r){return e=An(6,e,null,n),e.lanes=r,e}function Mg(e){var n=An(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,r){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vg=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var r=Vg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Mn(n)},Vg.set(e,n),n)}return{value:e,source:n,stack:Mn(n)}}var _a=[],va=0,Du=null,jo=0,Bn=[],qn=0,Cs=null,xi=1,Ni="";function Ki(e,n){_a[va++]=jo,_a[va++]=Du,Du=e,jo=n}function kg(e,n,r){Bn[qn++]=xi,Bn[qn++]=Ni,Bn[qn++]=Cs,Cs=e;var o=xi;e=Ni;var h=32-be(o)-1;o&=~(1<<h),r+=1;var f=32-be(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,xi=1<<32-be(n)+h|r<<h|o,Ni=f+e}else xi=1<<f|r<<h|o,Ni=e}function Xh(e){e.return!==null&&(Ki(e,1),kg(e,1,0))}function $h(e){for(;e===Du;)Du=_a[--va],_a[va]=null,jo=_a[--va],_a[va]=null;for(;e===Cs;)Cs=Bn[--qn],Bn[qn]=null,Ni=Bn[--qn],Bn[qn]=null,xi=Bn[--qn],Bn[qn]=null}function Ug(e,n){Bn[qn++]=xi,Bn[qn++]=Ni,Bn[qn++]=Cs,xi=n.id,Ni=n.overflow,Cs=e}var Xe=null,ce=null,qt=!1,xs=null,Hn=!1,Zh=Error(a(519));function Ns(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(jn(n,e)),Zh}function Lg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[xe]=e,n[He]=o,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<ul.length;r++)Vt(ul[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||t_(n.textContent,r)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Ns(e,!0)}function Pg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xe=Xe.return}}function Ea(e){if(e!==Xe)return!1;if(!qt)return Pg(e),qt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||pd(e.type,e.memoizedProps)),r=!r),r&&ce&&Ns(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=u_(e)}else n===27?(n=ce,Gs(e.type)?(e=Td,Td=null,ce=e):ce=n):ce=Xe?Fn(e.stateNode.nextSibling):null;return!0}function Vr(){ce=Xe=null,qt=!1}function Jh(){var e=xs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),xs=null),e}function Bo(e){xs===null?xs=[e]:xs.push(e)}var Wh=O(null),kr=null,Yi=null;function Ds(e,n,r){it(Wh,n._currentValue),n._currentValue=r}function Xi(e){e._currentValue=Wh.current,K(Wh)}function tf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function ef(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),tf(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),tf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===J.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&ef(n,e,r,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){kr=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return zg(kr,e)}function Mu(e,n){return kr===null&&Ur(e),zg(e,n)}function zg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return r}var c1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},h1=s.unstable_scheduleCallback,f1=s.unstable_NormalPriority,Oe={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new c1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&h1(f1,function(){e.controller.abort()})}var Ho=null,sf=0,ba=0,Sa=null;function d1(e,n){if(Ho===null){var r=Ho=[];sf=0,ba=od(),Sa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return sf++,n.then(jg,jg),n}function jg(){if(--sf===0&&Ho!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ho;Ho=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Bg=G.S;G.S=function(e,n){Ay=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&d1(e,n),Bg!==null&&Bg(e,n)};var Lr=O(null);function rf(){var e=Lr.current;return e!==null?e:le.pooledCache}function Vu(e,n){n===null?it(Lr,Lr.current):it(Lr,n.pool)}function qg(){var e=rf();return e===null?null:{parent:Oe._currentValue,pool:e}}var Aa=Error(a(460)),af=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ti,ti),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e}throw zr=n,Aa}}function Pr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zr=r,Aa):r}}var zr=null;function Fg(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function Qg(e){if(e===Aa||e===ku)throw Error(a(483))}var wa=null,Go=0;function Lu(e){var n=Go;return Go+=1,wa===null&&(wa=[]),Gg(wa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kg(e){function n(U,N){if(e){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function r(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Qi(U,N),U.index=0,U.sibling=null,U}function f(U,N,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,P,Q){return N===null||N.tag!==6?(N=Kh(P,U.mode,Q),N.return=U,N):(N=h(N,P),N.return=U,N)}function R(U,N,P,Q){var mt=P.type;return mt===st?F(U,N,P.props.children,Q,P.key):N!==null&&(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Pr(mt)===N.type)?(N=h(N,P.props),Fo(N,P),N.return=U,N):(N=Nu(P.type,P.key,P.props,null,U.mode,Q),Fo(N,P),N.return=U,N)}function z(U,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Yh(P,U.mode,Q),N.return=U,N):(N=h(N,P.children||[]),N.return=U,N)}function F(U,N,P,Q,mt){return N===null||N.tag!==7?(N=Mr(P,U.mode,Q,mt),N.return=U,N):(N=h(N,P),N.return=U,N)}function Y(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Kh(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=Nu(N.type,N.key,N.props,null,U.mode,P),Fo(P,N),P.return=U,P;case W:return N=Yh(N,U.mode,P),N.return=U,N;case A:return N=Pr(N),Y(U,N,P)}if(Te(N)||k(N))return N=Mr(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return Y(U,Lu(N),P);if(N.$$typeof===_t)return Y(U,Mu(U,N),P);Pu(U,N)}return null}function j(U,N,P,Q){var mt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:E(U,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===mt?R(U,N,P,Q):null;case W:return P.key===mt?z(U,N,P,Q):null;case A:return P=Pr(P),j(U,N,P,Q)}if(Te(P)||k(P))return mt!==null?null:F(U,N,P,Q,null);if(typeof P.then=="function")return j(U,N,Lu(P),Q);if(P.$$typeof===_t)return j(U,N,Mu(U,P),Q);Pu(U,P)}return null}function q(U,N,P,Q,mt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(N,U,""+Q,mt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return U=U.get(Q.key===null?P:Q.key)||null,R(N,U,Q,mt);case W:return U=U.get(Q.key===null?P:Q.key)||null,z(N,U,Q,mt);case A:return Q=Pr(Q),q(U,N,P,Q,mt)}if(Te(Q)||k(Q))return U=U.get(P)||null,F(N,U,Q,mt,null);if(typeof Q.then=="function")return q(U,N,P,Lu(Q),mt);if(Q.$$typeof===_t)return q(U,N,P,Mu(N,Q),mt);Pu(N,Q)}return null}function lt(U,N,P,Q){for(var mt=null,Ft=null,ct=N,Nt=N=0,Lt=null;ct!==null&&Nt<P.length;Nt++){ct.index>Nt?(Lt=ct,ct=null):Lt=ct.sibling;var Qt=j(U,ct,P[Nt],Q);if(Qt===null){ct===null&&(ct=Lt);break}e&&ct&&Qt.alternate===null&&n(U,ct),N=f(Qt,N,Nt),Ft===null?mt=Qt:Ft.sibling=Qt,Ft=Qt,ct=Lt}if(Nt===P.length)return r(U,ct),qt&&Ki(U,Nt),mt;if(ct===null){for(;Nt<P.length;Nt++)ct=Y(U,P[Nt],Q),ct!==null&&(N=f(ct,N,Nt),Ft===null?mt=ct:Ft.sibling=ct,Ft=ct);return qt&&Ki(U,Nt),mt}for(ct=o(ct);Nt<P.length;Nt++)Lt=q(ct,U,Nt,P[Nt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ct.delete(Lt.key===null?Nt:Lt.key),N=f(Lt,N,Nt),Ft===null?mt=Lt:Ft.sibling=Lt,Ft=Lt);return e&&ct.forEach(function(Xs){return n(U,Xs)}),qt&&Ki(U,Nt),mt}function pt(U,N,P,Q){if(P==null)throw Error(a(151));for(var mt=null,Ft=null,ct=N,Nt=N=0,Lt=null,Qt=P.next();ct!==null&&!Qt.done;Nt++,Qt=P.next()){ct.index>Nt?(Lt=ct,ct=null):Lt=ct.sibling;var Xs=j(U,ct,Qt.value,Q);if(Xs===null){ct===null&&(ct=Lt);break}e&&ct&&Xs.alternate===null&&n(U,ct),N=f(Xs,N,Nt),Ft===null?mt=Xs:Ft.sibling=Xs,Ft=Xs,ct=Lt}if(Qt.done)return r(U,ct),qt&&Ki(U,Nt),mt;if(ct===null){for(;!Qt.done;Nt++,Qt=P.next())Qt=Y(U,Qt.value,Q),Qt!==null&&(N=f(Qt,N,Nt),Ft===null?mt=Qt:Ft.sibling=Qt,Ft=Qt);return qt&&Ki(U,Nt),mt}for(ct=o(ct);!Qt.done;Nt++,Qt=P.next())Qt=q(ct,U,Nt,Qt.value,Q),Qt!==null&&(e&&Qt.alternate!==null&&ct.delete(Qt.key===null?Nt:Qt.key),N=f(Qt,N,Nt),Ft===null?mt=Qt:Ft.sibling=Qt,Ft=Qt);return e&&ct.forEach(function(wb){return n(U,wb)}),qt&&Ki(U,Nt),mt}function ae(U,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var mt=P.key;N!==null;){if(N.key===mt){if(mt=P.type,mt===st){if(N.tag===7){r(U,N.sibling),Q=h(N,P.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Pr(mt)===N.type){r(U,N.sibling),Q=h(N,P.props),Fo(Q,P),Q.return=U,U=Q;break t}r(U,N);break}else n(U,N);N=N.sibling}P.type===st?(Q=Mr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Nu(P.type,P.key,P.props,null,U.mode,Q),Fo(Q,P),Q.return=U,U=Q)}return g(U);case W:t:{for(mt=P.key;N!==null;){if(N.key===mt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(U,N.sibling),Q=h(N,P.children||[]),Q.return=U,U=Q;break t}else{r(U,N);break}else n(U,N);N=N.sibling}Q=Yh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case A:return P=Pr(P),ae(U,N,P,Q)}if(Te(P))return lt(U,N,P,Q);if(k(P)){if(mt=k(P),typeof mt!="function")throw Error(a(150));return P=mt.call(P),pt(U,N,P,Q)}if(typeof P.then=="function")return ae(U,N,Lu(P),Q);if(P.$$typeof===_t)return ae(U,N,Mu(U,P),Q);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(U,N.sibling),Q=h(N,P),Q.return=U,U=Q):(r(U,N),Q=Kh(P,U.mode,Q),Q.return=U,U=Q),g(U)):r(U,N)}return function(U,N,P,Q){try{Go=0;var mt=ae(U,N,P,Q);return wa=null,mt}catch(ct){if(ct===Aa||ct===ku)throw ct;var Ft=An(29,ct,null,U.mode);return Ft.lanes=Q,Ft.return=U,Ft}}}var jr=Kg(!0),Yg=Kg(!1),Os=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Dg(e,null,r),n}return Cu(e,o,n,r),xu(e)}function Qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}function uf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var cf=!1;function Ko(){if(cf){var e=Sa;if(e!==null)throw e}}function Yo(e,n,r,o){cf=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===ba&&(cf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var ae=r;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Y=lt.call(ae,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(ae,Y,j):lt,j==null)break t;Y=S({},Y,j);break t;case 2:Os=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=Y}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Xg(r[e],n)}var Ra=O(null),zu=O(0);function Zg(e,n){e=ss,it(zu,e),it(Ra,n),ss=e|n.baseLanes}function hf(){it(zu,ss),it(Ra,Ra.current)}function ff(){ss=zu.current,K(Ra),K(zu)}var wn=O(null),Gn=null;function ks(e){var n=e.alternate;it(Ae,Ae.current&1),it(wn,e),Gn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Gn=e)}function df(e){it(Ae,Ae.current),it(wn,e),Gn===null&&(Gn=e)}function Jg(e){e.tag===22?(it(Ae,Ae.current),it(wn,e),Gn===null&&(Gn=e)):Us()}function Us(){it(Ae,Ae.current),it(wn,wn.current)}function Rn(e){K(wn),Gn===e&&(Gn=null),K(Ae)}var Ae=O(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||vd(r)||Ed(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,xt=null,se=null,Me=null,Bu=!1,Ia=!1,Br=!1,qu=0,Xo=0,Ca=null,g1=0;function ve(){throw Error(a(321))}function mf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Sn(e[r],n[r]))return!1;return!0}function gf(e,n,r,o,h,f){return $i=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?kp:Nf,Br=!1,f=r(o,h),Br=!1,Ia&&(f=tp(n,r,o,h)),Wg(e),f}function Wg(e){G.H=Jo;var n=se!==null&&se.next!==null;if($i=0,Me=se=xt=null,Bu=!1,Xo=0,Ca=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&Ou(e)&&(Ve=!0))}function tp(e,n,r,o){xt=e;var h=0;do{if(Ia&&(Ca=null),Xo=0,Ia=!1,25<=h)throw Error(a(301));if(h+=1,Me=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Up,f=n(r,o)}while(Ia);return f}function p1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(xt.flags|=1024),n}function pf(){var e=qu!==0;return qu=0,e}function yf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function _f(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}$i=0,Me=se=xt=null,Ia=!1,Xo=qu=0,Ca=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?xt.memoizedState=Me=e:Me=Me.next=e,Me}function we(){if(se===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Me===null?xt.memoizedState:Me.next;if(n!==null)Me=n,se=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Me===null?xt.memoizedState=Me=e:Me=Me.next=e}return Me}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Ca===null&&(Ca=[]),e=Gg(Ca,e,n),n=xt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?kp:Nf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===_t)return $e(e)}throw Error(a(438,String(e)))}function vf(e){var n=null,r=xt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),xt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Zi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=we();return Ef(n,se,e)}function Ef(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ut&Y)===Y:($i&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ba&&(F=!0);else if(($i&j)===j){z=z.next,j===ba&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,xt.lanes|=j,zs|=j;Y=z.action,Br&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,xt.lanes|=Y,zs|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!Sn(f,e.memoizedState)&&(Ve=!0,F&&(r=Sa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Tf(e){var n=we(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ep(e,n,r){var o=xt,h=we(),f=qt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Sn((se||h).memoizedState,r);if(g&&(h.memoizedState=r,Ve=!0),h=h.queue,Af(sp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},ip.bind(null,o,h,r,n),null),le===null)throw Error(a(349));f||($i&127)!==0||np(o,n,r)}return r}function np(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=xt.updateQueue,n===null?(n=Hu(),xt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ip(e,n,r,o){n.value=r,n.getSnapshot=o,rp(n)&&ap(e)}function sp(e,n,r){return r(function(){rp(n)&&ap(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Sn(e,r)}catch{return!0}}function ap(e){var n=Or(e,2);n!==null&&_n(n,e,2)}function bf(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Br){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function op(e,n,r,o){return e.baseState=r,Ef(e,se,typeof o=="function"?o:Zi)}function y1(e,n,r,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,lp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),R=G.S;R!==null&&R(g,E),up(e,n,E)}catch(z){Sf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),up(e,n,f)}catch(z){Sf(e,n,z)}}function up(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){cp(e,n,o)},function(o){return Sf(e,n,o)}):cp(e,n,r)}function cp(e,n,r){n.status="fulfilled",n.value=r,hp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,lp(e,r)))}function Sf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,hp(n),n=n.next;while(n!==o)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function dp(e,n){if(qt){var r=le.formState;if(r!==null){t:{var o=xt;if(qt){if(ce){e:{for(var h=ce,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Fn(h.nextSibling),o=h.data==="F!";break t}}Ns(o)}o=!1}o&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},r.queue=o,r=Op.bind(null,xt,o),o.dispatch=r,o=bf(!1),f=xf.bind(null,xt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=y1.bind(null,xt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function mp(e){var n=we();return gp(n,se,e)}function gp(e,n,r){if(n=Ef(e,n,fp)[0],e=Fu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Aa?ku:g}else o=n;n=we();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(xt.flags|=2048,xa(9,{destroy:void 0},_1.bind(null,h,r),null)),[o,f,e]}function _1(e,n){e.action=n}function pp(e){var n=we(),r=se;if(r!==null)return gp(n,r,e);we(),n=n.memoizedState,r=we();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function xa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Hu(),xt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function yp(){return we().memoizedState}function Qu(e,n,r,o){var h=cn();xt.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ku(e,n,r,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&mf(o,se.memoizedState.deps)?h.memoizedState=xa(n,f,r,o):(xt.flags|=e,h.memoizedState=xa(1|n,f,r,o))}function _p(e,n){Qu(8390656,8,e,n)}function Af(e,n){Ku(2048,8,e,n)}function v1(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=Hu(),xt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function vp(e){var n=we().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(e,n){return Ku(4,2,e,n)}function Tp(e,n){return Ku(4,4,e,n)}function bp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sp(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,bp.bind(null,n,e),r)}function wf(){}function Ap(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function wp(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Br){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[o,n],o}function Rf(e,n,r){return r===void 0||($i&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ry(),xt.lanes|=e,zs|=e,r)}function Rp(e,n,r,o){return Sn(r,n)?r:Ra.current!==null?(e=Rf(e,r,o),Sn(e,n)||(Ve=!0),e):($i&42)===0||($i&1073741824)!==0&&(Ut&261930)===0?(Ve=!0,e.memoizedState=r):(e=Ry(),xt.lanes|=e,zs|=e,n)}function Ip(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,xf(e,!1,n,r);try{var R=h(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=m1(R,o);Zo(e,n,F,xn(e))}else Zo(e,n,o,xn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},xn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function E1(){}function If(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Cp(e).queue;Ip(e,h,n,ft,r===null?E1:function(){return xp(e),r(o)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xp(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},xn())}function Cf(){return $e(ml)}function Np(){return we().memoizedState}function Dp(){return we().memoizedState}function T1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=xn();e=Ms(r);var o=Vs(n,e,r);o!==null&&(_n(o,n,r),Qo(o,n,r)),n={cache:nf()},e.payload=n;return}n=n.return}}function b1(e,n,r){var o=xn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Mp(n,r):(r=Fh(e,n,r,o),r!==null&&(_n(r,e,o),Vp(r,n,o)))}function Op(e,n,r){var o=xn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,g))return Cu(e,n,h,0),le===null&&Iu(),!1}catch{}if(r=Fh(e,n,h,o),r!==null)return _n(r,e,o),Vp(r,n,o),!0}return!1}function xf(e,n,r,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Fh(e,r,o,2),n!==null&&_n(n,e,2)}function Yu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Mp(e,n){Ia=Bu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Vp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}var Jo={readContext:$e,use:Gu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Jo.useEffectEvent=ve;var kp={readContext:$e,use:Gu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:_p,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Qu(4194308,4,bp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var o=e();if(Br){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=cn();if(r!==void 0){var h=r(n);if(Br){Vn(!0);try{r(n)}finally{Vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,r=Op.bind(null,xt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:wf,useDeferredValue:function(e,n){var r=cn();return Rf(r,e,n)},useTransition:function(){var e=bf(!1);return e=Ip.bind(null,xt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=xt,h=cn();if(qt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),le===null)throw Error(a(349));(Ut&127)!==0||np(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,_p(sp.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},ip.bind(null,o,f,r,n),null),r},useId:function(){var e=cn(),n=le.identifierPrefix;if(qt){var r=Ni,o=xi;r=(o&~(1<<32-be(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=g1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:dp,useActionState:dp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xf.bind(null,xt,!0,r),r.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return cn().memoizedState=T1.bind(null,xt)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Xt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Nf={readContext:$e,use:Gu,useCallback:Ap,useContext:$e,useEffect:Af,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Fu,useRef:yp,useState:function(){return Fu(Zi)},useDebugValue:wf,useDeferredValue:function(e,n){var r=we();return Rp(r,se.memoizedState,e,n)},useTransition:function(){var e=Fu(Zi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:Cf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var r=we();return op(r,se,e,n)},useMemoCache:vf,useCacheRefresh:Dp};Nf.useEffectEvent=vp;var Up={readContext:$e,use:Gu,useCallback:Ap,useContext:$e,useEffect:Af,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Tf,useRef:yp,useState:function(){return Tf(Zi)},useDebugValue:wf,useDeferredValue:function(e,n){var r=we();return se===null?Rf(r,e,n):Rp(r,se.memoizedState,e,n)},useTransition:function(){var e=Tf(Zi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:Cf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var r=we();return se!==null?op(r,se,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Dp};Up.useEffectEvent=vp;function Df(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Of={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=xn(),h=Ms(o);h.payload=n,r!=null&&(h.callback=r),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=xn(),h=Ms(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=xn(),o=Ms(r);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,r),n!==null&&(_n(n,e,r),Qo(n,e,r))}};function Lp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(r,o)||!Po(h,f):!0}function Pp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function qr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function zp(e){Ru(e)}function jp(e){console.error(e)}function Bp(e){Ru(e)}function Xu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,r){return r=Ms(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(e,n)},r}function Hp(e){return e=Ms(e),e.tag=3,e}function Gp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,r,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function S1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ta(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?oc():r.alternate===null&&Ee===0&&(Ee=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),sd(e,o,h)),!1}throw Error(a(435,r.tag))}return sd(e,o,h),oc(),!1}if(qt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),Bo(jn(e,r)))):(o!==Zh&&(n=Error(a(423),{cause:o}),Bo(jn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=jn(o,r),h=Mf(e.stateNode,o,h),uf(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:o});if(f=jn(f,r),al===null?al=[f]:al.push(f),Ee!==4&&(Ee=2),n===null)return!0;o=jn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Mf(r.stateNode,o,e),uf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Hp(h),Gp(h,e,r,o),uf(r,h),!1}r=r.return}while(r!==null);return!1}var Vf=Error(a(461)),Ve=!1;function Ze(e,n,r,o){n.child=e===null?Yg(n,null,r,o):jr(n,e.child,r,o)}function Fp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ur(n),o=gf(e,n,r,g,f,h),E=pf(),e!==null&&!Ve?(yf(e,n,h),Ji(e,n,h)):(qt&&E&&Xh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function Qp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kp(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return kf(e,n,r,o,h)}function Yp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):hf(),Jg(n);else return o=n.lanes=536870912,Xp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),Zg(n,f),Us(),n.memoizedState=null):(e!==null&&Vu(n,null),hf(),Us());return Ze(e,n,h,r),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(e,n,r,o,h){var f=rf();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),hf(),Jg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,r){return jr(n,e.child,null,r),e=$u(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function A1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,Wo(null,e);if(df(n),(e=ce)?(e=l_(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:xi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},r=Mg(e),r.return=n,n.child=r,Xe=n,ce=null)):e=null,e===null)throw Ns(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Ta(e,n,r,!1),h=(r&e.childLanes)!==0,Ve||h){if(o=le,o!==null&&(g=Eo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Or(e,g),_n(o,e,g),Vf;oc(),n=$p(e,n,r)}else e=f.treeContext,ce=Fn(g.nextSibling),Xe=n,qt=!0,xs=null,Hn=!1,e!==null&&Ug(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function kf(e,n,r,o,h){return Ur(n),r=gf(e,n,r,o,void 0,h),o=pf(),e!==null&&!Ve?(yf(e,n,h),Ji(e,n,h)):(qt&&o&&Xh(n),n.flags|=1,Ze(e,n,r,h),n.child)}function Zp(e,n,r,o,h,f){return Ur(n),n.updateQueue=null,r=tp(n,o,r,h),Wg(e),o=pf(),e!==null&&!Ve?(yf(e,n,f),Ji(e,n,f)):(qt&&o&&Xh(n),n.flags|=1,Ze(e,n,r,f),n.child)}function Jp(e,n,r,o,h){if(Ur(n),n.stateNode===null){var f=ya,g=r.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?$e(g):ya,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Df(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=qr(r,E);f.props=R;var z=f.context,F=r.contextType;g=ya,typeof F=="object"&&F!==null&&(g=$e(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Pp(n,f,o,g),Os=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),z=n.memoizedState,E||j!==z||Os?(typeof Y=="function"&&(Df(n,r,Y,o),z=n.memoizedState),(R=Os||Lp(n,r,R,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),g=n.memoizedProps,F=qr(r,g),f.props=F,Y=n.pendingProps,j=f.context,z=r.contextType,R=ya,typeof z=="object"&&z!==null&&(R=$e(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Pp(n,f,o,R),Os=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==Y||j!==q||Os||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Df(n,r,E,o),q=n.memoizedState),(F=Os||Lp(n,r,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,r,h)):Ze(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function Wp(e,n,r,o){return Vr(),n.flags|=256,Ze(e,n,r,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:qg()}}function Pf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Cn),e}function ty(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?ks(n):Us(),(e=ce)?(e=l_(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:xi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},r=Mg(e),r.return=n,n.child=r,Xe=n,ce=null)):e=null,e===null)throw Ns(n);return Ed(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Mr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Lf(r),o.childLanes=Pf(e,g,r),n.memoizedState=Uf,Wo(null,o)):(ks(n),zf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=jf(e,n,r)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Mr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,jr(n,e.child,null,r),o=n.child,o.memoizedState=Lf(r),o.childLanes=Pf(e,g,r),n.memoizedState=Uf,n=Wo(null,o));else if(ks(n),Ed(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=jf(e,n,r)}else if(Ve||Ta(e,n,r,!1),g=(r&e.childLanes)!==0,Ve||g){if(g=le,g!==null&&(o=Eo(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Or(e,o),_n(g,e,o),Vf;vd(E)||oc(),n=jf(e,n,r)}else vd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ce=Fn(E.nextSibling),Xe=n,qt=!0,xs=null,Hn=!1,e!==null&&Ug(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=Mr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Lf(r):(h=E.cachePool,h!==null?(R=Oe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Pf(e,g,r),n.memoizedState=Uf,Wo(e.child,o)):(ks(n),r=e.child,e=r.sibling,r=Qi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function zf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=An(22,e,null,n),e.lanes=0,e}function jf(e,n,r){return jr(n,e.child,null,r),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,r)}function Bf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ny(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Ae,g),Ze(e,n,o,r),o=qt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,r,n);else if(e.tag===19)ey(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ju(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Bf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Bf(n,!0,r,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ta(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Qi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Qi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function w1(e,n,r){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),Ds(n,Oe,e.memoizedState.cache),Vr();break;case 27:case 5:Gt(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ty(e,n,r):(ks(n),e=Ji(e,n,r),e!==null?e.sibling:null);ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ta(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ny(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,r,n.pendingProps);case 24:Ds(n,Oe,e.memoizedState.cache)}return Ji(e,n,r)}function iy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!qf(e,r)&&(n.flags&128)===0)return Ve=!1,w1(e,n,r);Ve=(e.flags&131072)!==0}else Ve=!1,qt&&(n.flags&1048576)!==0&&kg(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Pr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=qr(e,o),n.tag=1,n=Jp(null,n,e,o,r)):(n.tag=0,n=kf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Dt){n.tag=11,n=Fp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Qp(null,n,e,o,r);break t}}throw n=ue(e)||e,Error(a(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=qr(o,n.pendingProps),Jp(e,n,o,h,r);case 3:t:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Yo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ds(n,Oe,o),o!==f.cache&&ef(n,[Oe],r,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(e,n,o,r);break t}else if(o!==h){h=jn(Error(a(424)),n),Bo(h),n=Wp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Fn(e.firstChild),Xe=n,qt=!0,xs=null,Hn=!0,r=Yg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Vr(),o===h){n=Ji(e,n,r);break t}Ze(e,n,o,r)}n=n.child}return n;case 26:return Zu(e,n),e===null?(r=m_(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,e=n.pendingProps,o=mc($.current).createElement(r),o[xe]=n,o[He]=e,Je(o,r,e),Ne(o),n.stateNode=o):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Gt(n),e===null&&qt&&(o=n.stateNode=h_(n.type,n.pendingProps,$.current),Xe=n,Hn=!0,h=ce,Gs(n.type)?(Td=h,ce=Fn(o.firstChild)):ce=h),Ze(e,n,n.pendingProps.children,r),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=ce)&&(o=eb(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Xe=n,ce=Fn(o.firstChild),Hn=!1,h=!0):h=!1),h||Ns(n)),Gt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,p1,null,null,r),ml._currentValue=h),Zu(e,n),Ze(e,n,o,r),n.child;case 6:return e===null&&qt&&((e=r=ce)&&(r=nb(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Xe=n,ce=null,e=!0):e=!1),e||Ns(n)),null;case 13:return ty(e,n,r);case 4:return at(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,r):Ze(e,n,o,r),n.child;case 11:return Fp(e,n,n.type,n.pendingProps,r);case 7:return Ze(e,n,n.pendingProps,r),n.child;case 8:return Ze(e,n,n.pendingProps.children,r),n.child;case 12:return Ze(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Ze(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ur(n),h=$e(h),o=o(h),n.flags|=1,Ze(e,n,o,r),n.child;case 14:return Qp(e,n,n.type,n.pendingProps,r);case 15:return Kp(e,n,n.type,n.pendingProps,r);case 19:return ny(e,n,r);case 31:return A1(e,n,r);case 22:return Yp(e,n,r,n.pendingProps);case 24:return Ur(n),o=$e(Oe),e===null?(h=rf(),h===null&&(h=le,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},of(n),Ds(n,Oe,h)):((e.lanes&r)!==0&&(lf(e,n),Yo(n,null,null,r),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Oe,o)):(o=f.cache,Ds(n,Oe,o),o!==h.cache&&ef(n,[Oe],r,!0))),Ze(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function Hf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw zr=Uu,af}else e.flags&=-16777217}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Ny())e.flags|=8192;else throw zr=Uu,af}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ma|=n)}function tl(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function R1(e,n,r){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Oe),dt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),he(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(he(n),sy(n,f)):(he(n),Hf(n,h,null,o,r))):f?f!==e.memoizedState?(Wi(n),he(n),sy(n,f)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),he(n),Hf(n,h,e,o,r)),null;case 27:if(Bt(n),r=$.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}e=rt.current,Ea(n)?Lg(n):(e=h_(h,o,r),n.stateNode=e,Wi(n))}return he(n),null;case 5:if(Bt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(f=rt.current,Ea(n))Lg(n);else{var g=mc($.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[xe]=n,f[He]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return he(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=$.current,Ea(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[xe]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||t_(e.nodeValue,r)),e||Ns(n,!0)}else e=mc(e).createTextNode(o),e[xe]=n,n.stateNode=e}return he(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xe]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else r=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return he(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),he(n),null);case 4:return dt(),e===null&&hd(n.stateNode.containerInfo),he(n),null;case 10:return Xi(n.type),he(n),null;case 19:if(K(Ae),o=n.memoizedState,o===null)return he(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Og(r,e),r=r.sibling;return it(Ae,Ae.current&1|2),qt&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>sc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return he(n),null}else 2*ln()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,r=Ae.current,it(Ae,h?r&1|2:r&1),qt&&Ki(n,o.treeForkCount),e):(he(n),null);case 22:case 23:return Rn(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Lr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Oe),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function I1(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Oe),dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Bt(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ae),null;case 4:return dt(),null;case 10:return Xi(n.type),null;case 22:case 23:return Rn(n),ff(),e!==null&&K(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Oe),null;case 25:return null;default:return null}}function ry(e,n){switch($h(n),n.tag){case 3:Xi(Oe),dt();break;case 26:case 27:case 5:Bt(n);break;case 4:dt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:K(Ae);break;case 10:Xi(n.type);break;case 22:case 23:Rn(n),ff(),e!==null&&K(Lr);break;case 24:Xi(Oe)}}function el(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){ee(n,n.return,E)}}function Ls(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(F){ee(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){ee(n,n.return,F)}}function ay(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{$g(n,r)}catch(o){ee(e,e.return,o)}}}function oy(e,n,r){r.props=qr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){ee(e,n,o)}}function nl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){ee(e,n,h)}}function Di(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ee(e,n,h)}else r.current=null}function ly(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ee(e,e.return,h)}}function Gf(e,n,r){try{var o=e.stateNode;X1(o,e.type,r,n),o[He]=n}catch(h){ee(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Gs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,r),e=e.sibling;e!==null;)Qf(e,n,r),e=e.sibling}function tc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function cy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,r),n[xe]=e,n[He]=r}catch(f){ee(e,e.return,f)}}var ts=!1,ke=!1,Kf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function C1(e,n){if(e=e.containerInfo,md=Tc,e=Sg(e),zh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++F===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:e,selectionRange:r},Tc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=qr(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){ee(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)_d(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function fy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ns(e,r),o&4&&el(5,r);break;case 1:if(ns(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){ee(r,r.return,g)}else{var h=qr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ee(r,r.return,g)}}o&64&&ay(r),o&512&&nl(r,r.return);break;case 3:if(ns(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{$g(e,n)}catch(g){ee(r,r.return,g)}}break;case 27:n===null&&o&4&&cy(r);case 26:case 5:ns(e,r),n===null&&o&4&&ly(r),o&512&&nl(r,r.return);break;case 12:ns(e,r);break;case 31:ns(e,r),o&4&&gy(e,r);break;case 13:ns(e,r),o&4&&py(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=L1.bind(null,r),ib(e,r))));break;case 22:if(o=r.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||ke,h=ts;var f=ke;ts=o,(ke=n)&&!f?is(e,r,(r.subtreeFlags&8772)!==0):ns(e,r),ts=h,ke=f}break;case 30:break;default:ns(e,r)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,mn=!1;function es(e,n,r){for(r=r.child;r!==null;)my(e,n,r),r=r.sibling}function my(e,n,r){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount($n,r)}catch{}switch(r.tag){case 26:ke||Di(r,n),es(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ke||Di(r,n);var o=ge,h=mn;Gs(r.type)&&(ge=r.stateNode,mn=!1),es(e,n,r),hl(r.stateNode),ge=o,mn=h;break;case 5:ke||Di(r,n);case 6:if(o=ge,h=mn,ge=null,es(e,n,r),ge=o,mn=h,ge!==null)if(mn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(r.stateNode)}catch(f){ee(r,n,f)}else try{ge.removeChild(r.stateNode)}catch(f){ee(r,n,f)}break;case 18:ge!==null&&(mn?(e=ge,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ba(e)):a_(ge,r.stateNode));break;case 4:o=ge,h=mn,ge=r.stateNode.containerInfo,mn=!0,es(e,n,r),ge=o,mn=h;break;case 0:case 11:case 14:case 15:Ls(2,r,n),ke||Ls(4,r,n),es(e,n,r);break;case 1:ke||(Di(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&oy(r,n,o)),es(e,n,r);break;case 21:es(e,n,r);break;case 22:ke=(o=ke)||r.memoizedState!==null,es(e,n,r),ke=o;break;default:es(e,n,r)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(r){ee(n,n.return,r)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(r){ee(n,n.return,r)}}function x1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var r=x1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=P1.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){ge=E.stateNode,mn=!1;break t}break;case 5:ge=E.stateNode,mn=!1;break t;case 3:case 4:ge=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(ge===null)throw Error(a(160));my(f,g,h),ge=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var ai=null;function yy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(Ls(3,e,e.return),el(3,e),Ls(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(ke||r===null||Di(r,r.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ai;if(gn(n,e),pn(e),o&512&&(ke||r===null||Di(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,r),f[xe]=e,Ne(f),o=f;break t;case"link":var g=y_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;case"meta":if(g=y_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[xe]=e,Ne(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=p_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?__(h,e.type,e.stateNode):p_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,r.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(ke||r===null||Di(r,r.return)),r!==null&&o&4&&Gf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(ke||r===null||Di(r,r.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(lt){ee(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){ee(e,e.return,lt)}}break;case 3:if(yc=null,h=ai,ai=gc(n.containerInfo),gn(n,e),ai=h,pn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(lt){ee(e,e.return,lt)}Kf&&(Kf=!1,_y(e));break;case 4:o=ai,ai=gc(e.stateNode.containerInfo),gn(n,e),pn(e),ai=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=ts,F=ke;if(ts=z||h,ke=F||R,gn(n,e),ke=F,ts=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||ts||ke||Hr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){ee(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){ee(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?o_(q,!0):o_(R.stateNode,!1)}catch(lt){ee(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ec(e,r))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(uy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Ff(e);tc(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(dn(g,""),r.flags&=-33);var E=Ff(e);tc(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Ff(e);Qf(e,z,R);break;default:throw Error(a(161))}}catch(F){ee(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:Di(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&oy(n,n.return,r),Hr(n);break;case 27:hl(n.stateNode);case 26:case 5:Di(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function is(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,r),el(4,f);break;case 1:if(is(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Xg(R[h],E)}catch(z){ee(o,o.return,z)}}r&&g&64&&ay(f),nl(f,f.return);break;case 27:cy(f);case 26:case 5:is(h,f,r),r&&o===null&&g&4&&ly(f),nl(f,f.return);break;case 12:is(h,f,r);break;case 31:is(h,f,r),r&&g&4&&gy(h,f);break;case 13:is(h,f,r),r&&g&4&&py(h,f);break;case 22:f.memoizedState===null&&is(h,f,r),nl(f,f.return);break;case 30:break;default:is(h,f,r)}n=n.sibling}}function Yf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&qo(r))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function oi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,r,o),n=n.sibling}function vy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,r,o),h&2048&&el(9,n);break;case 1:oi(e,n,r,o);break;case 3:oi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){oi(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ee(n,n.return,R)}}else oi(e,n,r,o);break;case 31:oi(e,n,r,o);break;case 13:oi(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(e,n,r,o):il(e,n):f._visibility&2?oi(e,n,r,o):(f._visibility|=2,Na(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:oi(e,n,r,o),h&2048&&Xf(n.alternate,n);break;default:oi(e,n,r,o)}}function Na(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,E,R,h),el(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Na(f,g,E,R,h):il(f,g):(F._visibility|=2,Na(f,g,E,R,h)),h&&z&2048&&Yf(g.alternate,g);break;case 24:Na(f,g,E,R,h),h&&z&2048&&Xf(g.alternate,g);break;default:Na(f,g,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:il(r,o),h&2048&&Yf(o.alternate,o);break;case 24:il(r,o),h&2048&&Xf(o.alternate,o);break;default:il(r,o)}n=n.sibling}}var sl=8192;function Da(e,n,r){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ey(e,n,r),e=e.sibling}function Ey(e,n,r){switch(e.tag){case 26:Da(e,n,r),e.flags&sl&&e.memoizedState!==null&&gb(r,ai,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,r);break;case 3:case 4:var o=ai;ai=gc(e.stateNode.containerInfo),Da(e,n,r),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Da(e,n,r),sl=o):Da(e,n,r));break;default:Da(e,n,r)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,Sy(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):rl(e);break;default:rl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,Sy(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Sy(e,n){for(;Fe!==null;){var r=Fe;switch(r.tag){case 0:case 11:case 15:Ls(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Fe=o;else t:for(r=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(dy(o),o===r){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var N1={getCacheForType:function(e){var n=$e(Oe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return $e(Oe).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Xt=0,le=null,Mt=null,Ut=0,te=0,In=null,Ps=!1,Oa=!1,$f=!1,ss=0,Ee=0,zs=0,Gr=0,Zf=0,Cn=0,Ma=0,al=null,yn=null,Jf=!1,ic=0,Ay=0,sc=1/0,rc=null,js=null,je=0,Bs=null,Va=null,rs=0,Wf=0,td=null,wy=null,ol=0,ed=null;function xn(){return(Xt&2)!==0&&Ut!==0?Ut&-Ut:G.T!==null?od():au()}function Ry(){if(Cn===0)if((Ut&536870912)===0||qt){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function _n(e,n,r){(e===le&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(ka(e,0),qs(e,Ut,Cn,!1)),_r(e,r),((Xt&2)===0||e!==le)&&(e===le&&((Xt&2)===0&&(Gr|=r),Ee===4&&qs(e,Ut,Cn,!1)),Oi(e))}function Iy(e,n,r){if((Xt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),h=o?V1(e,n):id(e,n,!0),f=o;do{if(h===0){Oa&&!o&&qs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!O1(r)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,g).flags|=256),g=id(E,g,!1),g!==2){if($f&&!R){E.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Cn,!Ps);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-ln(),10<h)){if(qs(o,n,Cn,!Ps),mi(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=s_(Cy.bind(null,o,r,yn,rc,Jf,n,Cn,Gr,Ma,Ps,f,"Throttled",-0,0),h);break t}Cy(o,r,yn,rc,Jf,n,Cn,Gr,Ma,Ps,f,null,-0,0)}}break}while(!0);Oi(e)}function Cy(e,n,r,o,h,f,g,E,R,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ey(n,f,Y);var lt=(f&62914560)===f?ic-ln():(f&4194048)===f?Ay-ln():0;if(lt=pb(Y,lt),lt!==null){rs=f,e.cancelPendingCommit=lt(Uy.bind(null,e,n,f,r,o,h,g,E,R,F,Y,null,j,q)),qs(e,f,g,!z);return}}Uy(e,n,f,r,o,h,g,E,R)}function O1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,r,o){n&=~Zf,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&vr(e,r,n)}function ac(){return(Xt&6)===0?(ll(0),!1):!0}function nd(){if(Mt!==null){if(te===0)var e=Mt.return;else e=Mt,Yi=kr=null,_f(e),wa=null,Go=0,e=Mt;for(;e!==null;)ry(e.alternate,e),e=e.return;Mt=null}}function ka(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,J1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),rs=0,nd(),le=e,Mt=r=Qi(e.current,null),Ut=n,te=0,In=null,Ps=!1,Oa=Zn(e,n),$f=!1,Ma=Cn=Zf=Gr=zs=Ee=0,yn=al=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-be(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Iu(),r}function xy(e,n){xt=null,G.H=Jo,n===Aa||n===ku?(n=Fg(),te=3):n===af?(n=Fg(),te=4):te=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Mt===null&&(Ee=1,Xu(e,jn(n,e.current)))}function Ny(){var e=wn.current;return e===null?!0:(Ut&4194048)===Ut?Gn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Gn:!1}function Dy(){var e=G.H;return G.H=Jo,e===null?Jo:e}function Oy(){var e=G.A;return G.A=N1,e}function oc(){Ee=4,Ps||(Ut&4194048)!==Ut&&wn.current!==null||(Oa=!0),(zs&134217727)===0&&(Gr&134217727)===0||le===null||qs(le,Ut,Cn,!1)}function id(e,n,r){var o=Xt;Xt|=2;var h=Dy(),f=Oy();(le!==e||Ut!==n)&&(rc=null,ka(e,n)),n=!1;var g=Ee;t:do try{if(te!==0&&Mt!==null){var E=Mt,R=In;switch(te){case 8:nd(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=te;if(te=0,In=null,Ua(e,E,R,z),r&&Oa){g=0;break t}break;default:z=te,te=0,In=null,Ua(e,E,R,z)}}M1(),g=Ee;break}catch(F){xy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Yi=kr=null,Xt=o,G.H=h,G.A=f,Mt===null&&(le=null,Ut=0,Iu()),g}function M1(){for(;Mt!==null;)My(Mt)}function V1(e,n){var r=Xt;Xt|=2;var o=Dy(),h=Oy();le!==e||Ut!==n?(rc=null,sc=ln()+500,ka(e,n)):Oa=Zn(e,n);t:do try{if(te!==0&&Mt!==null){n=Mt;var f=In;e:switch(te){case 1:te=0,In=null,Ua(e,n,f,1);break;case 2:case 9:if(Hg(f)){te=0,In=null,Vy(n);break}n=function(){te!==2&&te!==9||le!==e||(te=7),Oi(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Hg(f)?(te=0,In=null,Vy(n)):(te=0,In=null,Ua(e,n,f,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var E=Mt;if(g?v_(g):E.stateNode.complete){te=0,In=null;var R=E.sibling;if(R!==null)Mt=R;else{var z=E.return;z!==null?(Mt=z,lc(z)):Mt=null}break e}}te=0,In=null,Ua(e,n,f,5);break;case 6:te=0,In=null,Ua(e,n,f,6);break;case 8:nd(),Ee=6;break t;default:throw Error(a(462))}}k1();break}catch(F){xy(e,F)}while(!0);return Yi=kr=null,G.H=o,G.A=h,Xt=r,Mt!==null?0:(le=null,Ut=0,Iu(),Ee)}function k1(){for(;Mt!==null&&!Oh();)My(Mt)}function My(e){var n=iy(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?lc(e):Mt=n}function Vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Zp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Zp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:_f(n);default:ry(r,n),n=Mt=Og(n,ss),n=iy(r,n,ss)}e.memoizedProps=e.pendingProps,n===null?lc(e):Mt=n}function Ua(e,n,r,o){Yi=kr=null,_f(n),wa=null,Go=0;var h=n.return;try{if(S1(e,h,n,r,Ut)){Ee=1,Xu(e,jn(r,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Ee=1,Xu(e,jn(r,e.current)),Mt=null;return}n.flags&32768?(qt||o===1?e=!0:Oa||(Ut&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ky(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){ky(n,Ps);return}e=n.return;var r=R1(n.alternate,n,ss);if(r!==null){Mt=r;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Ee===0&&(Ee=5)}function ky(e,n){do{var r=I1(e.alternate,e);if(r!==null){r.flags&=32767,Mt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=r}while(e!==null);Ee=6,Mt=null}function Uy(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do uc();while(je!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,kh(e,r,f,g,E,R),e===le&&(Mt=le=null,Ut=0),Va=n,Bs=e,rs=r,Wf=f,td=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(_s,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=et.p,et.p=2,g=Xt,Xt|=4;try{C1(e,n,r)}finally{Xt=g,et.p=h,G.T=o}}je=1,Ly(),Py(),zy()}}function Ly(){if(je===1){je=0;var e=Bs,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var h=Xt;Xt|=4;try{yy(n,e);var f=gd,g=Sg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&bg(E.ownerDocument.documentElement,E)){if(R!==null&&zh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,pt=Math.min(R.start,lt),ae=R.end===void 0?pt:Math.min(R.end,lt);!q.extend&&pt>ae&&(g=ae,ae=pt,pt=g);var U=Tg(E,pt),N=Tg(E,ae);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),pt>ae?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!md,gd=md=null}finally{Xt=h,et.p=o,G.T=r}}e.current=n,je=2}}function Py(){if(je===2){je=0;var e=Bs,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var h=Xt;Xt|=4;try{fy(e,n.alternate,n)}finally{Xt=h,et.p=o,G.T=r}}je=3}}function zy(){if(je===4||je===3){je=0,Wl();var e=Bs,n=Va,r=rs,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,Va=Bs=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),qi(r),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=h}}(rs&3)!==0&&uc(),Oi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ed?ol++:(ol=0,ed=e):ol=0,ll(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function uc(){return Ly(),Py(),zy(),By()}function By(){if(je!==5)return!1;var e=Bs,n=Wf;Wf=0;var r=qi(rs),o=G.T,h=et.p;try{et.p=32>r?32:r,G.T=null,r=td,td=null;var f=Bs,g=rs;if(je=0,Va=Bs=null,rs=0,(Xt&6)!==0)throw Error(a(331));var E=Xt;if(Xt|=4,by(f.current),vy(f,f.current,g,r),Xt=E,ll(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{et.p=h,G.T=o,jy(e,n)}}function qy(e,n,r){n=jn(r,n),n=Mf(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(_r(e,2),Oi(e))}function ee(e,n,r){if(e.tag===3)qy(e,e,r);else for(;n!==null;){if(n.tag===3){qy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=jn(r,e),r=Hp(2),o=Vs(n,r,2),o!==null&&(Gp(r,o,n,e),_r(o,2),Oi(o));break}}n=n.return}}function sd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||($f=!0,h.add(r),e=U1.bind(null,e,n,r),n.then(e,e))}function U1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,le===e&&(Ut&r)===r&&(Ee===4||Ee===3&&(Ut&62914560)===Ut&&300>ln()-ic?(Xt&2)===0&&ka(e,0):Zf|=r,Ma===Ut&&(Ma=0)),Oi(e)}function Hy(e,n){n===0&&(n=ru()),e=Or(e,n),e!==null&&(_r(e,n),Oi(e))}function L1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Hy(e,r)}function P1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,r)}function z1(e,n){return oe(e,n)}var cc=null,La=null,rd=!1,hc=!1,ad=!1,Hs=0;function Oi(e){e!==La&&e.next===null&&(La===null?cc=La=e:La=La.next=e),hc=!0,rd||(rd=!0,B1())}function ll(e,n){if(!ad&&hc){ad=!0;do for(var r=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ky(o,f))}else f=Ut,f=mi(o,o===le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(r=!0,Ky(o,f));o=o.next}while(r);ad=!1}}function j1(){Gy()}function Gy(){hc=rd=!1;var e=0;Hs!==0&&Z1()&&(e=Hs);for(var n=ln(),r=null,o=cc;o!==null;){var h=o.next,f=Fy(o,n);f===0?(o.next=null,r===null?cc=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}je!==0&&je!==5||ll(e),Hs!==0&&(Hs=0)}function Fy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-be(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Vh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,r=Ut,r=mi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Zn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ys(o),qi(r)){case 2:case 8:r=_o;break;case 32:r=_s;break;case 268435456:r=tu;break;default:r=_s}return o=Qy.bind(null,e),r=oe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ys(o),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var o=Ut;return o=mi(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Iy(e,o,n),Fy(e,ln()),e.callbackNode!=null&&e.callbackNode===r?Qy.bind(null,e):null)}function Ky(e,n){if(uc())return null;Iy(e,n,!0)}function B1(){W1(function(){(Xt&6)!==0?oe(yo,j1):Gy()})}function od(){if(Hs===0){var e=ba;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Hs=e}return Hs}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Xy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function q1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Yy((h[He]||null).action),g=o.submitter;g&&(n=(n=g[He]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new wi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var R=g?Xy(h,g):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Xy(h,g):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],H1=ud.toLowerCase(),G1=ud[0].toUpperCase()+ud.slice(1);ri(H1,"on"+G1)}ri(Rg,"onAnimationEnd"),ri(Ig,"onAnimationIteration"),ri(Cg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(a1,"onTransitionRun"),ri(o1,"onTransitionStart"),ri(l1,"onTransitionCancel"),ri(xg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function $y(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}}}}function Vt(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var o=e+"__bubble";r.has(o)||(Zy(n,e,2,!1),r.add(o))}function cd(e,n,r){var o=0;n&&(o|=4),Zy(r,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[fc]){e[fc]=!0,To.forEach(function(r){r!=="selectionchange"&&(F1.has(r)||cd(r,!1,e),cd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,cd("selectionchange",!1,n))}}function Zy(e,n,r,o){switch(R_(n)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=Rd}r=h.bind(null,n,r,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function fd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=_i(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}As(function(){var z=f,F=Un(r),Y=[];t:{var j=Ng.get(e);if(j!==void 0){var q=wi,lt=e;switch(e){case"keypress":if(Rr(r)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":lt="focus",q=Cr;break;case"focusout":lt="blur",q=Cr;break;case"beforeblur":case"afterblur":q=Cr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rg:case Ig:case Cg:q=pu;break;case xg:q=T;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fi;break;case"toggle":case"beforetoggle":q=Ct}var pt=(n&4)!==0,ae=!pt&&(e==="scroll"||e==="scrollend"),U=pt?j!==null?j+"Capture":null:j;pt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=ei(N,U),Q!=null&&pt.push(cl(N,Q,P))),ae)break;N=N.return}0<pt.length&&(j=new q(j,lt,null,r,F),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==No&&(lt=r.relatedTarget||r.fromElement)&&(_i(lt)||lt[pi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=z,lt=lt?_i(lt):null,lt!==null&&(ae=c(lt),pt=lt.tag,lt!==ae||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(pt=Vo,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Fi,Q="onPointerLeave",U="onPointerEnter",N="pointer"),ae=q==null?j:Tn(q),P=lt==null?j:Tn(lt),j=new pt(Q,N+"leave",q,r,F),j.target=ae,j.relatedTarget=P,Q=null,_i(F)===z&&(pt=new pt(U,N+"enter",lt,r,F),pt.target=P,pt.relatedTarget=ae,Q=pt),ae=Q,q&&lt)e:{for(pt=Q1,U=q,N=lt,P=0,Q=U;Q;Q=pt(Q))P++;Q=0;for(var mt=N;mt;mt=pt(mt))Q++;for(;0<P-Q;)U=pt(U),P--;for(;0<Q-P;)N=pt(N),Q--;for(;P--;){if(U===N||N!==null&&U===N.alternate){pt=U;break e}U=pt(U),N=pt(N)}pt=null}else pt=null;q!==null&&Jy(Y,j,q,pt,!1),lt!==null&&ae!==null&&Jy(Y,ae,lt,pt,!0)}}t:{if(j=z?Tn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ft=gg;else if(dg(j))if(pg)Ft=i1;else{Ft=e1;var ct=t1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(Ft=gg):Ft=n1;if(Ft&&(Ft=Ft(e,z))){mg(Y,Ft,r,F);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(ct=z?Tn(z):window,e){case"focusin":(dg(ct)||ct.contentEditable==="true")&&(ma=ct,jh=z,zo=null);break;case"focusout":zo=jh=ma=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Ag(Y,r,F);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":Ag(Y,r,F)}var Nt;if(Yt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else da?xr(e,r)&&(Lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ci&&r.locale!=="ko"&&(da||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&da&&(Nt=Oo()):(Ai=F,Do="value"in Ai?Ai.value:Ai.textContent,da=!0)),ct=dc(z,Lt),0<ct.length&&(Lt=new Ii(Lt,e,null,r,F),Y.push({event:Lt,listeners:ct}),Nt?Lt.data=Nt:(Nt=fa(r),Nt!==null&&(Lt.data=Nt)))),(Nt=Pn?$T(e,r):ZT(e,r))&&(Lt=dc(z,"onBeforeInput"),0<Lt.length&&(ct=new Ii("onBeforeInput","beforeinput",null,r,F),Y.push({event:ct,listeners:Lt}),ct.data=Nt)),q1(Y,e,z,r,F)}$y(Y,n)})}function cl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function dc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,r),h!=null&&o.unshift(cl(e,h,f)),h=ei(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ei(r,f),z!=null&&g.unshift(cl(r,z,R))):h||(z=ei(r,f),z!=null&&g.push(cl(r,z,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Y1,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function re(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,r,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,sa(e,r,o))}}function dd(e,n,r,o,h,f){switch(r){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[He]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sa(e,r,o)}}}function Je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,r,null)}}h&&re(e,n,"srcSet",r.srcSet,r,null),o&&re(e,n,"src",r.src,r,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:re(e,n,o,F,r,null)}}cu(e,f,E,R,z,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:re(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):r!=null&&Es(e,!!o,r,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:re(e,n,g,E,r,null)}Ts(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:re(e,n,R,o,r,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Vt(ul[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,o,r,null)}return;default:if(aa(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&dd(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&re(e,n,E,o,r,null))}function X1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,F=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||re(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&re(e,n,j,q,o,Y)}}ra(e,g,E,R,z,F,f,h);return;case"select":q=g=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||re(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&re(e,n,h,f,o,R)}n=E,r=g,o=q,j!=null?Es(e,!!r,j,!1):!!o!=!!r&&(n!=null?Es(e,!!r,n,!0):Es(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,o,f)}hu(e,j,q);return;case"option":for(var lt in r)if(j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:re(e,n,lt,null,o,j)}for(R in o)if(j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&re(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,z,j,o,q)}return;default:if(aa(n)){for(var ae in r)j=r[ae],r.hasOwnProperty(ae)&&j!==void 0&&!o.hasOwnProperty(ae)&&dd(e,n,ae,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||dd(e,n,F,j,o,q);return}}for(var U in r)j=r[U],r.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&re(e,n,U,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||re(e,n,Y,j,o,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&e_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var F=R.transferSize,Y=R.initiatorType;F&&e_(Y)&&(R=R.responseEnd,g+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(tb)}:s_;function tb(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function a_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")hl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,hl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&hl(e.ownerDocument.body);r=h}while(r);Ba(n)}function o_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_d(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function eb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[yi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function nb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Fn(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Fn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,r){switch(n=mc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Qn=new Map,f_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=et.d;et.d={f:sb,r:rb,D:ab,C:ob,L:lb,m:ub,X:hb,S:cb,M:fb};function sb(){var e=as.f(),n=ac();return e||n}function rb(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?xp(n):as.r(e)}var Pa=typeof document>"u"?null:document;function d_(e,n,r){var o=Pa;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function ab(e){as.D(e),d_("dns-prefetch",e,null)}function ob(e,n){as.C(e,n),d_("preconnect",e,n)}function lb(e,n,r){as.L(e,n,r);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+fn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+fn(r.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}Qn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function ub(e,n){as.m(e,n);var r=Pa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!Qn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Qn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(dl(f)))return}o=r.createElement("link"),Je(o,"link",e),Ne(o),r.head.appendChild(o)}}}function cb(e,n,r){as.S(e,n,r);var o=Pa;if(o&&e){var h=vi(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Qn.get(f))&&bd(e,r);var R=g=o.createElement("link");Ne(R),Je(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function hb(e,n){as.X(e,n);var r=Pa;if(r&&e){var o=vi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=Qn.get(h))&&Sd(e,n),f=r.createElement("script"),Ne(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fb(e,n){as.M(e,n);var r=Pa;if(r&&e){var o=vi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Qn.get(h))&&Sd(e,n),f=r.createElement("script"),Ne(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(e,n,r,o){var h=(h=$.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=za(r.href),r=vi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=za(r.href);var f=vi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(e,r),f||db(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(r),r=vi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+fn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",r),Ne(n),e.head.appendChild(n))}function ja(e){return'[src="'+fn(e)+'"]'}function dl(e){return"script[async]"+e}function p_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(r.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Je(o,"style",h),pc(o,r.precedence,e),n.instance=o;case"stylesheet":h=za(r.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=g_(r),(h=Qn.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=ja(r.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ne(h),h):(o=r,(h=Qn.get(f))&&(o=S({},r),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,e));return n.instance}function pc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function y_(e,n,r){if(yc===null){var o=new Map,h=yc=new Map;h.set(r,o)}else h=yc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[yi]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function __(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function mb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=za(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ne(f);return}f=n.ownerDocument||n,o=g_(o),(h=Qn.get(h))&&bd(o,h),f=f.createElement("link"),Ne(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=_c.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ad=0;function pb(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*$1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(yb,e),vc=null,_c.call(e))}function yb(e,n){if(!(n.state.loading&4)){var r=vc.get(e);if(r)var o=r.get(null);else{r=new Map,vc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function _b(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function E_(e,n,r,o,h,f,g,E,R,z,F,Y){return e=new _b(e,n,r,g,R,z,F,Y,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},of(f),e}function T_(e){return e?(e=ya,e):ya}function b_(e,n,r,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Vs(e,o,n),r!==null&&(_n(r,e,n),Qo(r,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function wd(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=Or(e,67108864);n!==null&&_n(n,e,67108864),wd(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=xn();n=Er(n);var r=Or(e,n);r!==null&&_n(r,e,n),wd(e,n)}}var Tc=!0;function vb(e,n,r,o){var h=G.T;G.T=null;var f=et.p;try{et.p=2,Rd(e,n,r,o)}finally{et.p=f,G.T=h}}function Eb(e,n,r,o){var h=G.T;G.T=null;var f=et.p;try{et.p=8,Rd(e,n,r,o)}finally{et.p=f,G.T=h}}function Rd(e,n,r,o){if(Tc){var h=Id(o);if(h===null)fd(e,n,o,bc,r),I_(e,o);else if(bb(h,e,n,r,o))o.stopPropagation();else if(I_(e,o),n&4&&-1<Tb.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=di(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-be(g);E.entanglements[1]|=R,g&=~R}Oi(f),(Xt&6)===0&&(sc=ln()+500,ll(0))}}break;case 31:case 13:E=Or(f,2),E!==null&&_n(E,f,2),ac(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,bc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,r)}}function Id(e){return e=Un(e),Cd(e)}var bc=null;function Cd(e){if(bc=null,e=_i(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case yo:return 2;case _o:return 8;case _s:case Mh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var xd=!1,Fs=null,Qs=null,Ks=null,gl=new Map,pl=new Map,Ys=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function bb(e,n,r,o,h){switch(n){case"focusin":return Fs=yl(Fs,e,n,r,o,h),!0;case"dragenter":return Qs=yl(Qs,e,n,r,o,h),!0;case"mouseover":return Ks=yl(Ks,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,r,o,h)),!0}return!1}function C_(e){var n=_i(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Jn(e.priority,function(){w_(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,Jn(e.priority,function(){w_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Id(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);No=o,r.target.dispatchEvent(o),No=null}else return n=kn(r),n!==null&&A_(n),e.blockedOn=r,!1;n.shift()}return!0}function x_(e,n,r){Sc(e)&&r.delete(n)}function Sb(){xd=!1,Fs!==null&&Sc(Fs)&&(Fs=null),Qs!==null&&Sc(Qs)&&(Qs=null),Ks!==null&&Sc(Ks)&&(Ks=null),gl.forEach(x_),pl.forEach(x_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Sb)))}var wc=null;function N_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||r)===null)continue;break}var f=kn(r);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ba(e){function n(R){return Ac(R,e)}Fs!==null&&Ac(Fs,e),Qs!==null&&Ac(Qs,e),Ks!==null&&Ac(Ks,e),gl.forEach(n),pl.forEach(n);for(var r=0;r<Ys.length;r++){var o=Ys[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(r=Ys[0],r.blockedOn===null);)C_(r),r.blockedOn===null&&Ys.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[He]||null;if(typeof f=="function")g||N_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[He]||null)E=g.formAction;else if(Cd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),N_(r)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Rc.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=xn();b_(r,o,e,n,null,null)},Rc.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),ac(),n[pi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ys.length&&n!==0&&n<Ys[r].priority;r++);Ys.splice(r,0,e),r===0&&C_(e)}};var O_=t.version;if(O_!=="19.2.3")throw Error(a(527,O_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{$n=Ic.inject(Ab),Ke=Ic}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=zp,f=jp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=E_(e,1,!1,null,null,r,o,null,h,f,g,D_),e[pi]=n.current,hd(e),new Nd(n)},vl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=zp,g=jp,E=Bp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=E_(e,1,!0,n,r??null,o,h,R,f,g,E,D_),n.context=T_(null),r=n.current,o=xn(),o=Er(o),h=Ms(o),h.callback=null,Vs(r,h,o),r=o,n.current.lanes=r,_r(n,r),Oi(n),e[pi]=n.current,hd(e),new Rc(n)},vl.version="19.2.3",vl}var q_;function Vb(){if(q_)return Md.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=Mb(),Md.exports}var kb=Vb();const Ub=()=>{};var H_={};const R0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Lb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,b=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,H=_&63;p||(H=64,d||(M=64)),a.push(i[b],i[S],i[M],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(R0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Lb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||S==null)throw new Pb;const M=c<<2|y>>4;if(a.push(M),_!==64){const H=y<<4&240|_>>2;if(a.push(H),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(s){const t=R0(s);return I0.encodeByteArray(t,!0)},Fc=function(s){return zb(s).replace(/\./g,"")},C0=function(s){try{return I0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bb=()=>jb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof H_>"u")return;const s=H_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Hb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&C0(s[1]);return t&&JSON.parse(t)},hh=()=>{try{return Ub()||Bb()||qb()||Hb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},x0=s=>hh()?.emulatorHosts?.[s],Gb=s=>{const t=x0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},N0=()=>hh()?.config,D0=s=>hh()?.[`_${s}`];class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(s){return(await fetch(s,{credentials:"include"})).ok}function Qb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const wl={};function Kb(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function Yb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let G_=!1;function M0(s,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||wl[s]===t||wl[s]||G_)return;wl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Kb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{G_=!0,d()},M}function b(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Yb(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),st=i("learnmore"),nt=document.getElementById(st)||document.createElement("a"),yt=i("preprendIcon"),It=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;y(_t),b(nt,st);const Dt=_();p(It,yt),_t.append(It,W,nt,Dt),document.body.appendChild(_t)}c?(W.innerText="Preview backend disconnected.",It.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(It.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function $b(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function eS(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const sS="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sS,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?rS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new ps(l,y,a)}}function rS(s,t){return s.replace(aS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const aS=/\{\$([^}]+)}/g;function oS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function or(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(F_(c)&&F_(d)){if(!or(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function F_(s){return s!==null&&typeof s=="object"}function Bl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lS(s,t){const i=new uS(s,t);return i.subscribe.bind(i)}class uS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}function hn(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class hS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dS(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(s){return s===Fr?void 0:s}function dS(s){return s.instantiationMode==="EAGER"}class mS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const gS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},pS=Pt.INFO,yS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},_S=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=yS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=pS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const vS=(s,t)=>t.some(i=>s instanceof i);let Q_,K_;function ES(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Zd=new WeakMap,k0=new WeakMap,Pd=new WeakMap,Am=new WeakMap;function bS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(nr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&V0.set(i,s)}).catch(()=>{}),Am.set(t,s),t}function SS(s){if(Zd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Zd.set(s,t)}let Jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||k0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function AS(s){Jd=s(Jd)}function wS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(zd(this),t,...i);return k0.set(a,t.sort?t.sort():[t]),nr(a)}:TS().includes(s)?function(...t){return s.apply(zd(this),t),nr(V0.get(this))}:function(...t){return nr(s.apply(zd(this),t))}}function RS(s){return typeof s=="function"?wS(s):(s instanceof IDBTransaction&&SS(s),vS(s,ES())?new Proxy(s,Jd):s)}function nr(s){if(s instanceof IDBRequest)return bS(s);if(Pd.has(s))return Pd.get(s);const t=RS(s);return t!==s&&(Pd.set(s,t),Am.set(t,s)),t}const zd=s=>Am.get(s);function IS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),y=nr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(nr(d.result),p.oldVersion,p.newVersion,nr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const CS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],jd=new Map;function Y_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||CS.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&p.done]))[0]};return jd.set(t,c),c}AS(s=>({...s,get:(t,i,a)=>Y_(t,i)||s.get(t,i,a),has:(t,i)=>!!Y_(t,i)||s.has(t,i)}));class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DS(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",X_="0.14.7";const cs=new Sm("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",VS="@firebase/analytics",kS="@firebase/app-check-compat",US="@firebase/app-check",LS="@firebase/auth",PS="@firebase/auth-compat",zS="@firebase/database",jS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",HS="@firebase/functions-compat",GS="@firebase/installations",FS="@firebase/installations-compat",QS="@firebase/messaging",KS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",ZS="@firebase/remote-config-compat",JS="@firebase/storage",WS="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",sA="12.8.0";const tm="[DEFAULT]",rA={[Wd]:"fire-core",[OS]:"fire-core-compat",[VS]:"fire-analytics",[MS]:"fire-analytics-compat",[US]:"fire-app-check",[kS]:"fire-app-check-compat",[LS]:"fire-auth",[PS]:"fire-auth-compat",[zS]:"fire-rtdb",[jS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[HS]:"fire-fn-compat",[GS]:"fire-iid",[FS]:"fire-iid-compat",[QS]:"fire-fcm",[KS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[ZS]:"fire-rc-compat",[JS]:"fire-gcs",[WS]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};const Qc=new Map,aA=new Map,em=new Map;function $_(s,t){try{s.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function to(s){const t=s.name;if(em.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,s);for(const i of Qc.values())$_(i,s);for(const i of aA.values())$_(i,s);return!0}function wm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Yn(s){return s==null?!1:s.settings!==void 0}const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new jl("app","Firebase",oA);class lA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const uo=sA;function U0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:tm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=N0()),!i)throw ir.create("no-options");const c=Qc.get(l);if(c){if(or(i,c.options)&&or(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new mS(l);for(const p of em.values())d.addComponent(p);const y=new lA(i,a,d);return Qc.set(l,y),y}function L0(s=tm){const t=Qc.get(s);if(!t&&s===tm&&N0())return U0();if(!t)throw ir.create("no-app",{appName:s});return t}function sr(s,t,i){let a=rA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}to(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uA="firebase-heartbeat-database",cA=1,Dl="firebase-heartbeat-store";let Bd=null;function P0(){return Bd||(Bd=IS(uA,cA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function hA(s){try{const i=(await P0()).transaction(Dl),a=await i.objectStore(Dl).get(z0(s));return await i.done,a}catch(t){if(t instanceof ps)cs.warn(t.message);else{const i=ir.create("idb-get",{originalErrorMessage:t?.message});cs.warn(i.message)}}}async function Z_(s,t){try{const a=(await P0()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,z0(s)),await a.done}catch(i){if(i instanceof ps)cs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function z0(s){return`${s.name}!${s.options.appId}`}const fA=1024,dA=30;class mA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dA){const l=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=gA(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cs.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function gA(s,t=fA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),W_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),W_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function W_(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function yA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function _A(s){to(new Yr("platform-logger",t=>new NS(t),"PRIVATE")),to(new Yr("heartbeat",t=>new mA(t),"PRIVATE")),sr(Wd,X_,s),sr(Wd,X_,"esm2020"),sr("fire-js","")}_A("");var vA="firebase",EA="12.8.0";sr(vA,EA,"app");function j0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TA=j0,B0=new jl("auth","Firebase",j0());const Kc=new Sm("@firebase/auth");function bA(s,...t){Kc.logLevel<=Pt.WARN&&Kc.warn(`Auth (${uo}): ${s}`,...t)}function Vc(s,...t){Kc.logLevel<=Pt.ERROR&&Kc.error(`Auth (${uo}): ${s}`,...t)}function hs(s,...t){throw Rm(s,...t)}function ki(s,...t){return Rm(s,...t)}function q0(s,t,i){const a={...TA(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:s.name})}function us(s){return q0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return B0.create(s,...t)}function bt(s,t,...i){if(!s)throw Rm(t,...i)}function os(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function fs(s,t){s||os(t)}function nm(){return typeof self<"u"&&self.location?.href||""}function SA(){return tv()==="http:"||tv()==="https:"}function tv(){return typeof self<"u"&&self.location?.protocol||null}function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SA()||Jb()||"connection"in navigator)?navigator.onLine:!0}function wA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,fs(i>t,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(s,t){fs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class H0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CA=new ql(3e4,6e4);function Hl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function co(s,t,i,a,l={}){return G0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=Bl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...c};return Zb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&lo(s.emulatorConfig.host)&&(_.credentials="include"),H0.fetch()(await F0(s,s.config.apiHost,i,y),_)})}async function G0(s,t,i){s._canInitEmulator=!1;const a={...RA,...t};try{const l=new xA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Cc(s,"user-disabled",d);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw q0(s,b,_);hs(s,b)}}catch(l){if(l instanceof ps)throw l;hs(s,"network-request-failed",{message:String(l)})}}async function Cm(s,t,i,a,l={}){const c=await co(s,t,i,a,l);return"mfaPendingCredential"in c&&hs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function F0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Im(s.config,l):`${s.config.apiScheme}://${l}`;return IA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),CA.get())})}}function Cc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ki(s,t,a);return l.customData._tokenResponse=i,l}async function NA(s,t){return co(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return co(s,"POST","/v1/accounts:lookup",t)}function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DA(s,t=!1){const i=hn(s),a=await i.getIdToken(t),l=xm(a);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Rl(qd(l.auth_time)),issuedAtTime:Rl(qd(l.iat)),expirationTime:Rl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function xm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=C0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function ev(s){const t=xm(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&OA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function OA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class MA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),a=await Ol(s,Yc(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Q0(l.providerUserInfo):[],d=kA(s.providerData,c),y=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=y?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function VA(s){const t=hn(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kA(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Q0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UA(s,t){const i=await G0(s,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await F0(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return s.emulatorConfig&&lo(s.emulatorConfig.host)&&(p.credentials="include"),H0.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LA(s,t){return co(s,"POST","/v2/accounts:revokeToken",Hl(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=ev(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await UA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ya;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return os("not implemented")}}function $s(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new MA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DA(this,t)}reload(){return VA(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await Ol(this,NA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:H,providerData:W,stsTokenManager:st}=i;bt(S&&st,t,"internal-error");const nt=Ya.fromJSON(this.name,st);bt(typeof S=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),bt(typeof M=="boolean",t,"internal-error"),bt(typeof H=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(y,t.name),$s(p,t.name),$s(_,t.name),$s(b,t.name);const yt=new li({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:nt,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(yt.providerData=W.map(It=>({...It}))),p&&(yt._redirectEventId=p),yt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Q0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Ya;y.updateFromIdToken(a);const p=new li({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const nv=new Map;function ls(s){fs(s instanceof Function,"Expected a class definition");let t=nv.get(s);return t?(fs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,nv.set(s,t),t)}class K0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}K0.type="NONE";const iv=K0;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class Xa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xa(ls(iv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ls(iv);const d=kc(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const M=await Yc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await li._fromGetAccountInfoResponse(t,M,b)}else S=li._fromJSON(t,b);_!==c&&(y=S),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Xa(c,t,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Xa(c,t,a))}}function sv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Y0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(W0(t))return"Blackberry";if(tE(t))return"Webos";if(X0(t))return"Safari";if((t.includes("chrome/")||$0(t))&&!t.includes("edge/"))return"Chrome";if(J0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Y0(s=on()){return/firefox\//i.test(s)}function X0(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $0(s=on()){return/crios\//i.test(s)}function Z0(s=on()){return/iemobile/i.test(s)}function J0(s=on()){return/android/i.test(s)}function W0(s=on()){return/blackberry/i.test(s)}function tE(s=on()){return/webos/i.test(s)}function Nm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function PA(s=on()){return Nm(s)&&!!window.navigator?.standalone}function zA(){return tS()&&document.documentMode===10}function eE(s=on()){return Nm(s)||J0(s)||tE(s)||W0(s)||/windows phone/i.test(s)||Z0(s)}function nE(s,t=[]){let i;switch(s){case"Browser":i=sv(on());break;case"Worker":i=`${sv(on())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${a}`}class jA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const p=t(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BA(s,t={}){return co(s,"GET","/v2/passwordPolicy",Hl(s,t))}const qA=6;class HA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(us(this));const i=t?hn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BA(this),i=new HA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gl(s){return hn(s)}class rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FA(s){Dm=s}function QA(s){return Dm.loadJS(s)}function KA(){return Dm.gapiScript}function YA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function XA(s,t){const i=wm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(or(c,t??{}))return l;hs(l,"already-initialized")}return i.initialize({options:t})}function $A(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZA(s,t,i){const a=Gl(s);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=iE(t),{host:d,port:y}=JA(t),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(or(_,a.config.emulator)&&or(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,lo(d)?(O0(`${c}//${d}${p}`),M0("Auth",!0)):WA()}function iE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function JA(s){const t=iE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:av(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:av(d)}}}function av(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function WA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class sE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function $a(s,t){return Cm(s,"POST","/v1/accounts:signInWithIdp",Hl(s,t))}const tw="http://localhost";class Xr extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):hs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class rE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends Fl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Fl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class tr extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function ew(s,t){return Cm(s,"POST","/v1/accounts:signUp",Hl(s,t))}class ds{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await li._fromIdTokenResponse(t,a,l),d=ov(a);return new ds({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=ov(a);return new ds({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function nw(s){if(Yn(s.app))return Promise.reject(us(s));const t=Gl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ds({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ew(t,{returnSecureToken:!0}),a=await ds._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class $c extends ps{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new $c(t,i,a,l)}}function aE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,t,a):c})}async function iw(s,t,i=!1){const a=await Ol(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ds._forOperation(s,"link",a)}async function sw(s,t,i=!1){const{auth:a}=s;if(Yn(a.app))return Promise.reject(us(a));const l="reauthenticate";try{const c=await Ol(s,aE(a,l,t,s),i);bt(c.idToken,a,"internal-error");const d=xm(c.idToken);bt(d,a,"internal-error");const{sub:y}=d;return bt(s.uid===y,a,"user-mismatch"),ds._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&hs(a,"user-mismatch"),c}}async function rw(s,t,i=!1){if(Yn(s.app))return Promise.reject(us(s));const a="signIn",l=await aE(s,a,t),c=await ds._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function aw(s,t){return Cm(s,"POST","/v1/accounts:signInWithCustomToken",Hl(s,t))}async function ow(s,t){if(Yn(s.app))return Promise.reject(us(s));const i=Gl(s),a=await aw(i,{token:t,returnSecureToken:!0}),l=await ds._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function lw(s,t,i,a){return hn(s).onIdTokenChanged(t,i,a)}function uw(s,t,i){return hn(s).beforeAuthStateChanged(t,i)}function cw(s,t,i,a){return hn(s).onAuthStateChanged(t,i,a)}const Zc="__sak";class oE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hw=1e3,fw=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,fw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}lE.type="LOCAL";const dw=lE;class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}uE.type="SESSION";const cE=uE;function mw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await mw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Om(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Om("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function pw(s){Ui().location.href=s}function hE(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function yw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _w(){return navigator?.serviceWorker?.controller||null}function vw(){return hE()?self:null}const fE="firebaseLocalStorageDb",Ew=1,Jc="firebaseLocalStorage",dE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function Tw(){const s=indexedDB.deleteDatabase(fE);return new Ql(s).toPromise()}function sm(){const s=indexedDB.open(fE,Ew);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:dE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await Tw(),t(await sm()))})})}async function lv(s,t,i){const a=dh(s,!0).put({[dE]:t,value:i});return new Ql(a).toPromise()}async function bw(s,t){const i=dh(s,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function uv(s,t){const i=dh(s,!0).delete(t);return new Ql(i).toPromise()}const Sw=800,Aw=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Aw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(vw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yw(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await lv(t,Zc,"1"),await uv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>lv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>bw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>uv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const ww=mE;new ql(3e4,6e4);function Rw(s,t){return t?ls(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mm extends sE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Iw(s){return rw(s.auth,new Mm(s),s.bypassAuthState)}function Cw(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),sw(i,new Mm(s),s.bypassAuthState)}async function xw(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),iw(i,new Mm(s),s.bypassAuthState)}class gE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Iw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Cw;default:hs(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new ql(2e3,1e4);class Ka extends gE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Nw.get())};t()}}Ka.currentPopupAction=null;const Dw="pendingRedirect",Uc=new Map;class Ow extends gE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await Mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mw(s,t){const i=Uw(t),a=kw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Vw(s,t){Uc.set(s._key(),t)}function kw(s){return ls(s._redirectPersistence)}function Uw(s){return kc(Dw,s.config.apiKey,s.name)}async function Lw(s,t,i=!1){if(Yn(s.app))return Promise.reject(us(s));const a=Gl(s),l=Rw(a,t),d=await new Ow(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Pw=600*1e3;class zw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!pE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(cv(t))}saveEventToCache(t){this.cachedEventUids.add(cv(t)),this.lastProcessedEventTime=Date.now()}}function cv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function pE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function jw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(s);default:return!1}}async function Bw(s,t={}){return co(s,"GET","/v1/projects",t)}const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Gw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Bw(s);for(const i of t)try{if(Fw(i))return}catch{}hs(s,"unauthorized-domain")}function Fw(s){const t=nm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Hw.test(i))return!1;if(qw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Qw=new ql(3e4,6e4);function hv(){const s=Ui().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Kw(s){return new Promise((t,i)=>{function a(){hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hv(),i(ki(s,"network-request-failed"))},timeout:Qw.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=YA("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(ki(s,"network-request-failed"))},QA(`${KA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function Yw(s){return Lc=Lc||Kw(s),Lc}const Xw=new ql(5e3,15e3),$w="__/auth/iframe",Zw="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Im(t,Zw):`https://${s.config.authDomain}/${$w}`,a={apiKey:t.apiKey,appName:s.name,v:uo},l=Ww.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function e2(s){const t=await Yw(s),i=Ui().gapi;return bt(i,s,"internal-error"),t.open({where:document.body,url:t2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ki(s,"network-request-failed"),y=Ui().setTimeout(()=>{c(d)},Xw.get());function p(){Ui().clearTimeout(y),l(a)}a.ping(p).then(p,()=>{c(d)})}))}const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,r2="_blank",a2="http://localhost";class fv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o2(s,t,i,a=i2,l=s2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...n2,width:a.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(y=$0(_)?r2:i),Y0(_)&&(t=t||a2,p.scrollbars="yes");const b=Object.entries(p).reduce((M,[H,W])=>`${M}${H}=${W},`,"");if(PA(_)&&y!=="_self")return l2(t||"",y),new fv(null);const S=window.open(t||"",y,b);bt(S,s,"popup-blocked");try{S.focus()}catch{}return new fv(S)}function l2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function dv(s,t,i,a,l,c){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:uo,eventId:l};if(t instanceof rE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",oS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Fl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const p=await s._getAppCheckToken(),_=p?`#${h2}=${encodeURIComponent(p)}`:"";return`${f2(s)}?${Bl(y).slice(1)}${_}`}function f2({config:s}){return s.emulator?Im(s,c2):`https://${s.authDomain}/${u2}`}const Hd="webStorageSupport";class d2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=Lw,this._overrideRedirectResult=Vw}async _openPopup(t,i,a,l){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await dv(t,i,a,nm(),l);return o2(t,c,Om())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await dv(t,i,a,nm(),l);return pw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await e2(t),a=new zw(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},l=>{const c=l?.[0]?.[Hd];c!==void 0&&i(!!c),hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Gw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return eE()||X0()||Nm()}}const m2=d2;var mv="@firebase/auth",gv="1.12.0";class g2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(s){to(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nE(s)},_=new GA(a,l,c,p);return $A(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),to(new Yr("auth-internal",t=>{const i=Gl(t.getProvider("auth").getImmediate());return(a=>new g2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(mv,gv,p2(s)),sr(mv,gv,"esm2020")}const _2=300,v2=D0("authIdTokenMaxAge")||_2;let pv=null;const E2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>v2)return;const l=i?.token;pv!==l&&(pv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function T2(s=L0()){const t=wm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=XA(s,{popupRedirectResolver:m2,persistence:[ww,dw,cE]}),a=D0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=E2(c.toString());uw(i,d,()=>d(i.currentUser)),lw(i,y=>d(y))}}const l=x0("auth");return l&&ZA(i,`http://${l}`),i}function b2(){return document.getElementsByTagName("head")?.[0]??document}FA({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",b2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,yE;(function(){var s;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,k){for(var w=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)w[ue-2]=arguments[ue];return A.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=A+(k^C&(D^k))+V[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+V[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(k^C&(D^k))+V[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+V[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(k^C&(D^k))+V[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+V[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(k^C&(D^k))+V[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+V[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(D^k&(C^D))+V[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+V[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(C^D))+V[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+V[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(C^D))+V[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+V[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(C^D))+V[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+V[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(C^D^k)+V[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+V[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^k)+V[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+V[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^k)+V[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+V[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^k)+V[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+V[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(D^(C|~k))+V[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+V[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~k))+V[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+V[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~k))+V[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+V[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~k))+V[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<A;)if(V[D++]=I[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[A++]=this.g[C]>>>V&255;return I};function c(I,A){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==A||(C[D]=k,V=!1)}this.g=C}var y={};function p(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return nt(_(-I));const A=[];let C=1;for(let V=0;I>=C;V++)A[V]=I/C|0,C*=4294967296;return new d(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return nt(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let V=S;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),A);D<8?(D=_(Math.pow(A,D)),V=V.j(D).add(_(w))):(V=V.j(C),V=V.add(_(w)))}return V}var S=p(0),M=p(1),H=p(16777216);s=d.prototype,s.m=function(){if(st(this))return-nt(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(st(this))return"-"+nt(this).toString(I);const A=_(Math.pow(I,6));var C=this;let V="";for(;;){const D=Dt(C,A).g;C=yt(C,D.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,W(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function st(I){return I.h==-1}s.l=function(I){return I=yt(this,I),st(I)?-1:W(I)?0:1};function nt(I){const A=I.g.length,C=[];for(let V=0;V<A;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return st(this)?nt(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=A;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function yt(I,A){return I.add(nt(A))}s.j=function(I){if(W(this)||W(I))return S;if(st(this))return st(I)?nt(this).j(nt(I)):nt(nt(this).j(I));if(st(I))return nt(this.j(nt(I)));if(this.l(H)<0&&I.l(H)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,ue=I.i(D)>>>16,Te=I.i(D)&65535;C[2*V+2*D]+=w*Te,It(C,2*V+2*D),C[2*V+2*D+1]+=k*Te,It(C,2*V+2*D+1),C[2*V+2*D+1]+=w*ue,It(C,2*V+2*D+1),C[2*V+2*D+2]+=k*ue,It(C,2*V+2*D+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function It(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function _t(I,A){this.g=I,this.h=A}function Dt(I,A){if(W(A))throw Error("division by zero");if(W(I))return new _t(S,S);if(st(I))return A=Dt(nt(I),A),new _t(nt(A.g),nt(A.h));if(st(A))return A=Dt(I,nt(A)),new _t(nt(A.g),A.h);if(I.g.length>30){if(st(I)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=A;V.l(I)<=0;)C=ne(C),V=ne(V);var D=Ot(C,1),k=Ot(V,1);for(V=Ot(V,2),C=Ot(C,2);!W(V);){var w=k.add(V);w.l(I)<=0&&(D=D.add(C),k=w),V=Ot(V,1),C=Ot(C,1)}return A=yt(I,D.j(A)),new _t(D,A)}for(D=S;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(C),w=k.j(A);st(w)||w.l(I)>0;)C-=V,k=_(C),w=k.j(A);W(k)&&(k=M),D=D.add(k),I=yt(I,w)}return new _t(D,I)}s.B=function(I){return Dt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function ne(I){const A=I.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ot(I,A){const C=A>>5;A%=32;const V=I.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=A>0?I.i(k+C)>>>A|I.i(k+C+1)<<32-A:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,rr=d}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,Tl,vE,Pc,rm,EE,TE,bE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)tt[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class It{constructor(){this.h=this.g=null}add(m,v){const T=_t.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new st(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Ot=!1,I=new It,A=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(C)}};function C(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){nt(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ue,D),ue.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Kt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=$(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function $(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var J="closure_lm_"+(Math.random()*1e6|0),at={};function dt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)dt(u,m[B],v,T,L);return null}return v=Mn(v),u&&u[Te]?u.J(m,v,y(T)?!!T.capture:!1,L):Gt(u,m,v,!1,T,L)}function Gt(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=y(L)?!!L.capture:!!L;let Ct=Zt(u);if(Ct||(u[J]=Ct=new rt(u)),v=Ct.add(m,v,T,tt,B),v.proxy)return v;if(T=Bt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(At(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bt(){function u(v){return m.call(u.src,u.listener,v)}const m=pe;return u}function ut(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ut(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=Mn(v),u&&u[Te]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=$(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Zt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$(m,v,T,L)),(v=u>-1?m[u]:null)&&Tt(v))}function Tt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Te])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(At(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Zt(m))?(Et(v,u),v.h==0&&(v.src=null,m[J]=null)):ft(u)}}}function At(u){return u in at?at[u]:at[u]="on"+u}function pe(u,m){if(u.da)u=!0;else{m=new ue(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Tt(u),u=v.call(T,m)}return u}function Zt(u){return u=u[J],u instanceof rt?u:null}var ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mn(u){return typeof u=="function"?u:(u[ze]||(u[ze]=function(m){return u.handleEvent(m)}),u[ze])}function Jt(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(Jt,V),Jt.prototype[Te]=!0,Jt.prototype.removeEventListener=function(u,m,v,T){ut(this,u,m,v,T)};function oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),it(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=ys(B,T,!0,m)&&L;if(B=m.g=u,L=ys(B,T,!0,m)&&L,L=ys(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=ys(B,T,!1,m)&&L}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},Jt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Jt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ys(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Ct=tt.listener,Se=tt.ha||tt.src;tt.fa&&Et(u.i,tt),L=Ct.call(Se,T)!==!1&&L}}return L&&!T.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){V.call(this),this.h=u,this.g={}}S(pr,V);var yo=[];function _o(u){kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Tt(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),_o(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Mh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){D.call(this,"d")}S(Ke,D);function Vn(){D.call(this,"c")}S(Vn,D);var be={},iu=null;function ea(){return iu=iu||new Jt}be.Ia="serverreachability";function su(u){D.call(this,be.Ia,u)}S(su,D);function fi(u){const m=ea();oe(m,new su(m))}be.STAT_EVENT="statevent";function yr(u,m){D.call(this,be.STAT_EVENT,u),this.stat=m}S(yr,D);function Ce(u){const m=ea();oe(m,new yr(m,u))}be.Ja="timingevent";function di(u,m){D.call(this,be.Ja,u),this.size=m}S(di,D);function mi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Ct=B.split("&");for(let Yt=0;Yt<Ct.length;Yt++){var Se=Ct[Yt].split("=");if(Se.length>1){const me=Se[0];Se=Se[1];const Pn=me.split("_");tt=Pn.length>=2&&Pn[1]=="type"?tt+(me+"="+Se+"&"):tt+(me+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function ru(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function gi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(T?" "+T:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return _s(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Er(){}S(Er,eu),Er.prototype.g=function(){return new XMLHttpRequest},Eo=new Er;function qi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var xe={},He={};function pi(u,m,v){u.M=1,u.A=Tr(De(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),yi(u),u.B=De(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Wn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const tt=dt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),fi(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ni(this.g),Se=this.g.ya(),Yt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Ct!=4||Se==7||(Se==8||Yt<=0?fi(3):fi(2)),_i(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,Ce(12),Tn(this),kn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=lu(this,v),me==He){Ct==4&&(this.m=4,Ce(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==xe){this.m=4,Ce(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,me,null),vi(this,me);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(tt),tt.P=!0,Ce(11))}}else gi(this.i,this.l,v,null),vi(this,v);Ct==4&&Tn(this),this.o&&!this.K&&(Ct==4?yu(this.j,this):(this.o=!1,yi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Tn(this),kn(this)}}}catch{}};function Uh(u){if(!ou(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const T=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?He:(v=Number(m.substring(v,T)),isNaN(v)?xe:(T+=1,T+v>m.length?He:(m=m.slice(T,T+v),u.C=T+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function yi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=mi(_(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(fi(),Ce(17)),Tn(this),this.m=2,kn(this)):ia(this,this.T-u)};function kn(u){u.j.I==0||u.K||yu(u.j,u)}function Tn(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ti(v.h,u))){if(!u.L&&Ti(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),Rs(v);else break t;Cr(v),Ce(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(_(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const me=Yt[0];if(!(me<=v.K))if(v.K=me,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Pn=Yt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ci=Yt[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ii=Yt[5];ii!=null&&typeof ii=="number"&&ii>0&&(T=1.5*ii,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const si=u.g;if(si){const xr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var B=T.h;B.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(T.G){const fa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Wt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),tt.L){Ao(T.h,tt);var Ct=tt,Se=T.O;Se&&(Ct.H=Se),Ct.D&&(_i(Ct),yi(Ct)),T.g=tt}else gu(T);v.i.length>0&&Ri(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Ii(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ii(v,7):Mo(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}fi(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function Ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Ro(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=bi(m[2]||""),this.g=bi(m[3]||"",!0),vs(this,m[4]),this.h=bi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=bi(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ra,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?Io:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,hu)),u.join("")},bn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?Ge(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Ct=L[tt++];Ct=="."?T&&tt==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new bn(u)}function Ge(u,m,v){u.j=v?bi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof Ts?(u.i=m,oa(u.i,u.l)):(v||(m=br(m,Es)),u.i=new Ts(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function Tr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,cu=/[#\?:]/g,Io=/[#\?]/g,Es=/[#\?@]/g,hu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ts.prototype,s.add=function(u,m){dn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){dn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return dn(u),m=bs(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function xo(u,m){dn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return dn(this),this.i=null,u=bs(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=qi(v);v=xo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+qi(v[B])),u.push(tt)}}return this.i=u.join("&")};function du(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),aa(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const T=new Image;T.onload=b(Un,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Un,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Un,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Un,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const v=new Zn,T=new AbortController,L=setTimeout(()=>{T.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ss(){this.g=new tu}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Si,eu),Si.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){Jt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Sr,Jt),s=Sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?As(this):ei(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,As(this))},s.Na=function(u){this.g&&(this.response=u,As(this))},s.ga=function(){this.g&&As(this)};function As(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Ln(v),typeof u=="string"?v!=null&&qi(v):Wt(u,m,v))}function ie(u){Jt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ie,Jt);var Ai=/^https?$/i,Do=["POST","PUT"];s=ie.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Hi(u)}function Oo(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),Hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},s.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(uu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ai.test(tt?tt.toLowerCase():"")}v=T}if(v)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||oe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Kt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,u),this.Za=wi("retryDelaySeedMs",1e4,u),this.Ta=wi("forwardChannelMaxRetries",2,u),this.va=wi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ws.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ce(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ri(this)};function Mo(u){if(ua(u),u.I==3){var m=u.V++,v=De(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),Ir(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=Tr(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}vu(u)}function Rs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ua(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ri(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||A(),Ot||(ne(),Ot=!0),I.add(m,u),u.D=0}}function ca(u,m){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=mi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,L,m),v=De(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Ir(this,v),B&&(this.R?m="headers="+qi(Ln(B))+"&"+m:this.u&&Ar(v,this.u,B)),So(this.h,L),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),L.U=!0,pi(L,v,null)):pi(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const T=De(u.J);Wt(T,"SID",u.M),Wt(T,"RID",v),Wt(T,"AID",u.K),Ir(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),pi(v,T,m)}function Ir(u,m){u.H&&kt(u.H,function(v,T){Wt(m,T,v)}),u.l&&kt({},function(v,T){Wt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const Se=["count="+v];Ct==-1?v>0?(Ct=L[0].g,Se.push("ofs="+Ct)):Ct=0:Se.push("ofs="+Ct);let Yt=!0;for(let me=0;me<v;me++){var B=L[me].g;const Pn=L[me].map;if(B-=Ct,B<0)Ct=Math.max(0,L[me].g-100),Yt=!1;else try{B="req"+B+"_"||"";try{var tt=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ci,ii]of tt){let si=ii;y(ii)&&(si=_s(ii)),Se.push(B+Ci+"="+encodeURIComponent(si))}}catch(Ci){throw Se.push(B+"type="+encodeURIComponent("_badmap")),Ci}}catch{T&&T(Pn)}}if(Yt){tt=Se.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||A(),Ot||(ne(),Ot=!0),I.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=mi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=mi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Rs(this),pu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),Ir(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Tr(De(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Cr(this),Ce(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ha(u),ko(u),u.g=null;var T=2}else if(Ti(u.h,m))v=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ea(),oe(T,new di(T,v)),Ri(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&Cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new bn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(T,"https"),Tr(T),L?ti(T.toString(),v):No(T.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),vu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof bn?De(v):new bn(v);if(T.g!="")m&&(T.g=m+"."+T.g),vs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);T&&Ge(B,T),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Wt(T,v,m),Wt(T,"VER",u.ka),Ir(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Si({ab:v})):new ie(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Jt.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}S(un,Jt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Mo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Ri(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,un.Z.N.call(this)};function Su(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,Ke);function Au(){Vn.call(this),this.status=1}S(Au,Vn);function Fi(u){this.g=u}S(Fi,bu),Fi.prototype.ra=function(){oe(this.g,"a")},Fi.prototype.qa=function(u){oe(this.g,new Su(u))},Fi.prototype.pa=function(u){oe(this.g,new Au)},Fi.prototype.oa=function(){oe(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,bE=function(){return new Is},TE=function(){return ea()},EE=be,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Pc=vr,vo.COMPLETE="complete",vE=vo,nu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,Tl=nu,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,_E=ie}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});let rn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let ho="12.8.0";function S2(s){ho=s}const $r=new Sm("@firebase/firestore");function Ha(){return $r.logLevel}function ot(s,...t){if($r.logLevel<=Pt.DEBUG){const i=t.map(Vm);$r.debug(`Firestore (${ho}): ${s}`,...i)}}function ms(s,...t){if($r.logLevel<=Pt.ERROR){const i=t.map(Vm);$r.error(`Firestore (${ho}): ${s}`,...i)}}function eo(s,...t){if($r.logLevel<=Pt.WARN){const i=t.map(Vm);$r.warn(`Firestore (${ho}): ${s}`,...i)}}function Vm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,SE(s,a,i)}function SE(s,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ms(a),new Error(a)}function $t(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||SE(t,l,a)}function Rt(s,t){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class w2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class R2{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},y=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new AE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class I2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class C2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new I2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new _v(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=N2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function zt(s,t){return s<t?-1:s>t?1:0}function am(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Gd(l)===Gd(c)?zt(l,c):Gd(l)?1:-1}return zt(s.length,t.length)}const D2=55296,O2=57343;function Gd(s){const t=s.charCodeAt(0);return t>=D2&&t<=O2}function no(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const vv="__name__";class Vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const a=Vi.isNumericId(t),l=Vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Vi.extractNumericId(t).compare(Vi.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class ye extends Vi{construct(t,i,a){return new ye(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ye(i)}static emptyPath(){return new ye([])}}const M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Vi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return M2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new tn([vv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ht(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ht(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ye.fromString(t))}static fromName(t){return new gt(ye.fromString(t).popFirst(5))}static empty(){return new gt(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ye.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ye(t.slice()))}}function V2(s,t,i){if(!i)throw new ht(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function k2(s,t,i,a){if(t===!0&&a===!0)throw new ht(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ev(s){if(!gt.isDocumentKey(s))throw new ht(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Um(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function ui(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(s);throw new ht(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Le(s,t){const i={typeString:s};return t&&(i.value=t),i}function Kl(s,t){if(!wE(s))throw new ht(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht(Z.INVALID_ARGUMENT,i);return!0}const Tv=-62135596800,bv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*bv);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Tv)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Le("string",de._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new de(0,0))}static max(){return new St(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function U2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new lr(l,gt.empty(),t)}function L2(s){return new lr(s.readTime,s.key,Ml)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(St.min(),gt.empty(),Ml)}static max(){return new lr(St.max(),gt.empty(),Ml)}}function P2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==z2)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(p=>a(p)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((b=>{d[_]=b,++y,y===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function B2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Lm=-1;function gh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function q2(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const RE="";function H2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Sv(t)),t=G2(s.get(i),t);return Sv(t)}function G2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function Sv(s){return s+RE+""}function Av(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function mr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function IE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class _e{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(t){return new wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new On([])}unionWith(t){let i=new qe(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if($t(!!s,39018),typeof s=="string"){let t=0;const i=F2.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Re(s.seconds),nanos:Re(s.nanos)}}function Re(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const xE="server_timestamp",NE="__type__",DE="__previous_value__",OE="__local_write_time__";function Pm(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===xE}function ph(s){const t=s.mapValue.fields[DE];return Pm(t)?ph(t):t}function Vl(s){const t=ur(s.mapValue.fields[OE].timestampValue);return new de(t.seconds,t.nanos)}class Q2{constructor(t,i,a,l,c,d,y,p,_,b,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=S}}const th="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}function K2(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ht(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(s.options.projectId,t)}const ME="__type__",Y2="__max__",Dc={mapValue:{}},VE="__vector__",eh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:$2(s)?9007199254740991:X2(s)?10:11:vt(28295,{value:s})}function ji(s,t){if(s===t)return!0;const i=hr(s);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),y=ur(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Re(l.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(l.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Re(l.integerValue)===Re(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Re(l.doubleValue),y=Re(c.doubleValue);return d===y?Wc(d)===Wc(y):isNaN(d)&&isNaN(y)}return!1})(s,t);case 9:return no(s.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(Av(d)!==Av(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!ji(d[p],y[p])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>ji(i,t)))!==void 0}function io(s,t){if(s===t)return 0;const i=hr(s),a=hr(t);if(i!==a)return zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=Re(c.integerValue||c.doubleValue),p=Re(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(s,t);case 3:return Rv(s.timestampValue,t.timestampValue);case 4:return Rv(Vl(s),Vl(t));case 5:return am(s.stringValue,t.stringValue);case 6:return(function(c,d){const y=cr(c),p=cr(d);return y.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const b=zt(y[_],p[_]);if(b!==0)return b}return zt(y.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=zt(Re(c.latitude),Re(d.latitude));return y!==0?y:zt(Re(c.longitude),Re(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Iv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[eh]?.arrayValue,b=p[eh]?.arrayValue,S=zt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:Iv(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const M=am(p[S],b[S]);if(M!==0)return M;const H=io(y[p[S]],_[b[S]]);if(H!==0)return H}return zt(p.length,b.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function Rv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=ur(s),a=ur(t),l=zt(i.seconds,a.seconds);return l!==0?l:zt(i.nanos,a.nanos)}function Iv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=io(i[l],a[l]);if(c)return c}return zt(i.length,a.length)}function so(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function zc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function lm(s){return!!s&&"integerValue"in s}function zm(s){return!!s&&"arrayValue"in s}function Cv(s){return!!s&&"nullValue"in s}function xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function X2(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===VE}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return mr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(s.arrayValue.values[i]);return t}return{...s}}function $2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Y2}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Il(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){mr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new En(Il(this.value))}}function kE(s){const t=[];return mr(s.fields,((i,a)=>{const l=new tn([i]);if(jc(a)){const c=kE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new On(t)}class an{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new an(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Nv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=io(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ji(s.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function Z2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class UE{}class Be extends UE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new W2(t,i,a):i==="array-contains"?new nR(t,a):i==="in"?new iR(t,a):i==="not-in"?new sR(t,a):i==="array-contains-any"?new rR(t,a):new Be(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new tR(t,a):new eR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(s){return s.op==="and"}function PE(s){return J2(s)&&LE(s)}function J2(s){for(const t of s.filters)if(t instanceof Bi)return!1;return!0}function um(s){if(s instanceof Be)return s.field.canonicalString()+s.op.toString()+so(s.value);if(PE(s))return s.filters.map((t=>um(t))).join(",");{const t=s.filters.map((i=>um(i))).join(",");return`${s.op}(${t})`}}function zE(s,t){return s instanceof Be?(function(a,l){return l instanceof Be&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(s,t):s instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&zE(d,l.filters[y])),!0):!1})(s,t):void vt(19439)}function jE(s){return s instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(s):s instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(s):"Filter"}class W2 extends Be{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class tR extends Be{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class eR extends Be{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function BE(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class nR extends Be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zm(i)&&Ul(i.arrayValue,this.value)}}class iR extends Be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class sR extends Be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class rR extends Be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class aR{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Ov(s,t=null,i=[],a=[],l=null,c=null,d=null){return new aR(s,t,i,a,l,c,d)}function jm(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>so(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>so(a))).join(",")),t.Te=i}return t.Te}function Bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Z2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!zE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Dv(s.startAt,t.startAt)&&Dv(s.endAt,t.endAt)}function cm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function oR(s,t,i,a,l,c,d,y){return new yh(s,t,i,a,l,c,d,y)}function _h(s){return new yh(s)}function Mv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function lR(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function uR(s){return s.collectionGroup!==null}function Cl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new qe(tn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new ih(tn.keyField(),a))}return t.Ie}function Li(s){const t=Rt(s);return t.Ee||(t.Ee=cR(t,Cl(s))),t.Ee}function cR(s,t){if(s.limitType==="F")return Ov(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Ov(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function hm(s,t,i){return new yh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function vh(s,t){return Bm(Li(s),Li(t))&&s.limitType===t.limitType}function qE(s){return`${jm(Li(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${a})`})(Li(s))}; limitType=${s.limitType})`}function Eh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,p){const _=Nv(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,y,p){const _=Nv(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,Cl(a),l))})(s,t)}function hR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function HE(s){return(t,i)=>{let a=!1;for(const l of Cl(s)){const c=fR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function fR(s,t,i){const a=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?io(p,_):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const dR=new _e(gt.comparator);function gs(){return dR}const GE=new _e(gt.comparator);function bl(...s){let t=GE;for(const i of s)t=t.insert(i.key,i);return t}function FE(s){let t=GE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Qr(){return xl()}function QE(){return xl()}function xl(){return new Wr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const mR=new _e(gt.comparator),gR=new qe(gt.comparator);function jt(...s){let t=gR;for(const i of s)t=t.add(i);return t}const pR=new qe(zt);function yR(){return pR}function qm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function KE(s){return{integerValue:""+s}}function _R(s,t){return q2(t)?KE(t):qm(s,t)}class Th{constructor(){this._=void 0}}function vR(s,t,i){return s instanceof sh?(function(l,c){const d={fields:{[NE]:{stringValue:xE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=ph(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,t):s instanceof ro?XE(s,t):s instanceof Ll?$E(s,t):(function(l,c){const d=YE(l,c),y=Vv(d)+Vv(l.Ae);return lm(d)&&lm(l.Ae)?KE(y):qm(l.serializer,y)})(s,t)}function ER(s,t,i){return s instanceof ro?XE(s,t):s instanceof Ll?$E(s,t):i}function YE(s,t){return s instanceof rh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class sh extends Th{}class ro extends Th{constructor(t){super(),this.elements=t}}function XE(s,t){const i=ZE(t);for(const a of s.elements)i.some((l=>ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends Th{constructor(t){super(),this.elements=t}}function $E(s,t){let i=ZE(t);for(const a of s.elements)i=i.filter((l=>!ji(l,a)));return{arrayValue:{values:i}}}class rh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Vv(s){return Re(s.integerValue||s.doubleValue)}function ZE(s){return zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class TR{constructor(t,i){this.field=t,this.transform=i}}function bR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof ro&&l instanceof ro||a instanceof Ll&&l instanceof Ll?no(a.elements,l.elements,ji):a instanceof rh&&l instanceof rh?ji(a.Ae,l.Ae):a instanceof sh&&l instanceof sh})(s.transform,t.transform)}class SR{constructor(t,i){this.version=t,this.transformResults=i}}class ci{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function JE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Hm(s.key,ci.none()):new Yl(s.key,s.data,ci.none());{const i=s.data,a=En.empty();let l=new qe(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(s.key,a,new On(l.toArray()),ci.none())}}function AR(s,t,i){s instanceof Yl?(function(l,c,d){const y=l.value.clone(),p=Uv(l.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):s instanceof gr?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Uv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(WE(l)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,a){return s instanceof Yl?(function(c,d,y,p){if(!Bc(c.precondition,d))return y;const _=c.value.clone(),b=Lv(c.fieldTransforms,p,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof gr?(function(c,d,y,p){if(!Bc(c.precondition,d))return y;const _=Lv(c.fieldTransforms,p,d),b=d.data;return b.setAll(WE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,y){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,t,i)}function wR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=YE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function kv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&no(a,l,((c,d)=>bR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Yl extends bh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends bh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Uv(s,t,i){const a=new Map;$t(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,ER(d,y,i[l]))}return a}function Lv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,vR(c,d,t))}return a}class Hm extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RR extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&AR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=QE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const p=JE(d,y);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,a)=>kv(i,a)))&&no(this.baseMutations,t.baseMutations,((i,a)=>kv(i,a)))}}class Gm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return mR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(t,i,a,l)}}class CR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,Ht;function NR(s){switch(s){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function tT(s){if(s===void 0)return ms("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ue.OK:return Z.OK;case Ue.CANCELLED:return Z.CANCELLED;case Ue.UNKNOWN:return Z.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return Z.INTERNAL;case Ue.UNAVAILABLE:return Z.UNAVAILABLE;case Ue.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ue.NOT_FOUND:return Z.NOT_FOUND;case Ue.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ue.ABORTED:return Z.ABORTED;case Ue.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ue.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:s})}}(Ht=Ue||(Ue={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function DR(){return new TextEncoder}const OR=new rr([4294967295,4294967295],0);function Pv(s){const t=DR().encode(s),i=new yE;return i.update(t),new Uint8Array(i.digest())}function zv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(rr.fromNumber(a)));return l.compare(OR)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Pv(t),[a,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=Pv(t),[a,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(St.min(),l,new _e(zt),gs(),jt())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,jt(),jt(),jt())}}class qc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class eT{constructor(t,i){this.targetId=t,this.Ce=i}}class nT{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class jv{constructor(){this.ve=0,this.Fe=Bv(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),a=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Bv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MR{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.He=Oc(),this.Je=Oc(),this.Ze=new _e(zt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new gt(c.path);this.et(i,d,an.newNoDocument(d,St.min()))}else $t(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),p=y?this.ct(y,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=cr(a).toUint8Array()}catch(p){if(p instanceof CE)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new Fm(d,l,c)}catch(p){return eo(p instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&cm(y.target)){const p=new gt(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,an.newNoDocument(p,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=jt();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ze,this.je,a);return this.je=gs(),this.He=Oc(),this.Je=Oc(),this.Ze=new _e(zt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new jv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new qe(zt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new qe(zt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new jv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new _e(gt.comparator)}function Bv(){return new _e(gt.comparator)}const VR={asc:"ASCENDING",desc:"DESCENDING"},kR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class LR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function PR(s,t){return ah(s,t.toTimestamp())}function Pi(s){return $t(!!s,49232),St.fromTimestamp((function(i){const a=ur(i);return new de(a.seconds,a.nanos)})(s))}function Qm(s,t){return dm(s,t).canonicalString()}function dm(s,t){const i=(function(l){return new ye(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function sT(s){const t=ye.fromString(s);return $t(uT(t),10190,{key:t.toString()}),t}function mm(s,t){return Qm(s.databaseId,t.path)}function Fd(s,t){const i=sT(t);if(i.get(1)!==s.databaseId.projectId)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(aT(i))}function rT(s,t){return Qm(s.databaseId,t)}function zR(s){const t=sT(s);return t.length===4?ye.emptyPath():aT(t)}function gm(s){return new ye(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function aT(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function qv(s,t,i){return{name:mm(s,t),fields:i.value.mapValue.fields}}function jR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?($t(b===void 0||typeof b=="string",58123),en.fromBase64String(b||"")):($t(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),en.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:tT(_.code);return new ht(b,_.message||"")})(d);i=new nT(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Fd(s,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):St.min(),y=new En({mapValue:{fields:a.document.fields}}),p=an.newFoundDocument(l,c,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(_,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Fd(s,a.document),c=a.readTime?Pi(a.readTime):St.min(),d=an.newNoDocument(l,c),y=a.removedTargetIds||[];i=new qc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Fd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new xR(l,c),y=a.targetId;i=new eT(y,d)}}return i}function BR(s,t){let i;if(t instanceof Yl)i={update:qv(s,t.key,t.value)};else if(t instanceof Hm)i={delete:mm(s,t.key)};else if(t instanceof gr)i={update:qv(s,t.key,t.data),updateMask:$R(t.fieldMask)};else{if(!(t instanceof RR))return vt(16599,{dt:t.type});i={verify:mm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:PR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function qR(s,t){return s&&s.length>0?($t(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(St.min())&&(d=Pi(c)),new SR(d,l.transformResults||[])})(i,t)))):[]}function HR(s,t){return{documents:[rT(s,t.path)]}}function GR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rT(s,l);const c=(function(_){if(_.length!==0)return lT(Bi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:Fa(M.field),direction:KR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=fm(s,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function FR(s){let t=zR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){$t(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=oT(S);return M instanceof Bi&&PE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new ih(Qa(W.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,gh(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(S){const M=!!S.before,H=S.values||[];return new nh(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,H=S.values||[];return new nh(H,M)})(i.endAt)),oR(t,l,d,c,y,"F",p,_)}function QR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Be.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>oT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function KR(s){return VR[s]}function YR(s){return kR[s]}function XR(s){return UR[s]}function Fa(s){return{fieldPath:s.canonicalString()}}function Qa(s){return tn.fromServerFormat(s.fieldPath)}function lT(s){return s instanceof Be?(function(i){if(i.op==="=="){if(xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:YR(i.op),value:i.value}}})(s):s instanceof Bi?(function(i){const a=i.getFilters().map((l=>lT(l)));return a.length===1?a[0]:{compositeFilter:{op:XR(i.op),filters:a}}})(s):vt(54877,{filter:s})}function $R(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function uT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function cT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class er{constructor(t,i,a,l,c=St.min(),d=St.min(),y=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZR{constructor(t){this.yt=t}}function JR(s){const t=FR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(t,t.limit,"L"):t}class WR{constructor(){this.Sn=new tI}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(lr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class tI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new qe(ye.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new qe(ye.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(hT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class ao{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}const Gv="LruGarbageCollector",eI=1048576;function Fv([s,t],[i,a]){const l=zt(s,i);return l===0?zt(t,a):l}class nI{constructor(t){this.Pr=t,this.buffer=new qe(Fv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Fv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(Gv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?ot(Gv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class sI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(mh.ce);const a=new nI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,y,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Ha()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function rI(s,t){return new sI(s,t)}class aI{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class oI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class lI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,On.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=jt()){const l=Qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Qr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,jt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=gs();const d=xl(),y=(function(){return xl()})();return i.forEach(((p,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof gr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Nl(b.mutation,_,b.mutation.getFieldMask(),de.now())):d.set(_.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new oI(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=xl();let l=new _e(((d,y)=>d-y)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let b=a.get(p)||On.empty();b=y.applyToLocalView(_,b),a.set(p,b);const S=(l.get(y.batchId)||jt()).add(p);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,b=p.value,S=QE();b.forEach((M=>{if(!c.has(M)){const H=JE(i.get(M),a.get(M));H!==null&&S.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return lR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Qr());let y=Ml,p=c;return d.next((_=>X.forEach(_,((b,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{p=p.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,jt()))).next((b=>({batchId:y,changes:FE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(p=>{const _=(function(S,M){return new yh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((p,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let y=bl();return d.forEach(((p,_)=>{const b=c.get(p);b!==void 0&&Nl(b.mutation,_,On.empty(),de.now()),Eh(i,_)&&(y=y.insert(p,_))})),y}))}}class uI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:JR(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),X.resolve()}}class cI{constructor(){this.overlays=new _e(gt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Qr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Qr(),c=i.length+1,d=new gt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new _e(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Qr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=Qr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=l)););return X.resolve(y)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new CR(i,a));let c=this.Lr.get(i);c===void 0&&(c=jt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class hI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Km{constructor(){this.kr=new qe(Qe.Kr),this.qr=new qe(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Qe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Qe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new gt(new ye([])),a=new Qe(i,t),l=new Qe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new gt(new ye([])),a=new Qe(i,t),l=new Qe(i,t+1);let c=jt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Qe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Qe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return gt.comparator(t.key,i.key)||zt(t.Hr,i.Hr)}static Ur(t,i){return zt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}class fI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qe(Qe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Qe(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Qe(i,0),l=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new qe(zt);return i.forEach((l=>{const c=new Qe(l,0),d=new Qe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new gt(c),0);let y=new qe(zt);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(p.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Qe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Qe(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dI{constructor(t){this.ti=t,this.docs=(function(){return new _e(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=gs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=gs();const d=i.path,y=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||P2(L2(b),a)<=0||(l.has(b.key)||Eh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new mI(this)}getSize(t){return X.resolve(this.size)}}class mI extends aI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class gI{constructor(t){this.persistence=t,this.ri=new Wr((i=>jm(i)),Bm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=ao._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class fT{constructor(t,i){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new hI,this.referenceDelegate=t(this),this.li=new gI(this),this.indexManager=new WR,this.remoteDocumentCache=(function(l){return new dI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new ZR(i),this.Pi=new uI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new cI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new fI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new pI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class pI extends j2{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Km,this.Ai=null}static Vi(t){return new Ym(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=gt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.fi=new Wr((a=>H2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=rI(this,i)}static Vi(t,i){return new oh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((y=>{y||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,a,l)}}class yI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _I{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eS()?8:B2(on())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yI;return this.ys(t,i,d).next((y=>{if(c.result=y,this.As)return this.ws(t,i,d,y.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ha()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ha()<=Pt.DEBUG&&ot("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ha()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):X.resolve())}gs(t,i){if(Mv(i))return X.resolve(null);let a=Li(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=jt(...c);return this.fs.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((p=>{const _=this.bs(i,y);return this.Ss(i,_,d,p.readTime)?this.gs(t,hm(i,null,"F")):this.Ds(t,_,i,p)}))))})))))}ps(t,i,a,l){return Mv(i)||l.isEqual(St.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ha()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(t,d,i,U2(l,Ml)).next((y=>y)))}))}bs(t,i){let a=new qe(HE(t));return i.forEach(((l,c)=>{Eh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ha()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(t,i,lr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",vI=3e8;class EI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new _e(zt),this.Fs=new Wr((c=>jm(c)),Bm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function TI(s,t,i,a){return new EI(s,t,i,a)}async function dT(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=jt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of c){y.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function bI(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,b){const S=_.batch,M=S.keys();let H=X.resolve();return M.forEach((W=>{H=H.next((()=>b.getEntry(p,W))).next((st=>{const nt=_.docVersions.get(W);$t(nt!==null,48541),st.version.compareTo(nt)<0&&(S.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),b.addEntry(st)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(p,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=jt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function mT(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function SI(s,t){const i=Rt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];t.targetChanges.forEach(((b,S)=>{const M=l.get(S);if(!M)return;y.push(i.li.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,S))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(en.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),l=l.insert(S,H),(function(st,nt,yt){return st.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=vI?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(M,H,b)&&y.push(i.li.updateTargetData(c,H))}));let p=gs(),_=jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(AI(c,d,t.documentUpdates).next((b=>{p=b.Bs,_=b.Ls}))),!a.isEqual(St.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.vs=l,c)))}function AI(s,t,i){let a=jt(),l=jt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=gs();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(y,p)):ot($m,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{Bs:d,Ls:l}}))}function wI(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function RI(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new er(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function pm(s,t,i){const a=Rt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;ot($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Qv(s,t,i){const a=Rt(s);let l=St.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,b){const S=Rt(p),M=S.Fs.get(b);return M!==void 0?X.resolve(S.vs.get(M)):S.li.getTargetData(_,b)})(a,d,Li(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:jt()))).next((y=>(II(a,hR(t),y),{documents:y,ks:c})))))}function II(s,t,i){let a=s.Ms.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Kv{constructor(){this.activeTargetIds=yR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CI{constructor(){this.vo=new Kv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Kv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xI{Mo(t){}shutdown(){}}const Yv="ConnectivityMonitor";class Xv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function ym(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Qd="RestConnection",NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=ym(),y=this.Qo(t,i.toUriEncodedString());ot(Qd,`Sending RPC '${t}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,l,c);const{host:_}=new URL(y),b=lo(_);return this.zo(t,y,p,a,b).then((S=>(ot(Qd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw eo(Qd,`RPC '${t}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=NI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class OI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",El=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Za extends DI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Za.c_){const t=TE();El(t,EE.STAT_EVENT,(i=>{i.stat===rm.PROXY?ot(sn,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&ot(sn,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(t,i,a,l,c){const d=ym();return new Promise(((y,p)=>{const _=new _E;_.setWithCredentials(!0),_.listenOnce(vE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const S=_.getResponseJson();ot(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),y(S);break;case Pc.TIMEOUT:ot(sn,`RPC '${t}' ${d} timed out`),p(new ht(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=_.getStatus();if(ot(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const st=(function(yt){const It=yt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(It)>=0?It:Z.UNKNOWN})(W.status);p(new ht(st,W.message))}else p(new ht(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ht(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(sn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(sn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=ym(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");ot(sn,`Creating RPC '${t}' stream ${l}: ${_}`,y);const b=d.createWebChannel(_,y);this.I_(b);let S=!1,M=!1;const H=new OI({Ho:W=>{M?ot(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(S||(ot(sn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),S=!0),ot(sn,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return El(b,Tl.EventType.OPEN,(()=>{M||(ot(sn,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),El(b,Tl.EventType.CLOSE,(()=>{M||(M=!0,ot(sn,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(b))})),El(b,Tl.EventType.ERROR,(W=>{M||(M=!0,eo(sn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),H.o_(new ht(Z.UNAVAILABLE,"The operation could not be completed")))})),El(b,Tl.EventType.MESSAGE,(W=>{if(!M){const st=W.data[0];$t(!!st,16349);const nt=st,yt=nt?.error||nt[0]?.error;if(yt){ot(sn,`RPC '${t}' stream ${l} received error:`,yt);const It=yt.status;let _t=(function(Ot){const I=Ue[Ot];if(I!==void 0)return tT(I)})(It),Dt=yt.message;_t===void 0&&(_t=Z.INTERNAL,Dt="Unknown error status: "+It+" with message "+yt.message),M=!0,H.o_(new ht(_t,Dt)),b.close()}else ot(sn,`RPC '${t}' stream ${l} received:`,st),H.__(st)}})),Za.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bE()}}function MI(s){return new Za(s)}function Kd(){return typeof document<"u"?document:null}function Ah(s){return new LR(s,!0)}Za.c_=!1;class gT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $v="PersistentStream";class pT{constructor(t,i,a,l,c,d,y,p){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot($v,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VI extends pT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=jR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Pi(d.readTime):St.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=cm(p)?{documents:HR(c,p)}:{query:GR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=iT(c,d.resumeToken);const _=fm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){y.readTime=ah(c,d.snapshotVersion.toTimestamp());const _=fm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const a=QR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=gm(this.serializer),i.removeTarget=t,this.K_(i)}}class kI extends pT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=qR(t.writeResults,t.commitTime),a=Pi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=gm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>BR(this.serializer,a)))};this.K_(i)}}class UI{}class LI extends UI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(Z.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(t,dm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PI(s,t,i,a){return new LI(s,t,i,a)}class zI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class jI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(ot(Zr,"Restarting streams for network reachability change."),await(async function(p){const _=Rt(p);_.Ea.add(4),await $l(_),_.Va.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Va=new zI(a,l)}}async function wh(s){if(ta(s))for(const t of s.Ra)await t(!0)}async function $l(s){for(const t of s.Ra)await t(!1)}function yT(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tg(i)?Wm(i):go(i).O_()&&Jm(i,t))}function Zm(s,t){const i=Rt(s),a=go(i);i.Ia.delete(t),a.O_()&&_T(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Va.set("Unknown"))}function Jm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(s).Z_(t)}function _T(s,t){s.da.$e(t),go(s).X_(t)}function Wm(s){s.da=new MR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Va.ua()}function tg(s){return ta(s)&&!go(s).x_()&&s.Ia.size>0}function ta(s){return Rt(s).Ea.size===0}function vT(s){s.da=void 0}async function BI(s){s.Va.set("Online")}async function qI(s){s.Ia.forEach(((t,i)=>{Jm(s,t)}))}async function HI(s,t){vT(s),tg(s)?(s.Va.ha(t),Wm(s)):s.Va.set("Unknown")}async function GI(s,t,i){if(s.Va.set("Online"),t instanceof nT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,t)}catch(a){ot(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lh(s,a)}else if(t instanceof qc?s.da.Xe(t):t instanceof eT?s.da.st(t):s.da.tt(t),!i.isEqual(St.min()))try{const a=await mT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(en.EMPTY_BYTE_STRING,b.snapshotVersion)),_T(c,p);const S=new er(b.target,p,_,b.sequenceNumber);Jm(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ot(Zr,"Failed to raise snapshot:",a),await lh(s,a)}}async function lh(s,t,i){if(!mo(t))throw t;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>mT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Zr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function ET(s,t){return t().catch((i=>lh(s,i,t)))}async function Rh(s){const t=Rt(s),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;FI(t);)try{const l=await wI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,QI(t,l)}catch(l){await lh(t,l)}TT(t)&&bT(t)}function FI(s){return ta(s)&&s.Ta.length<10}function QI(s,t){s.Ta.push(t);const i=fr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function TT(s){return ta(s)&&!fr(s).x_()&&s.Ta.length>0}function bT(s){fr(s).start()}async function KI(s){fr(s).ra()}async function YI(s){const t=fr(s);for(const i of s.Ta)t.ea(i.mutations)}async function XI(s,t,i){const a=s.Ta.shift(),l=Gm.from(a,t,i);await ET(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rh(s)}async function $I(s,t){t&&fr(s).Y_&&await(async function(a,l){if((function(d){return NR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await ET(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(s,t),TT(s)&&bT(s)}async function Zv(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),ot(Zr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function ZI(s,t){const i=Rt(s);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(i,a,l){const c=Rt(i);return c.sa(),new VI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:BI.bind(null,s),Yo:qI.bind(null,s),t_:HI.bind(null,s),J_:GI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),tg(s)?Wm(s):s.Va.set("Unknown")):(await s.ma.stop(),vT(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(i,a,l){const c=Rt(i);return c.sa(),new kI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:KI.bind(null,s),t_:$I.bind(null,s),ta:YI.bind(null,s),na:XI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class eg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new eg(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(s,t){if(ms("AsyncQueue",`${t}: ${s}`),mo(s))return new ht(Z.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Jv{constructor(){this.ga=new _e(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class oo{constructor(t,i,a,l,c,d,y,p,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new oo(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class JI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class WI{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Rt(i),c=l.queries;l.queries=Wv(),c.forEach(((d,y)=>{for(const p of y.ba)p.onError(a)}))})(this,new ht(Z.ABORTED,"Firestore shutting down"))}}function Wv(){return new Wr((s=>qE(s)),vh)}async function ST(s,t){const i=Rt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new JI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=ng(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ig(i)}async function AT(s,t){const i=Rt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tC(s,t){const i=Rt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&ig(i)}function eC(s,t,i){const a=Rt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function ig(s){s.Ca.forEach((t=>{t.next()}))}var _m,t0;(t0=_m||(_m={})).Ma="default",t0.Cache="cache";class wT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new oo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class RT{constructor(t){this.key=t}}class IT{constructor(t){this.key=t}}class nC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=HE(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Jv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const M=l.get(b),H=Eh(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),st=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let nt=!1;M&&H?M.data.isEqual(H.data)?W!==st&&(a.track({type:3,doc:H}),nt=!0):this.su(M,H)||(a.track({type:2,doc:H}),nt=!0,(p&&this.eu(H,p)>0||_&&this.eu(H,_)<0)&&(y=!0)):!M&&H?(a.track({type:0,doc:H}),nt=!0):M&&!H&&(a.track({type:1,doc:M}),nt=!0,(p||_)&&(y=!0)),nt&&(H?(d=d.add(H),c=st?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(H,W){const st=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:nt})}};return st(H)-st(W)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Xa;return this.Xa=p,d.length!==0||_?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new IT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new RT(a))})),i}cu(t){this.Za=t.ks,this.Ya=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class iC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class sC{constructor(t){this.key=t,this.hu=!1}}class rC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((y=>qE(y)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new _e(gt.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aC(s,t,i=!0){const a=MT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await CT(a,t,i,!0),l}async function oC(s,t){const i=MT(s);await CT(i,t,!0,!1)}async function CT(s,t,i,a){const l=await RI(s.localStore,Li(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await lC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&yT(s.remoteStore,l),y}async function lC(s,t,i,a,l){s.pu=(S,M,H)=>(async function(st,nt,yt,It){let _t=nt.view.ru(yt);_t.Ss&&(_t=await Qv(st.localStore,nt.query,!1).then((({documents:I})=>nt.view.ru(I,_t))));const Dt=It&&It.targetChanges.get(nt.targetId),ne=It&&It.targetMismatches.get(nt.targetId)!=null,Ot=nt.view.applyChanges(_t,st.isPrimaryClient,Dt,ne);return n0(st,nt.targetId,Ot.au),Ot.snapshot})(s,S,M,H);const c=await Qv(s.localStore,t,!0),d=new nC(t,c.ks),y=d.ru(c.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,p);n0(s,i,_.au);const b=new iC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function uC(s,t,i){const a=Rt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(fo)):(vm(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function cC(s,t){const i=Rt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function hC(s,t,i){const a=_C(s);try{const l=await(function(d,y){const p=Rt(d),_=de.now(),b=y.reduce(((H,W)=>H.add(W.key)),jt());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=gs(),st=jt();return p.xs.getEntries(H,b).next((nt=>{W=nt,W.forEach(((yt,It)=>{It.isValidDocument()||(st=st.add(yt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,W))).next((nt=>{S=nt;const yt=[];for(const It of y){const _t=wR(It,S.get(It.key).overlayedDocument);_t!=null&&yt.push(new gr(It.key,_t,kE(_t.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,yt,y)})).next((nt=>{M=nt;const yt=nt.applyToLocalDocumentSet(S,st);return p.documentOverlayCache.saveOverlays(H,nt.batchId,yt)}))})).then((()=>({batchId:M.batchId,changes:FE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,p){let _=d.du[d.currentUser.toKey()];_||(_=new _e(zt)),_=_.insert(y,p),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Zl(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=ng(l,"Failed to persist write");i.reject(c)}}async function xT(s,t){const i=Rt(s);try{const a=await SI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await fo(a)}}function e0(s,t,i){const a=Rt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const p=Rt(d);p.onlineState=y;let _=!1;p.queries.forEach(((b,S)=>{for(const M of S.ba)M.va(y)&&(_=!0)})),_&&ig(p)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function fC(s,t,i){const a=Rt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new _e(gt.comparator);d=d.insert(c,an.newNoDocument(c,St.min()));const y=jt().add(c),p=new Sh(St.min(),new Map,new _e(zt),d,y);await xT(a,p),a.Ru=a.Ru.remove(c),a.Au.delete(t),rg(a)}else await pm(a.localStore,t,!1).then((()=>vm(a,t,i))).catch(fo)}async function dC(s,t){const i=Rt(s),a=t.batch.batchId;try{const l=await bI(i.localStore,t);DT(i,a,null),NT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await fo(l)}}async function mC(s,t,i){const a=Rt(s);try{const l=await(function(d,y){const p=Rt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,y).next((S=>($t(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);DT(a,t,i),NT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await fo(l)}}function NT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function DT(s,t,i){const a=Rt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function vm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||OT(s,a)}))}function OT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Zm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),rg(s))}function n0(s,t,i){for(const a of i)a instanceof RT?(s.Vu.addReference(a.key,t),gC(s,a)):a instanceof IT?(ot(sg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||OT(s,a.key)):vt(19791,{wu:a})}function gC(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ot(sg,"New document in limbo: "+i),s.Eu.add(a),rg(s))}function rg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(ye.fromString(t)),a=s.fu.next();s.Au.set(a,new sC(i)),s.Ru=s.Ru.insert(i,a),yT(s.remoteStore,new er(Li(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Zl(s,t,i){const a=Rt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Xm.Es(p.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(p,_){const b=Rt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(M=>X.forEach(M.Ts,(H=>b.persistence.referenceDelegate.addReference(S,M.targetId,H))).next((()=>X.forEach(M.Is,(H=>b.persistence.referenceDelegate.removeReference(S,M.targetId,H)))))))))}catch(S){if(!mo(S))throw S;ot($m,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const H=b.vs.get(M),W=H.snapshotVersion,st=H.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(M,st)}}})(a.localStore,c))}async function pC(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){ot(sg,"User change. New user:",t.toKey());const a=await dT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new ht(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ns)}}function yC(s,t){const i=Rt(s),a=i.Au.get(t);if(a&&a.hu)return jt().add(a.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function MT(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fC.bind(null,t),t.Pu.J_=tC.bind(null,t.eventManager),t.Pu.yu=eC.bind(null,t.eventManager),t}function _C(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mC.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return TI(this.persistence,new _I,t.initialUser,this.serializer)}Cu(t){return new fT(Ym.Vi,this.serializer)}Du(t){return new CI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class vC extends uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new fT((a=>oh.Vi(a,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>e0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),await ZI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WI})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=MI(t.databaseInfo);return PI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new jI(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>e0(this.syncEngine,i,0)),(function(){return Xv.v()?new Xv:new xI})())}createSyncEngine(t,i){return(function(l,c,d,y,p,_,b){const S=new rC(l,c,d,y,p,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);ot(Zr,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class VT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class EC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ng(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(dr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await dT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function i0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await TC(s);ot(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Zv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Zv(t.remoteStore,l))),s._onlineComponents=t}async function TC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(dr,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new uh)}}else ot(dr,"Using default OfflineComponentProvider"),await Yd(s,new vC(void 0));return s._offlineComponents}async function kT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(dr,"Using user provided OnlineComponentProvider"),await i0(s,s._uninitializedComponentsProvider._online)):(ot(dr,"Using default OnlineComponentProvider"),await i0(s,new Em))),s._onlineComponents}function bC(s){return kT(s).then((t=>t.syncEngine))}async function Tm(s){const t=await kT(s),i=t.eventManager;return i.onListen=aC.bind(null,t.syncEngine),i.onUnlisten=uC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=oC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=cC.bind(null,t.syncEngine),i}function SC(s,t,i,a){const l=new VT(a),c=new wT(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>ST(await Tm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>AT(await Tm(s),c)))}}function AC(s,t,i={}){const a=new ar;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const b=new VT({next:M=>{b.Nu(),d.enqueueAndForget((()=>AT(c,S)));const H=M.docs.has(y);!H&&M.fromCache?_.reject(new ht(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&p&&p.source==="server"?_.reject(new ht(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new wT(_h(y.path),b,{includeMetadataChanges:!0,Ka:!0});return ST(c,S)})(await Tm(s),s.asyncQueue,t,i,a))),a.promise}function wC(s,t){const i=new ar;return s.asyncQueue.enqueueAndForget((async()=>hC(await bC(s),t,i))),i.promise}function UT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const RC="ComponentProvider",s0=new Map;function IC(s,t,i,a,l){return new Q2(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,UT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const LT="firestore.googleapis.com",r0=!0;class a0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=r0}else this.host=t.host,this.ssl=t.ssl??r0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eI)throw new ht(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}k2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ag{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A2;switch(a.type){case"firstParty":return new C2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=s0.get(i);a&&(ot(RC,"Removing Datastore"),s0.delete(i),a.terminate())})(this),Promise.resolve()}}function CC(s,t,i,a={}){s=ui(s,ag);const l=lo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${t}:${i}`;l&&(O0(`https://${y}`),M0("Firestore",!0)),c.host!==LT&&c.host!==y&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:l,emulatorOptions:a};if(!or(p,d)&&(s._setSettings(p),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=rn.MOCK_USER;else{_=Qb(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ht(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new rn(S)}s._authCredentials=new w2(new AE(_,b))}}class Ih{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Kl(i,Pe._jsonSchema))return new Pe(t,a||null,new gt(ye.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Le("string",Pe._jsonSchemaVersion),referencePath:Le("string")};class Pl extends Ih{constructor(t,i,a){super(t,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new gt(t))}withConverter(t){return new Pl(this.firestore,t,this._path)}}function Nn(s,t,...i){if(s=hn(s),arguments.length===1&&(t=km.newId()),V2("doc","path",t),s instanceof ag){const a=ye.fromString(t,...i);return Ev(a),new Pe(s,null,new gt(a))}{if(!(s instanceof Pe||s instanceof Pl))throw new ht(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ye.fromString(t,...i));return Ev(a),new Pe(s.firestore,s instanceof Pl?s.converter:null,new gt(a))}}const o0="AsyncQueue";class l0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&ot(o0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;ot(o0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",u0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=eg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:u0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function u0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Jr extends ag{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new l0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l0(t),this._firestoreClient=void 0,await t}}}function xC(s,t){const i=typeof s=="object"?s:L0(),a=typeof s=="string"?s:th,l=wm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Gb("firestore");c&&CC(l,...c)}return l}function og(s){if(s._terminated)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NC(s),s._firestoreClient}function NC(s){const t=s._freezeSettings(),i=IC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new EC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(en.fromBase64String(t))}catch(i){throw new ht(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Le("string",Xn._jsonSchemaVersion),bytes:Le("string")};class lg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ch{constructor(t){this._methodName=t}}class zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Le("string",zi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class hi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new hi(t.vectorValues);throw new ht(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Le("string",hi._jsonSchemaVersion),vectorValues:Le("object")};const DC=/^__.*__$/;class OC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class PT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function zT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class xh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new xh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ch(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(zT(this.dataSource)&&DC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class MC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}createContext(t,i,a,l=!1){return new xh({dataSource:t,methodName:i,targetDoc:a,path:tn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new MC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function VC(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);cg("Data must be an object, but it was:",d,a);const y=BT(a,d);let p,_;if(c.merge)p=new On(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=zl(t,S,i);if(!d.contains(M))throw new ht(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);GT(b,M)||b.push(M)}p=new On(b),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new OC(new En(y),p,_)}class Nh extends Ch{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function kC(s,t,i){return new xh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ug extends Ch{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=kC(this,t,!0),a=this.Ac.map((c=>Jl(c,i))),l=new ro(a);return new TR(t.path,l)}isEqual(t){return t instanceof ug&&or(this.Ac,t.Ac)}}function UC(s,t,i,a){const l=s.createContext(1,t,i);cg("Data must be an object, but it was:",l,a);const c=[],d=En.empty();mr(a,((p,_)=>{const b=HT(t,p,i);_=hn(_);const S=l.childContextForFieldPath(b);if(_ instanceof Nh)c.push(b);else{const M=Jl(_,S);M!=null&&(c.push(b),d.set(b,M))}}));const y=new On(c);return new PT(d,y,l.fieldTransforms)}function LC(s,t,i,a,l,c){const d=s.createContext(1,t,i),y=[zl(t,a,i)],p=[l];if(c.length%2!=0)throw new ht(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(zl(t,c[M])),p.push(c[M+1]);const _=[],b=En.empty();for(let M=y.length-1;M>=0;--M)if(!GT(_,y[M])){const H=y[M];let W=p[M];W=hn(W);const st=d.childContextForFieldPath(H);if(W instanceof Nh)_.push(H);else{const nt=Jl(W,st);nt!=null&&(_.push(H),b.set(H,nt))}}const S=new On(_);return new PT(b,S,d.fieldTransforms)}function Jl(s,t){if(qT(s=hn(s)))return cg("Unsupported field value:",t,s),BT(s,t);if(s instanceof Ch)return(function(a,l){if(!zT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let p=Jl(y,l.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _R(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:iT(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof hi)return(function(d,y){const p=d instanceof hi?d.toArray():d;return{mapValue:{fields:{[ME]:{stringValue:VE},[eh]:{arrayValue:{values:p.map((b=>{if(typeof b!="number")throw y.createError("VectorValues must only contain numeric values.");return qm(y.serializer,b)}))}}}}}})(a,l);if(cT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Um(a)}`)})(s,t)}function BT(s,t){const i={};return IE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(s,((a,l)=>{const c=Jl(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function qT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof de||s instanceof zi||s instanceof Xn||s instanceof Pe||s instanceof Ch||s instanceof hi||cT(s))}function cg(s,t,i){if(!qT(i)||!wE(i)){const a=Um(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function zl(s,t,i){if((t=hn(t))instanceof lg)return t._internalPath;if(typeof t=="string")return HT(s,t);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const PC=new RegExp("[~\\*/\\[\\]]");function HT(s,t,i){if(t.search(PC)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new lg(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ht(Z.INVALID_ARGUMENT,y+s+p)}function GT(s,t){return s.some((i=>i.isEqual(t)))}class zC{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return mr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((a=>Re(a.doubleValue)));return new hi(i)}convertGeoPoint(t){return new zi(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=ur(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ye.fromString(t);$t(uT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||ms(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class FT extends zC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function qa(...s){return new ug("arrayUnion",s)}const c0="@firebase/firestore",h0="4.10.0";function f0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class QT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(zl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jC extends QT{data(){return super.data()}}function BC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ht(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function qC(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends QT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Le("string",Kr._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Hc extends Kr{data(t={}){return super.data(t)}}class Wa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const p=new Hc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Hc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:HC(y.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Le("string",Wa._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};function d0(s){s=ui(s,Pe);const t=ui(s.firestore,Jr),i=og(t);return AC(i,s._key).then((a=>KT(t,s,a)))}function GC(s,t,i){s=ui(s,Pe);const a=ui(s.firestore,Jr),l=qC(s.converter,t),c=jT(a);return hg(a,[VC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ci.none())])}function Mi(s,t,i,...a){s=ui(s,Pe);const l=ui(s.firestore,Jr),c=jT(l);let d;return d=typeof(t=hn(t))=="string"||t instanceof lg?LC(c,"updateDoc",s._key,t,i,a):UC(c,"updateDoc",s._key,t),hg(l,[d.toMutation(s._key,ci.exists(!0))])}function FC(s){return hg(ui(s.firestore,Jr),[new Hm(s._key,ci.none())])}function m0(s,...t){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||f0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(f0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Pe)d=ui(s.firestore,Jr),y=_h(s._key.path),c={next:_=>{t[a]&&t[a](KT(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=ui(s,Ih);d=ui(_.firestore,Jr),y=_._query;const b=new FT(d);c={next:S=>{t[a]&&t[a](new Wa(d,b,_,S))},error:t[a+1],complete:t[a+2]},BC(s._query)}const p=og(d);return SC(p,y,l,c)}function hg(s,t){const i=og(s);return wC(i,t)}function KT(s,t,i){const a=i.docs.get(t._key),l=new FT(s);return new Kr(s,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){S2(uo),to(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new Jr(new R2(a.getProvider("auth-internal")),new x2(d,a.getProvider("app-check-internal")),K2(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),sr(c0,h0,t),sr(c0,h0,"esm2020")})();const YT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const QC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const KC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const g0=s=>{const t=KC(s);return t.charAt(0).toUpperCase()+t.slice(1)};var YC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XC=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const $C=fe.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},p)=>fe.createElement("svg",{ref:p,...YC,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:YT("lucide",l),...!c&&!XC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>fe.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ie=(s,t)=>{const i=fe.forwardRef(({className:a,...l},c)=>fe.createElement($C,{ref:c,iconNode:t,className:YT(`lucide-${QC(g0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=g0(s),i};const ZC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],JC=Ie("arrow-right",ZC);const WC=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p0=Ie("ban",WC);const tx=[["circle",{cx:"12",cy:"11.9",r:"2",key:"e8h31w"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6",key:"17bolr"}],["path",{d:"m8.9 10.1 1.4.8",key:"15ezny"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5",key:"wtwa5u"}],["path",{d:"m15.1 10.1-1.4.8",key:"1r0b28"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2",key:"m7qszh"}],["path",{d:"M12 13.9v1.6",key:"zfyyim"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0",key:"1bi9q0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5",key:"1rhjqw"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5",key:"8gsud3"}]],Dh=Ie("biohazard",tx);const ex=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],y0=Ie("book-open",ex);const nx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_0=Ie("circle-check-big",nx);const ix=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],v0=Ie("crown",ix);const sx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],rx=Ie("crosshair",sx);const ax=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ox=Ie("hammer",ax);const lx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ux=Ie("history",lx);const cx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hx=Ie("house",cx);const fx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gc=Ie("log-out",fx);const dx=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],mx=Ie("pill",dx);const gx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],px=Ie("play",gx);const yx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_x=Ie("rotate-ccw",yx);const vx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],po=Ie("skull",vx);const Ex=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],E0=Ie("sparkles",Ex);const Tx=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],fg=Ie("syringe",Tx);const bx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sx=Ie("trash-2",bx);const Ax=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wx=Ie("user",Ax);const Rx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ix=Ie("users",Rx);const Cx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xx=Ie("x",Cx),Nx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:36417135068764fe6aa637"},XT=U0(Nx),Xd=T2(XT),Dn=xC(XT),Kn=typeof __app_id<"u"?__app_id:"last-of-us-game",Dx="22",Ox={2:14,3:12,4:11,5:10,6:9},Mx=()=>{const s=[];return Object.entries({1:2,3:4,5:6,7:8,9:6,11:4,13:2}).forEach(([a,l])=>{for(let c=0;c<l;c++)s.push({val:parseInt(a),type:"ZOMBIE"})}),Object.entries({2:3,4:5,6:7,8:7,10:5,12:3}).forEach(([a,l])=>{for(let c=0;c<l;c++)s.push({val:parseInt(a),type:"ANTIDOTE"})}),s},Vx=s=>{let t=s.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[s[t],s[i]]=[s[i],s[t]];return s},T0=()=>x.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[x.jsx(po,{size:12,className:"text-red-600"}),x.jsx("span",{className:"text-[10px] font-black tracking-widest text-red-600 uppercase",children:"LAST OF US"})]}),kx=()=>x.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[x.jsx(po,{size:22,className:"text-red-600"}),x.jsx("span",{className:"text-[20px] font-black tracking-widest text-red-600 uppercase",children:"LAST OF US"})]}),b0={1:Dh,2:mx,3:rx,4:po,5:fg},$d=({isShaking:s})=>x.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900/40 via-gray-950 to-black"}),x.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((t,i)=>{const a=Object.keys(b0),l=a[i%a.length],c=b0[l];return x.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:x.jsx(c,{size:32})},i)})}),x.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),S0=({val:s,type:t,count:i=1,size:a="md",selected:l=!1,onClick:c,disabled:d=!1,faded:y=!1,isBoard:p=!1})=>{const _=t==="ZOMBIE";let b="";p?b=_?"bg-red-900 border-red-600 shadow-red-900/40":"bg-lime-900 border-lime-500 shadow-lime-900/40":b=_?"bg-linear-to-b from-red-800 to-stone-900 border-red-600":"bg-linear-to-b from-lime-700 to-stone-900 border-lime-500";const S=_?"text-red-100":"text-lime-100",M=_?"text-red-500/30":"text-lime-400/30",H=a==="lg"?64:a==="md"?48:24,W=a==="lg"?"w-20 h-32 md:w-28 md:h-40 text-3xl md:text-5xl":a==="sm"?"w-10 h-14 text-xs":"w-16 h-24 md:w-20 md:h-28 text-xl md:text-2xl";return x.jsxs("div",{onClick:d?void 0:c,className:`
        ${W} rounded-xl border-2 flex flex-col items-center justify-center shadow-xl relative overflow-hidden transition-all duration-200 shrink-0
        ${b}
        ${l?"ring-4 ring-yellow-400 -translate-y-4 z-20 scale-110":""}
        ${d?y?"opacity-40 grayscale":"cursor-default":"cursor-pointer hover:scale-105"}
        ${!d&&!l?"hover:-translate-y-1":""}
      `,children:[x.jsx("div",{className:`absolute top-1 left-2 font-black opacity-70 text-[10px] ${S}`,children:_?"ZMB":"ANT"}),x.jsx("div",{className:`font-black ${S} z-10`,children:s}),_?x.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:x.jsx(po,{size:H,strokeWidth:2.5})}):x.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:x.jsx(fg,{size:H,strokeWidth:2.5})}),i>1&&x.jsxs("div",{className:"absolute top-[-5px] right-[-5px] bg-yellow-500 text-black font-bold rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-md border border-yellow-600 z-20",children:["x",i]})]})},A0=({onConfirmLeave:s,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>x.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:x.jsxs("div",{className:"bg-stone-900 rounded-xl border border-red-900/50 p-6 max-w-sm w-full text-center shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-linear-to-r from-red-600 to-transparent"}),x.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center justify-center gap-2",children:[x.jsx(Dh,{className:"text-red-500"})," Abandon Zone?"]}),x.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Host, leaving will disband the group and return everyone to the menu.":l?"Leaving now will disrupt the survival effort.":"Disconnect from the safe house?"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("button",{onClick:i,className:"bg-gray-800 hover:bg-gray-700 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),a&&l&&x.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-700 hover:bg-blue-600 text-white shadow-lg",children:[x.jsx(hx,{size:18})," Return Group to Lobby"]}),x.jsxs("button",{onClick:s,className:"bg-red-700 hover:bg-red-600 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 shadow-lg",children:[x.jsx(Gc,{size:18})," ",a?"Disband Group":"Leave Game"]})]})]})}),w0=({onClose:s})=>x.jsx("div",{className:"fixed inset-0 bg-black/95 z-150 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-stone-900 rounded-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden border border-red-900/30 flex flex-col",children:[x.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-black/50",children:[x.jsxs("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(po,{})," Survival Guide"]}),x.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:x.jsx(xx,{})})]}),x.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-300 text-left",children:[x.jsxs("section",{children:[x.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[x.jsx(Dh,{className:"text-green-500",size:20})," The Basics"]}),x.jsxs("p",{className:"text-sm",children:["Get rid of your cards. Be the last survivor. ",x.jsx("br",{})," Odd cards are"," ",x.jsx("strong",{children:"Zombies"}),". Even cards are ",x.jsx("strong",{children:"Antidotes"}),"."]})]}),x.jsxs("section",{children:[x.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[x.jsx(JC,{className:"text-blue-400",size:20})," Placement Rules"]}),x.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[x.jsxs("li",{children:["Cards on the board are arranged in"," ",x.jsx("strong",{children:"Ascending Order"}),"."]}),x.jsxs("li",{children:["You can play cards ",x.jsx("strong",{children:"Lower"})," than the minimum or"," ",x.jsx("strong",{children:"Higher"})," than the maximum."]}),x.jsx("li",{children:"You CANNOT play inside the cage (between min and max)."}),x.jsxs("li",{children:[x.jsx("strong",{children:"The Twist:"})," Two cards of the same type (Zombie/Zombie or Antidote/Antidote) CANNOT sit next to each other horizontally."]}),x.jsx("li",{children:"You CAN stack a matching card on top of an existing one."})]})]}),x.jsxs("section",{children:[x.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[x.jsx(Ix,{className:"text-yellow-400",size:20})," Multi-Play & Quarantine"]}),x.jsxs("p",{className:"text-sm mb-2",children:["If you play on the edges, you must play ",x.jsx("strong",{children:"at least"})," as many cards as are currently on that edge stack. If you stack on top, just follow the same rule."]}),x.jsxs("p",{className:"text-sm border-l-4 border-red-600 pl-3 py-1 bg-red-900/10",children:[x.jsx("strong",{children:"Stuck?"})," Select ",x.jsx("strong",{children:"QUARANTINE"})," mode, then click a card on the board to take it as a penalty. You are out for the round."]})]})]}),x.jsx("div",{className:"p-4 bg-black/50 border-t border-gray-800 text-center",children:x.jsx("button",{onClick:s,className:"bg-red-700 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-bold",children:"Survive"})})]})});function Ux(){const[s,t]=fe.useState(null),[i,a]=fe.useState("menu"),[l,c]=fe.useState(""),[d,y]=fe.useState(""),[p,_]=fe.useState(null),[b,S]=fe.useState(""),[M,H]=fe.useState(!1),[W,st]=fe.useState(!1),[nt,yt]=fe.useState(!1),[It,_t]=fe.useState(!1),[Dt,ne]=fe.useState([]),[Ot,I]=fe.useState(!1),[A,C]=fe.useState(!1),[V,D]=fe.useState(()=>localStorage.getItem("gameHub_playerName")||"");fe.useEffect(()=>{V&&localStorage.setItem("gameHub_playerName",V)},[V]);const k=$=>{S($),setTimeout(()=>S(""),3e3)};fe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await ow(Xd,__initial_auth_token):await nw(Xd))(),cw(Xd,t)},[]),fe.useEffect(()=>{const $=localStorage.getItem("lastofus_roomId");$&&c($)},[]),fe.useEffect(()=>{const $=m0(Nn(Dn,"game_hub_settings","config"),J=>{J.exists()&&J.data()[Dx]?.maintenance?C(!0):C(!1)});return()=>$()},[]),fe.useEffect(()=>{if(!l||!s)return;const $=m0(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),J=>{if(J.exists()){const at=J.data();if(at.players&&!at.players.find(dt=>dt.id===s.uid)){c(""),a("menu"),localStorage.removeItem("lastofus_roomId"),k("You have been kicked from the safe house.");return}_(at),at.status==="playing"||at.status==="finished"?a("game"):at.status==="lobby"&&a("lobby"),at.turnIndex!==void 0&&at.players&&at.players[at.turnIndex]&&s&&(at.players[at.turnIndex].id===s.uid||I(!1))}else c(""),a("menu"),localStorage.removeItem("lastofus_roomId"),k("Safe house compromised (Room closed).")});return()=>$()},[l,s]);const w=($,J)=>{if($.length===0)return{valid:!1,msg:"Select cards."};const at=$[0].val,dt=$[0].type,Gt=$.length;if(!$.every(At=>At.val===at))return{valid:!1,msg:"Must play identical cards."};if(J.length===0)return{valid:!0};const Bt=J[0],ut=J[J.length-1],Tt=J.findIndex(At=>At.val===at);if(Tt!==-1){if(!(Tt===0||Tt===J.length-1))return{valid:!1,msg:"Cannot play inside the cage (even to stack)."};const pe=J[Tt];return Gt<pe.count?{valid:!1,msg:`Must play at least ${pe.count} cards to stack on this edge.`}:{valid:!0,action:"STACK",index:Tt}}return at>Bt.val&&at<ut.val?{valid:!1,msg:"Cannot play inside the cage."}:at<Bt.val?dt===Bt.type?{valid:!1,msg:`Cannot place ${dt} next to ${Bt.type}.`}:Gt<Bt.count?{valid:!1,msg:`Must play at least ${Bt.count} cards here (matches edge stack).`}:{valid:!0,action:"LEFT"}:at>ut.val?dt===ut.type?{valid:!1,msg:`Cannot place ${dt} next to ${ut.type}.`}:Gt<ut.count?{valid:!1,msg:`Must play at least ${ut.count} cards here (matches edge stack).`}:{valid:!0,action:"RIGHT"}:{valid:!1,msg:"Invalid move."}},ue=async()=>{if(!V)return k("Name required");H(!0);const $=Math.random().toString(36).substring(2,7).toUpperCase();await GC(Nn(Dn,"artifacts",Kn,"public","data","rooms",$),{roomId:$,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:V,hand:[],quarantined:!1,ready:!1}],board:[],deck:[],turnIndex:0,activeRoundPlayers:[],logs:[],winner:null}),localStorage.setItem("lastofus_roomId",$),c($),H(!1)},Te=async()=>{if(!d||!V)return k("Details required");H(!0);const $=Nn(Dn,"artifacts",Kn,"public","data","rooms",d),J=await d0($);if(!J.exists()){k("Room not found"),H(!1);return}const at=J.data();if(at.status!=="lobby"){k("Game in progress"),H(!1);return}if(at.players.length>=6){k("Room full"),H(!1);return}at.players.find(dt=>dt.id===s.uid)||await Mi($,{players:qa({id:s.uid,name:V,hand:[],quarantined:!1,ready:!1})}),localStorage.setItem("lastofus_roomId",d),c(d),H(!1)},G=async $=>{if(p.hostId!==s.uid)return;const J=p.players.filter(at=>at.id!==$);await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{players:J})},et=async()=>{if(p.hostId!==s.uid)return;const $=p.players.length,J=Vx(Mx()),at=Ox[$]||10,dt=p.players.map(ut=>{const Tt=J.splice(0,at).sort((At,pe)=>At.val-pe.val);return{...ut,hand:Tt,quarantined:!1,ready:!1}}),Gt=dt.map(ut=>ut.id),Bt=Math.floor(Math.random()*dt.length);await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{status:"playing",players:dt,deck:J,board:[],activeRoundPlayers:Gt,turnIndex:Bt,logs:[{text:"Survival begins. Good luck.",type:"neutral"}]})},ft=async()=>{p.hostId===s.uid&&await et()},kt=async()=>{if(p.hostId!==s.uid)return;const $=p.players.map(J=>({...J,hand:[],quarantined:!1,ready:!1}));await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{status:"lobby",players:$,board:[],logs:[],activeRoundPlayers:[]}),_t(!1)},Kt=async()=>{if(!l||!s)return;const $=p.players.map(J=>J.id===s.uid?{...J,ready:!J.ready}:J);await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{players:$})},O=async()=>{const $=p.players.findIndex(Jt=>Jt.id===s.uid),J=p.players[$],at=Dt.map(Jt=>J.hand[Jt]),dt=w(at,p.board);if(!dt.valid){k(dt.msg);return}const Gt=[...p.board],Bt=at[0].val,ut=at[0].type,Tt=at.length;dt.action==="STACK"?Gt[dt.index].count+=Tt:dt.action==="LEFT"?Gt.unshift({val:Bt,type:ut,count:Tt}):dt.action==="RIGHT"?Gt.push({val:Bt,type:ut,count:Tt}):Gt.push({val:Bt,type:ut,count:Tt});const At=[...p.players],pe=[];let Zt=0;for(let Jt of J.hand)Jt.val===Bt&&Zt<Tt?Zt++:pe.push(Jt);if(At[$].hand=pe,pe.length===0){await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{players:At,board:Gt,status:"finished",winner:J,logs:qa({text:`${J.name} survived! Game Over.`,type:"success"})}),ne([]);return}let ze=(p.turnIndex+1)%At.length,Mn=0;for(;(!p.activeRoundPlayers.includes(At[ze].id)||At[ze].quarantined)&&(ze=(ze+1)%At.length,Mn++,!(Mn>At.length)););await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{players:At,board:Gt,turnIndex:ze,logs:qa({text:`${J.name} played ${Tt}x ${Bt}.`,type:"neutral"})}),ne([])},K=()=>{I(!0)},it=async $=>{if(!Ot)return;const J=p.players.findIndex(Zt=>Zt.id===s.uid),at=p.players[J],dt=[...p.board];if(dt.length===0)return;const Gt=dt[$],Bt={val:Gt.val,type:Gt.type};Gt.count>1?dt[$].count-=1:dt.splice($,1);const ut=[...at.hand,Bt].sort((Zt,ze)=>Zt.val-ze.val),Tt=[...p.players];Tt[J].hand=ut,Tt[J].quarantined=!0;const At=p.activeRoundPlayers.filter(Zt=>Zt!==s.uid),pe=[{text:`${at.name} quarantined and took ${Bt.val}.`,type:"danger"}];if(At.length===1){const Zt=At[0],ze=Tt.find(oe=>oe.id===Zt);pe.push({text:`${ze.name} won the round! Board cleared.`,type:"success"});const Mn=Tt.map(oe=>({...oe,quarantined:!1})),Jt=Mn.findIndex(oe=>oe.id===Zt);await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{players:Mn,board:[],activeRoundPlayers:Mn.map(oe=>oe.id),turnIndex:Jt,logs:qa(...pe)})}else{let Zt=(p.turnIndex+1)%Tt.length;for(;!At.includes(Tt[Zt].id)||Tt[Zt].quarantined;)Zt=(Zt+1)%Tt.length;await Mi(Nn(Dn,"artifacts",Kn,"public","data","rooms",l),{players:Tt,board:dt,activeRoundPlayers:At,turnIndex:Zt,logs:qa(...pe)})}I(!1),S("")},rt=async()=>{if(!(!l||!s)){try{const $=Nn(Dn,"artifacts",Kn,"public","data","rooms",l),J=await d0($);if(J.exists()){const at=J.data();if(at.hostId===s.uid)await FC($);else{const Gt=at.players.filter(At=>At.id!==s.uid);let Bt=at.status,ut=at.winner;at.status==="playing"&&Gt.length<2&&(Bt="finished",Gt.length>0&&(ut=Gt[0]));const Tt={players:Gt,status:Bt,logs:qa({text:`${V} fled.`,type:"danger"})};ut&&(Tt.winner=ut),await Mi($,Tt)}}}catch($){console.error("Error leaving room:",$)}localStorage.removeItem("lastofus_roomId"),c(""),a("menu"),_(null),_t(!1)}},Et=($,J)=>{if(Dt.includes(J))ne(Dt.filter(at=>at!==J));else{if(Dt.length>0){const at=Dt[0];if(p.players.find(Bt=>Bt.id===s.uid).hand[at].val!==$.val){ne([J]);return}}ne([...Dt,J])}};if(A)return x.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[x.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[x.jsx(ox,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),x.jsx("p",{className:"text-gray-400",children:"Zombies are lurking around. Wait for the sunlight to scare them away."})]}),x.jsx("div",{className:"h-8"}),x.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:x.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:x.jsx("div",{className:"text-center pb-12 animate-pulse",children:x.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[x.jsx(E0,{size:16})," Visit Gamehub...Try our other releases..."," ",x.jsx(E0,{size:16})]})})})})]});if(i==="menu")return x.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[x.jsx($d,{}),x.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700 w-full px-4",children:[x.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[x.jsx(po,{size:50,className:"text-red-600 animate-bounce"}),x.jsx(fg,{size:50,className:"text-lime-500 animate-bounce delay-75"})]}),x.jsx("h1",{className:"text-4xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-500 to-stone-500 uppercase tracking-tighter",children:"Last of Us"}),x.jsx("p",{className:"text-stone-500 tracking-[0.5em] uppercase mt-2 font-bold text-xs md:text-sm",children:"Survive the Horde"})]}),x.jsxs("div",{className:"bg-stone-900/80 backdrop-blur border border-red-900/30 p-6 md:p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 mx-4",children:[b&&x.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:b}),x.jsx("input",{className:"w-full bg-black/50 border border-stone-700 p-3 rounded-xl mb-4 text-white focus:border-red-500 outline-none text-sm",placeholder:"Survivor Name",value:V,onChange:$=>D($.target.value)}),x.jsxs("button",{onClick:ue,disabled:M,className:"w-full bg-red-800 hover:bg-red-700 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 transition-all shadow-lg text-sm md:text-base",children:[x.jsx(px,{size:20})," New Survival Zone"]}),x.jsxs("div",{className:"flex gap-2 mb-4",children:[x.jsx("input",{className:"flex-1 bg-black/50 border border-stone-700 p-3 rounded-xl text-white focus:border-red-500 outline-none uppercase text-sm",placeholder:"CODE",value:d,onChange:$=>y($.target.value.toUpperCase())}),x.jsx("button",{onClick:Te,disabled:M,className:"bg-stone-700 hover:bg-stone-600 px-6 rounded-xl font-bold transition-all text-sm",children:"Join"})]}),x.jsxs("button",{onClick:()=>st(!0),className:"w-full text-center text-stone-500 hover:text-stone-300 text-sm flex items-center justify-center gap-2",children:[x.jsx(y0,{size:14})," Survival Guide"]})]}),W&&x.jsx(w0,{onClose:()=>st(!1)}),x.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by I'm Out. A tribute game.",x.jsx("br",{}),"Developed by ",x.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",x.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-red-500 underline hover:text-red-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const $=p.hostId===s.uid;return x.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-6 relative",children:[x.jsx($d,{}),x.jsx(kx,{}),It&&x.jsx(A0,{onConfirmLeave:rt,onConfirmLobby:null,onCancel:()=>_t(!1),isHost:$,inGame:!1}),x.jsxs("div",{className:"z-10 w-full max-w-lg bg-stone-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/30 shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-stone-800",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl text-red-600 font-bold uppercase",children:"Safe Zone"}),x.jsx("div",{className:"text-3xl font-mono text-white font-black",children:p.roomId})]}),x.jsx("button",{onClick:()=>_t(!0),className:"p-2 bg-red-900/30 text-red-400 rounded-full hover:bg-red-900/50",children:x.jsx(Gc,{size:20})})]}),x.jsxs("div",{className:"space-y-3 mb-8",children:[p.players.map(J=>x.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-xl border border-stone-800",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2 rounded-full bg-stone-800",children:x.jsx(wx,{size:18,className:"text-stone-400"})}),x.jsx("span",{className:`font-bold ${J.id===s.uid?"text-red-500":"text-stone-400"}`,children:J.name})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[J.id===p.hostId&&x.jsx(v0,{size:16,className:"text-yellow-500"}),$&&J.id!==s.uid&&x.jsx("button",{onClick:()=>G(J.id),className:"text-stone-600 hover:text-red-500 p-1 transition-colors",title:"Kick Player",children:x.jsx(Sx,{size:18})})]})]},J.id)),p.players.length<2&&x.jsx("div",{className:"text-center text-stone-600 py-4 italic",children:"Need at least 2 survivors..."})]}),$?x.jsx("button",{onClick:et,disabled:p.players.length<2,className:"w-full py-4 rounded-xl font-black text-xl uppercase tracking-widest bg-red-700 hover:bg-red-600 text-white shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Survival"}):x.jsx("div",{className:"w-full py-4 rounded-xl font-bold text-center text-stone-500 bg-stone-800/50 border border-stone-700 animate-pulse",children:"Waiting for Host..."})]}),x.jsx(T0,{})]})}if(i==="game"&&p){const $=p.players.find(ut=>ut.id===s.uid);if(!$)return x.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center text-white",children:"Loading..."});const at=p.players[p.turnIndex]?.id===s.uid,dt=p.players.filter(ut=>ut.id!==s.uid),Gt=p.logs.slice(-2).reverse(),Bt=p.players.filter(ut=>ut.id!==p.hostId).every(ut=>ut.ready);return x.jsxs("div",{className:"h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden font-sans",children:[x.jsx($d,{}),It&&x.jsx(A0,{onConfirmLeave:rt,onConfirmLobby:kt,onCancel:()=>_t(!1),isHost:p.hostId===s.uid,inGame:!0}),W&&x.jsx(w0,{onClose:()=>st(!1)}),x.jsxs("div",{className:"h-14 bg-stone-900/90 border-b border-stone-800 flex items-center justify-between px-4 z-160 sticky top-0 backdrop-blur-md",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Dh,{className:"text-red-600",size:24}),x.jsx("span",{className:"font-black uppercase hidden md:block",children:"Last of Us"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>st(!0),className:"p-2 text-stone-400 hover:bg-stone-800 rounded-full",children:x.jsx(y0,{size:20})}),x.jsx("button",{onClick:()=>yt(!nt),className:`p-2 rounded-full ${nt?"bg-red-900/50 text-red-200":"text-stone-400 hover:bg-stone-800"}`,children:x.jsx(ux,{size:20})}),x.jsx("button",{onClick:()=>_t(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:x.jsx(Gc,{size:20})})]})]}),nt&&x.jsx("div",{className:"fixed top-16 right-4 z-155 bg-stone-900/95 border border-stone-700 p-2 rounded-xl max-h-60 overflow-y-auto w-64 shadow-2xl",children:[...p.logs].reverse().map((ut,Tt)=>x.jsx("div",{className:`text-xs p-2 mb-1 rounded border-l-2 ${ut.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":"bg-stone-800 border-stone-600 text-gray-400"}`,children:ut.text},Tt))}),p.status==="finished"&&x.jsxs("div",{className:"fixed inset-0 top-14 z-150 bg-black/95 flex flex-col items-center justify-center p-6 text-center animate-in zoom-in",children:[x.jsx(v0,{size:80,className:"text-yellow-500 mb-6 animate-bounce"}),x.jsx("h1",{className:"text-5xl font-black text-white mb-4",children:"Survivor Found!"}),x.jsxs("p",{className:"text-2xl text-stone-300 mb-8",children:[p.winner?p.winner.name:"Unknown Survivor"," ","cleared their hand!"]}),x.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full mb-8",children:p.players.map(ut=>x.jsx("div",{className:"bg-stone-800 p-4 rounded-xl flex justify-between items-center border border-stone-700",children:x.jsxs("div",{className:"flex items-center gap-2",children:[ut.ready&&x.jsx(_0,{size:16,className:"text-green-500"}),x.jsx("span",{className:ut.id===p.winner?.id?"text-yellow-400 font-bold":"text-gray-400",children:ut.name})]})},ut.id))}),x.jsx("div",{className:"flex flex-col gap-4 items-center w-full max-w-md",children:p.hostId!==s.uid?$.ready?x.jsxs("div",{className:"w-full py-3 bg-stone-800 rounded-xl font-bold text-green-400 border border-green-500/50 flex items-center justify-center gap-2",children:[x.jsx(_0,{size:20})," Waiting for host..."]}):x.jsx("button",{onClick:Kt,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white shadow-lg animate-pulse transition-all hover:scale-105",children:"Ready for Next Game"}):x.jsxs("div",{className:"flex flex-col w-full gap-3",children:[x.jsxs("div",{className:"flex gap-4 w-full",children:[x.jsxs("button",{onClick:kt,disabled:!Bt,className:`flex-1 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${Bt?"bg-stone-700 hover:bg-stone-600 text-white hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[x.jsx(Gc,{size:18})," Lobby"]}),x.jsxs("button",{onClick:ft,disabled:!Bt,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2 ${Bt?"bg-red-700 hover:bg-red-600 hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[x.jsx(_x,{size:18})," Restart"]})]}),!Bt&&x.jsx("p",{className:"text-stone-500 text-sm animate-pulse",children:"Waiting for survivors to report in..."})]})})]}),x.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-6xl mx-auto p-2 gap-2 overflow-hidden relative",children:[x.jsx("div",{className:"flex-none h-24 md:h-28 flex items-start justify-center gap-2 overflow-x-auto no-scrollbar px-2 py-2",children:dt.map(ut=>x.jsxs("div",{className:`flex flex-col items-center min-w-[80px] md:min-w-[100px] p-2 rounded-xl border ${ut.quarantined?"border-red-900 bg-red-900/20 opacity-50":"border-stone-700 bg-stone-900/50"} ${p.players[p.turnIndex]?.id===ut.id?"ring-2 ring-yellow-500 animate-pulse":""}`,children:[x.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[ut.quarantined&&x.jsx(p0,{size:12,className:"text-red-500"}),x.jsx("span",{className:"text-xs font-bold truncate max-w-[60px] md:max-w-[70px]",children:ut.name})]}),x.jsx("div",{className:"flex gap-1 overflow-hidden h-8 md:h-12 w-full justify-center",children:ut.hand.length>0?x.jsx("div",{className:"flex -space-x-2",children:ut.hand.map((Tt,At)=>x.jsx("div",{className:"w-4 md:w-6 h-6 md:h-8 bg-stone-700 rounded border border-stone-600 shadow-sm"},At))}):x.jsx("span",{className:"text-[10px] text-green-500",children:"Safe"})}),x.jsxs("span",{className:"text-[10px] text-stone-500",children:[ut.hand.length," Cards"]})]},ut.id))}),x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0 bg-stone-900/30 rounded-2xl border border-stone-800/30 mx-2",children:[x.jsxs("div",{className:"absolute top-4 left-0 right-0 flex flex-col items-center pointer-events-none z-10 w-full space-y-2",children:[!nt&&Gt.map((ut,Tt)=>x.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] md:text-xs font-bold shadow-lg backdrop-blur-md border animate-in fade-in zoom-in duration-300 ${ut.type==="danger"?"bg-red-900/50 border-red-500 text-red-100":"bg-stone-800/50 border-stone-600 text-stone-300"}`,children:ut.text},Tt)),b&&x.jsx("div",{className:"px-6 py-2 rounded-full text-sm font-bold bg-red-600 text-white shadow-xl animate-bounce whitespace-nowrap border-4 border-red-800",children:b})]}),p.board.length===0?x.jsx("div",{className:"text-stone-600 text-sm font-bold border-2 border-dashed border-stone-800 rounded-xl p-8",children:"Board Empty"}):x.jsx("div",{className:"flex items-center gap-1 md:gap-2 overflow-x-auto p-4 w-full justify-start md:justify-center no-scrollbar h-full",children:p.board.map((ut,Tt)=>x.jsx("div",{className:"transform hover:scale-105 transition-transform shrink-0",children:x.jsx(S0,{val:ut.val,type:ut.type,count:ut.count,size:"lg",isBoard:!0,disabled:!Ot,selected:Ot,onClick:()=>it(Tt)})},Tt))}),at&&!$.quarantined&&x.jsx("div",{className:"absolute bottom-4 flex gap-4 z-20",children:Ot?x.jsxs("div",{className:"flex flex-col items-center gap-2 animate-in slide-in-from-bottom-2",children:[x.jsx("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 text-sm font-bold border border-red-500 shadow-xl",children:"Tap a card to take penalty"}),x.jsx("button",{onClick:()=>I(!1),className:"px-6 py-2 rounded-xl font-bold bg-gray-700 hover:bg-gray-600 text-gray-200 shadow-lg",children:"Cancel"})]}):x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:O,disabled:Dt.length===0,className:`px-6 md:px-8 py-3 rounded-xl font-black text-lg md:text-xl shadow-xl flex items-center gap-2 transition-all ${Dt.length>0?"bg-yellow-500 hover:bg-yellow-400 text-black hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed"}`,children:["PLAY"," ",Dt.length>0&&`(${Dt.length})`]}),x.jsxs("button",{onClick:K,className:"px-4 md:px-6 py-3 rounded-xl font-bold bg-red-900/50 hover:bg-red-800 text-red-200 border border-red-800 flex items-center gap-2 transition-all",children:[x.jsx(p0,{size:18})," ",x.jsx("span",{className:"inline",children:"QUARANTINE"})]})]})}),at&&$.quarantined&&x.jsx("div",{className:"absolute bottom-4 text-red-500 font-bold animate-pulse bg-black/50 px-4 py-2 rounded-xl",children:"You are Quarantined. Skip turn."}),!at&&x.jsx("div",{className:"absolute bottom-4 px-4 py-2 bg-stone-900 rounded-full text-stone-500 text-sm border border-stone-800 animate-pulse",children:"Waiting for survivors..."})]}),x.jsxs("div",{className:"flex-none bg-stone-900/95 p-2 md:p-4 rounded-t-3xl border-t border-red-900/30 shadow-2xl relative z-30 w-full overflow-hidden",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[x.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-stone-400 uppercase tracking-widest",children:["Inventory (",$.hand.length,")"]}),x.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-stone-500",children:"Match count on edges"})]}),x.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-2 px-2 no-scrollbar",children:(()=>{const ut=[];let Tt=[];for(let At=0;At<$.hand.length;At++){const pe=$.hand[At];At>0&&$.hand[At-1].val!==pe.val&&(ut.push(Tt),Tt=[]),Tt.push({card:pe,index:At})}return Tt.length>0&&ut.push(Tt),ut.map((At,pe)=>x.jsx("div",{className:"flex -space-x-6 md:-space-x-8 hover:space-x-1 transition-all duration-300 pr-4 shrink-0",children:At.map(({card:Zt,index:ze})=>x.jsx("div",{children:x.jsx(S0,{val:Zt.val,type:Zt.type,size:"md",selected:Dt.includes(ze),onClick:()=>Et(Zt,ze)})},ze))},pe))})()})]})]}),x.jsx(T0,{})]})}return null}kb.createRoot(document.getElementById("root")).render(x.jsx(fe.StrictMode,{children:x.jsx(Ux,{})}));
