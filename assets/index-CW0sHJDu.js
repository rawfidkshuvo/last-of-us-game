(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},_l={};var V_;function Rb(){if(V_)return _l;V_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var k_;function Cb(){return k_||(k_=1,Od.exports=Rb()),Od.exports}var x=Cb(),Md={exports:{}},St={};var U_;function Ib(){if(U_)return St;U_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,et={};function yt(O,K,it){this.props=O,this.context=K,this.refs=et,this.updater=it||J}yt.prototype.isReactComponent={},yt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},yt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function wt(){}wt.prototype=yt.prototype;function _t(O,K,it){this.props=O,this.context=K,this.refs=et,this.updater=it||J}var Dt=_t.prototype=new wt;Dt.constructor=_t,st(Dt,yt.prototype),Dt.isPureReactComponent=!0;var ee=Array.isArray;function Mt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,K,it){var at=it.ref;return{$$typeof:s,type:O,key:K,ref:at!==void 0?at:null,props:it}}function V(O,K){return I(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var w=/\/+/g;function ce(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,it,at,vt){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Z=!1;if(O===null)Z=!0;else switch(Rt){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(O.$$typeof){case s:case t:Z=!0;break;case b:return Z=O._init,G(Z(O._payload),K,it,at,vt)}}if(Z)return vt=vt(O),Z=at===""?"."+ce(O,0):at,ee(vt)?(it="",Z!=null&&(it=Z.replace(w,"$&/")+"/"),G(vt,K,it,"",function(Ot){return Ot})):vt!=null&&(D(vt)&&(vt=V(vt,it+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Z)),K.push(vt)),1;Z=0;var tt=at===""?".":at+":";if(ee(O))for(var rt=0;rt<O.length;rt++)at=O[rt],Rt=tt+ce(at,rt),Z+=G(at,K,it,Rt,vt);else if(rt=H(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(at=O.next()).done;)at=at.value,Rt=tt+ce(at,rt++),Z+=G(at,K,it,Rt,vt);else if(Rt==="object"){if(typeof O.then=="function")return G(Se(O),K,it,at,vt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Z}function nt(O,K,it){if(O==null)return O;var at=[],vt=0;return G(O,at,"","",function(Rt){return K.call(it,Rt,vt++)}),at}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:nt,forEach:function(O,K,it){nt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=S,St.Children=Ft,St.Component=yt,St.Fragment=i,St.Profiler=l,St.PureComponent=_t,St.StrictMode=a,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=st({},O.props),vt=O.key;if(K!=null)for(Rt in K.key!==void 0&&(vt=""+K.key),K)!A.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(at[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=it;else if(1<Rt){for(var Z=Array(Rt),tt=0;tt<Rt;tt++)Z[tt]=arguments[tt+2];at.children=Z}return I(O.type,vt,at)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,K,it){var at,vt={},Rt=null;if(K!=null)for(at in K.key!==void 0&&(Rt=""+K.key),K)A.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=K[at]);var Z=arguments.length-2;if(Z===1)vt.children=it;else if(1<Z){for(var tt=Array(Z),rt=0;rt<Z;rt++)tt[rt]=arguments[rt+2];vt.children=tt}if(O&&O.defaultProps)for(at in Z=O.defaultProps,Z)vt[at]===void 0&&(vt[at]=Z[at]);return I(O,Rt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:y,render:O}},St.isValidElement=D,St.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ft}},St.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},St.startTransition=function(O){var K=C.T,it={};C.T=it;try{var at=O(),vt=C.S;vt!==null&&vt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Mt,Bt)}catch(Rt){Bt(Rt)}finally{K!==null&&it.types!==null&&(K.types=it.types),C.T=K}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(O){return C.H.use(O)},St.useActionState=function(O,K,it){return C.H.useActionState(O,K,it)},St.useCallback=function(O,K){return C.H.useCallback(O,K)},St.useContext=function(O){return C.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},St.useEffect=function(O,K){return C.H.useEffect(O,K)},St.useEffectEvent=function(O){return C.H.useEffectEvent(O)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(O,K,it){return C.H.useImperativeHandle(O,K,it)},St.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},St.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},St.useMemo=function(O,K){return C.H.useMemo(O,K)},St.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},St.useReducer=function(O,K,it){return C.H.useReducer(O,K,it)},St.useRef=function(O){return C.H.useRef(O)},St.useState=function(O){return C.H.useState(O)},St.useSyncExternalStore=function(O,K,it){return C.H.useSyncExternalStore(O,K,it)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.3",St}var L_;function Sm(){return L_||(L_=1,Md.exports=Ib()),Md.exports}var me=Sm(),Vd={exports:{}},vl={},kd={exports:{}},Ud={};var P_;function xb(){return P_||(P_=1,(function(s){function t(G,nt){var ft=G.length;G.push(nt);t:for(;0<ft;){var Bt=ft-1>>>1,Ft=G[Bt];if(0<l(Ft,nt))G[Bt]=nt,G[ft]=Ft,ft=Bt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ft=G.pop();if(ft!==nt){G[0]=ft;t:for(var Bt=0,Ft=G.length,O=Ft>>>1;Bt<O;){var K=2*(Bt+1)-1,it=G[K],at=K+1,vt=G[at];if(0>l(it,ft))at<Ft&&0>l(vt,it)?(G[Bt]=vt,G[at]=ft,Bt=at):(G[Bt]=it,G[K]=ft,Bt=K);else if(at<Ft&&0>l(vt,ft))G[Bt]=vt,G[at]=ft,Bt=at;else break t}}return nt}function l(G,nt){var ft=G.sortIndex-nt.sortIndex;return ft!==0?ft:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var p=[],_=[],b=1,S=null,M=3,H=!1,J=!1,st=!1,et=!1,yt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Dt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=G)a(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(_)}}function ee(G){if(st=!1,Dt(G),!J)if(i(p)!==null)J=!0,Mt||(Mt=!0,k());else{var nt=i(_);nt!==null&&Se(ee,nt.startTime-G)}}var Mt=!1,C=-1,A=5,I=-1;function V(){return et?!0:!(s.unstable_now()-I<A)}function D(){if(et=!1,Mt){var G=s.unstable_now();I=G;var nt=!0;try{t:{J=!1,st&&(st=!1,wt(C),C=-1),H=!0;var ft=M;try{e:{for(Dt(G),S=i(p);S!==null&&!(S.expirationTime>G&&V());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,M=S.priorityLevel;var Ft=Bt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Ft=="function"){S.callback=Ft,Dt(G),nt=!0;break e}S===i(p)&&a(p),Dt(G)}else a(p);S=i(p)}if(S!==null)nt=!0;else{var O=i(_);O!==null&&Se(ee,O.startTime-G),nt=!1}}break t}finally{S=null,M=ft,H=!1}nt=void 0}}finally{nt?k():Mt=!1}}}var k;if(typeof _t=="function")k=function(){_t(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ce=w.port2;w.port1.onmessage=D,k=function(){ce.postMessage(null)}}else k=function(){yt(D,0)};function Se(G,nt){C=yt(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ft=M;M=nt;try{return G()}finally{M=ft}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return nt()}finally{M=ft}},s.unstable_scheduleCallback=function(G,nt,ft){var Bt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Bt+ft:Bt):ft=Bt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ft+Ft,G={id:b++,callback:nt,priorityLevel:G,startTime:ft,expirationTime:Ft,sortIndex:-1},ft>Bt?(G.sortIndex=ft,t(_,G),i(p)===null&&G===i(_)&&(st?(wt(C),C=-1):st=!0,Se(ee,ft-Bt))):(G.sortIndex=Ft,t(p,G),J||H||(J=!0,Mt||(Mt=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var nt=M;return function(){var ft=M;M=nt;try{return G.apply(this,arguments)}finally{M=ft}}}})(Ud)),Ud}var z_;function Nb(){return z_||(z_=1,kd.exports=xb()),kd.exports}var Ld={exports:{}},rn={};var j_;function Db(){if(j_)return rn;j_=1;var s=Sm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,b)},rn.flushSync=function(p){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=b,a.d.f()}},rn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},rn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},rn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:H}):b==="script"&&a.d.X(p,{crossOrigin:S,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},rn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},rn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin);a.d.L(p,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},rn.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},rn.requestFormReset=function(p){a.d.r(p)},rn.unstable_batchedUpdates=function(p,_){return p(_)},rn.useFormState=function(p,_,b){return d.H.useFormState(p,_,b)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var B_;function Ob(){if(B_)return Ld.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=Db(),Ld.exports}var q_;function Mb(){if(q_)return vl;q_=1;var s=Nb(),t=Sm(),i=Ob();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case yt:return"Profiler";case et:return"StrictMode";case ee:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case _t:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}var Se=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Bt=[],Ft=-1;function O(e){return{current:e}}function K(e){0>Ft||(e.current=Bt[Ft],Bt[Ft]=null,Ft--)}function it(e,n){Ft++,Bt[Ft]=e.current,e.current=n}var at=O(null),vt=O(null),Rt=O(null),Z=O(null);function tt(e,n){switch(it(Rt,n),it(vt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),it(at,e)}function rt(){K(at),K(vt),K(Rt)}function Ot(e){e.memoizedState!==null&&it(Z,e);var n=at.current,r=s_(n,e.type);n!==r&&(it(vt,e),it(at,r))}function Yt(e){vt.current===e&&(K(at),K(vt)),Z.current===e&&(K(Z),ml._currentValue=ft)}var qt,ut;function mt(e){if(qt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qt=n&&n[1]||"",ut=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+e+ut}var Nt=!1;function he(e,n){if(!e||Nt)return"";Nt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Nt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?mt(r):""}function oe(e,n){switch(e.tag){case 26:case 27:case 5:return mt(e.type);case 16:return mt("Lazy");case 13:return e.child!==n&&n!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return he(e.type,!1);case 11:return he(e.type.render,!1);case 1:return he(e.type,!0);case 31:return mt("Activity");default:return""}}function je(e){try{var n="",r=null;do n+=oe(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var le=Object.prototype.hasOwnProperty,ne=s.unstable_scheduleCallback,sn=s.unstable_cancelCallback,Mh=s.unstable_shouldYield,Wl=s.unstable_requestPaint,cn=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,_o=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,Vh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,eu=s.log,nu=s.unstable_setDisableYieldValue,Zn=null,Ye=null;function kn(e){if(typeof eu=="function"&&nu(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Zn,e)}catch{}}var Ae=Math.clz32?Math.clz32:su,iu=Math.log,ea=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/ea|0)|0}var di=256,yr=262144,xe=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=mi(o):(g&=E,g!==0?h=mi(g):r||(r=E&~e,r!==0&&(h=mi(r))))):(E=o&~f,E!==0?h=mi(E):g!==0?h=mi(g):r||(r=o&~e,r!==0&&(h=mi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function pi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-Ae(r),Y=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function vr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function vo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ae(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Eo(e,n){var r=n&-n;return r=(r&42)!==0?1:Er(r),(r&(e.suspendedLanes|n))!==0?0:r}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function Wn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var ti=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ti,Ge="__reactProps$"+ti,yi="__reactContainer$"+ti,na="__reactEvents$"+ti,Lh="__reactListeners$"+ti,ou="__reactHandles$"+ti,lu="__reactResources$"+ti,_i="__reactMarker$"+ti;function ia(e){delete e[Ne],delete e[Ge],delete e[na],delete e[Lh],delete e[ou]}function vi(e){var n=e[Ne];if(n)return n;for(var r=e.parentNode;r;){if(n=r[yi]||r[Ne]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=h_(e);e!==null;){if(r=e[Ne])return r;e=h_(e)}return n}e=r,r=e.parentNode}return null}function Un(e){if(e=e[Ne]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ei(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[_i]=!0}var To=new Set,bo={};function Ti(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},wo={};function uu(e){return le.call(wo,e)?!0:le.call(Ao,e)?!1:So.test(e)?wo[e]=!0:(Ao[e]=!0,!1)}function sa(e,n,r){if(uu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function An(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Oe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function Tr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function mn(e){return e.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Fe(n)):e.value!==""+Fe(n)&&(e.value=""+Fe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Fe(n)):r!=null?Co(e,g,Fe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Fe(E):e.removeAttribute("name")}function cu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Co(e,n,r){n==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Es(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,r){if(n!=null&&(n=""+Fe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Fe(r):""}function Ts(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Se(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Fe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Jt(e)}function gn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function xo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return bs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ei(){}var No=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Ai=null;function Sr(e){var n=Un(e);if(n&&(e=n.stateNode)){var r=e[Ge]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ge]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Tr(o)}break t;case"textarea":hu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Es(e,!!r.multiple,n,!1)}}}var la=!1;function As(e,n,r){if(la)return e(n,r);la=!0;try{var o=e(n);return o}finally{if(la=!1,(Ss!==null||Ai!==null)&&(ac(),Ss&&(n=Ss,e=Ai,Ai=Ss=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function ni(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ge]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(Pn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Ar=!1}var wi=null,Do=null,wr=null;function Oo(){if(wr)return wr;var e,n=Do,r=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ii(){return!1}function Xe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ii,this.isPropagationStopped=ii,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Xe(Fi),ws=S({},Fi,{view:0,detail:0}),Mo=Xe(ws),Rs,ua,Ci,ca=S({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Rs=e.screenX-Ci.screenX,ua=e.screenY-Ci.screenY):ua=Rs=0,Ci=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Vo=Xe(ca),Cr=S({},ca,{dataTransfer:0}),mu=Xe(Cr),gu=S({},ws,{relatedTarget:0}),Ir=Xe(gu),ko=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Xe(ko),ha=S({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Xe(ha),_u=S({},Fi,{data:0}),Ii=Xe(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Cs(){return bu}var hn=S({},ws,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Xe(hn),Au=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Xe(Au),u=S({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Xe(u),v=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(v),L=S({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xe(L),W=S({},Fi,{newState:0,oldState:0}),Ct=Xe(W),we=[9,13,27,32],Xt=Pn&&"CompositionEvent"in window,pe=null;Pn&&"documentMode"in document&&(pe=document.documentMode);var zn=Pn&&"TextEvent"in window&&!pe,xi=Pn&&(!Xt||pe&&8<pe&&11>=pe),si=" ",ri=!1;function xr(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function $T(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return e=n.data,e===si&&ri?null:e;default:return null}}function ZT(e,n){if(da)return e==="compositionend"||!Xt&&xr(e,n)?(e=Oo(),wr=Do=wi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function gg(e,n,r,o){Ss?Ai?Ai.push(o):Ai=[o]:Ss=o,n=dc(n,"onChange"),0<n.length&&(r=new Ri("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Uo=null,Lo=null;function WT(e){Zy(e,0)}function wu(e){var n=Sn(e);if(Tr(n))return e}function pg(e,n){if(e==="change")return n}var yg=!1;if(Pn){var Ph;if(Pn){var zh="oninput"in document;if(!zh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),zh=typeof _g.oninput=="function"}Ph=zh}else Ph=!1;yg=Ph&&(!document.documentMode||9<document.documentMode)}function vg(){Uo&&(Uo.detachEvent("onpropertychange",Eg),Lo=Uo=null)}function Eg(e){if(e.propertyName==="value"&&wu(Lo)){var n=[];gg(n,Lo,e,Ln(e)),As(WT,n)}}function t1(e,n,r){e==="focusin"?(vg(),Uo=n,Lo=r,Uo.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function e1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Lo)}function n1(e,n){if(e==="click")return wu(n)}function i1(e,n){if(e==="input"||e==="change")return wu(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:s1;function Po(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!le.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var r=Tg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Tg(r)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Si(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Si(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var r1=Pn&&"documentMode"in document&&11>=document.documentMode,ma=null,Bh=null,zo=null,qh=!1;function wg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||ma==null||ma!==Si(o)||(o=ma,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=dc(Bh,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ma)))}function Nr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ga={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Hh={},Rg={};Pn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Dr(e){if(Hh[e])return Hh[e];if(!ga[e])return e;var n=ga[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Rg)return Hh[e]=n[r];return e}var Cg=Dr("animationend"),Ig=Dr("animationiteration"),xg=Dr("animationstart"),a1=Dr("transitionrun"),o1=Dr("transitionstart"),l1=Dr("transitioncancel"),Ng=Dr("transitionend"),Dg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function ai(e,n){Dg.set(e,n),Ti(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],pa=0,Fh=0;function Cu(){for(var e=pa,n=Fh=pa=0;n<e;){var r=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Og(r,h,f)}}function Iu(e,n,r,o){jn[pa++]=e,jn[pa++]=n,jn[pa++]=r,jn[pa++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qh(e,n,r,o){return Iu(e,n,r,o),xu(e)}function Or(e,n){return Iu(e,null,null,n),xu(e)}function Og(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function xu(e){if(50<ol)throw ol=0,nd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function u1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,r,o){return new u1(e,n,r,o)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var r=e.alternate;return r===null?(r=Rn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Mg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Kh(e)&&(g=1);else if(typeof e=="string")g=mb(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Rn(31,r,n,h),e.elementType=I,e.lanes=f,e;case st:return Mr(r.children,h,f,n);case et:g=8,h|=24;break;case yt:return e=Rn(12,r,n,h|2),e.elementType=yt,e.lanes=f,e;case ee:return e=Rn(13,r,n,h),e.elementType=ee,e.lanes=f,e;case Mt:return e=Rn(19,r,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case wt:g=9;break t;case Dt:g=11;break t;case C:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Rn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Mr(e,n,r,o){return e=Rn(7,e,o,n),e.lanes=r,e}function Yh(e,n,r){return e=Rn(6,e,null,n),e.lanes=r,e}function Vg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,r){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var r=kg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:je(n)},kg.set(e,n),n)}return{value:e,source:n,stack:je(n)}}var _a=[],va=0,Du=null,jo=0,qn=[],Hn=0,Is=null,Ni=1,Di="";function Yi(e,n){_a[va++]=jo,_a[va++]=Du,Du=e,jo=n}function Ug(e,n,r){qn[Hn++]=Ni,qn[Hn++]=Di,qn[Hn++]=Is,Is=e;var o=Ni;e=Di;var h=32-Ae(o)-1;o&=~(1<<h),r+=1;var f=32-Ae(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ni=1<<32-Ae(n)+h|r<<h|o,Di=f+e}else Ni=1<<f|r<<h|o,Di=e}function $h(e){e.return!==null&&(Yi(e,1),Ug(e,1,0))}function Zh(e){for(;e===Du;)Du=_a[--va],_a[va]=null,jo=_a[--va],_a[va]=null;for(;e===Is;)Is=qn[--Hn],qn[Hn]=null,Di=qn[--Hn],qn[Hn]=null,Ni=qn[--Hn],qn[Hn]=null}function Lg(e,n){qn[Hn++]=Ni,qn[Hn++]=Di,qn[Hn++]=Is,Ni=n.id,Di=n.overflow,Is=e}var $e=null,fe=null,Ht=!1,xs=null,Gn=!1,Jh=Error(a(519));function Ns(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Bn(n,e)),Jh}function Pg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ne]=e,n[Ge]=o,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(r=0;r<ul.length;r++)kt(ul[r],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||e_(n.textContent,r)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ns(e,!0)}function zg(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:$e=$e.return}}function Ea(e){if(e!==$e)return!1;if(!Ht)return zg(e),Ht=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||yd(e.type,e.memoizedProps)),r=!r),r&&fe&&Ns(e),zg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=c_(e)}else n===27?(n=fe,Gs(e.type)?(e=bd,bd=null,fe=e):fe=n):fe=$e?Qn(e.stateNode.nextSibling):null;return!0}function Vr(){fe=$e=null,Ht=!1}function Wh(){var e=xs;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),xs=null),e}function Bo(e){xs===null?xs=[e]:xs.push(e)}var tf=O(null),kr=null,Xi=null;function Ds(e,n,r){it(tf,n._currentValue),n._currentValue=r}function $i(e){e._currentValue=tf.current,K(tf)}function ef(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function nf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ef(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),ef(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Z.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&nf(n,e,r,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){kr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return jg(kr,e)}function Mu(e,n){return kr===null&&Ur(e),jg(e,n)}function jg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return r}var c1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},h1=s.unstable_scheduleCallback,f1=s.unstable_NormalPriority,Me={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new c1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&h1(f1,function(){e.controller.abort()})}var Ho=null,rf=0,ba=0,Sa=null;function d1(e,n){if(Ho===null){var r=Ho=[];rf=0,ba=ld(),Sa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return rf++,n.then(Bg,Bg),n}function Bg(){if(--rf===0&&Ho!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ho;Ho=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var qg=G.S;G.S=function(e,n){wy=cn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&d1(e,n),qg!==null&&qg(e,n)};var Lr=O(null);function af(){var e=Lr.current;return e!==null?e:ue.pooledCache}function Vu(e,n){n===null?it(Lr,Lr.current):it(Lr,n.pool)}function Hg(){var e=af();return e===null?null:{parent:Me._currentValue,pool:e}}var Aa=Error(a(460)),of=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ei,ei),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then(ei,ei);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw zr=n,Aa}}function Pr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zr=r,Aa):r}}var zr=null;function Qg(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function Kg(e){if(e===Aa||e===ku)throw Error(a(483))}var wa=null,Go=0;function Lu(e){var n=Go;return Go+=1,wa===null&&(wa=[]),Fg(wa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){function n(U,N){if(e){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function r(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Ki(U,N),U.index=0,U.sibling=null,U}function f(U,N,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,P,Q){return N===null||N.tag!==6?(N=Yh(P,U.mode,Q),N.return=U,N):(N=h(N,P),N.return=U,N)}function R(U,N,P,Q){var dt=P.type;return dt===st?F(U,N,P.props.children,Q,P.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Pr(dt)===N.type)?(N=h(N,P.props),Fo(N,P),N.return=U,N):(N=Nu(P.type,P.key,P.props,null,U.mode,Q),Fo(N,P),N.return=U,N)}function z(U,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Xh(P,U.mode,Q),N.return=U,N):(N=h(N,P.children||[]),N.return=U,N)}function F(U,N,P,Q,dt){return N===null||N.tag!==7?(N=Mr(P,U.mode,Q,dt),N.return=U,N):(N=h(N,P),N.return=U,N)}function Y(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yh(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=Nu(N.type,N.key,N.props,null,U.mode,P),Fo(P,N),P.return=U,P;case J:return N=Xh(N,U.mode,P),N.return=U,N;case A:return N=Pr(N),Y(U,N,P)}if(Se(N)||k(N))return N=Mr(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return Y(U,Lu(N),P);if(N.$$typeof===_t)return Y(U,Mu(U,N),P);Pu(U,N)}return null}function j(U,N,P,Q){var dt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(U,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===dt?R(U,N,P,Q):null;case J:return P.key===dt?z(U,N,P,Q):null;case A:return P=Pr(P),j(U,N,P,Q)}if(Se(P)||k(P))return dt!==null?null:F(U,N,P,Q,null);if(typeof P.then=="function")return j(U,N,Lu(P),Q);if(P.$$typeof===_t)return j(U,N,Mu(U,P),Q);Pu(U,P)}return null}function q(U,N,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(N,U,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return U=U.get(Q.key===null?P:Q.key)||null,R(N,U,Q,dt);case J:return U=U.get(Q.key===null?P:Q.key)||null,z(N,U,Q,dt);case A:return Q=Pr(Q),q(U,N,P,Q,dt)}if(Se(Q)||k(Q))return U=U.get(P)||null,F(N,U,Q,dt,null);if(typeof Q.then=="function")return q(U,N,P,Lu(Q),dt);if(Q.$$typeof===_t)return q(U,N,P,Mu(N,Q),dt);Pu(N,Q)}return null}function lt(U,N,P,Q){for(var dt=null,Qt=null,ct=N,xt=N=0,Lt=null;ct!==null&&xt<P.length;xt++){ct.index>xt?(Lt=ct,ct=null):Lt=ct.sibling;var Kt=j(U,ct,P[xt],Q);if(Kt===null){ct===null&&(ct=Lt);break}e&&ct&&Kt.alternate===null&&n(U,ct),N=f(Kt,N,xt),Qt===null?dt=Kt:Qt.sibling=Kt,Qt=Kt,ct=Lt}if(xt===P.length)return r(U,ct),Ht&&Yi(U,xt),dt;if(ct===null){for(;xt<P.length;xt++)ct=Y(U,P[xt],Q),ct!==null&&(N=f(ct,N,xt),Qt===null?dt=ct:Qt.sibling=ct,Qt=ct);return Ht&&Yi(U,xt),dt}for(ct=o(ct);xt<P.length;xt++)Lt=q(ct,U,xt,P[xt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ct.delete(Lt.key===null?xt:Lt.key),N=f(Lt,N,xt),Qt===null?dt=Lt:Qt.sibling=Lt,Qt=Lt);return e&&ct.forEach(function(Xs){return n(U,Xs)}),Ht&&Yi(U,xt),dt}function pt(U,N,P,Q){if(P==null)throw Error(a(151));for(var dt=null,Qt=null,ct=N,xt=N=0,Lt=null,Kt=P.next();ct!==null&&!Kt.done;xt++,Kt=P.next()){ct.index>xt?(Lt=ct,ct=null):Lt=ct.sibling;var Xs=j(U,ct,Kt.value,Q);if(Xs===null){ct===null&&(ct=Lt);break}e&&ct&&Xs.alternate===null&&n(U,ct),N=f(Xs,N,xt),Qt===null?dt=Xs:Qt.sibling=Xs,Qt=Xs,ct=Lt}if(Kt.done)return r(U,ct),Ht&&Yi(U,xt),dt;if(ct===null){for(;!Kt.done;xt++,Kt=P.next())Kt=Y(U,Kt.value,Q),Kt!==null&&(N=f(Kt,N,xt),Qt===null?dt=Kt:Qt.sibling=Kt,Qt=Kt);return Ht&&Yi(U,xt),dt}for(ct=o(ct);!Kt.done;xt++,Kt=P.next())Kt=q(ct,U,xt,Kt.value,Q),Kt!==null&&(e&&Kt.alternate!==null&&ct.delete(Kt.key===null?xt:Kt.key),N=f(Kt,N,xt),Qt===null?dt=Kt:Qt.sibling=Kt,Qt=Kt);return e&&ct.forEach(function(wb){return n(U,wb)}),Ht&&Yi(U,xt),dt}function ae(U,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var dt=P.key;N!==null;){if(N.key===dt){if(dt=P.type,dt===st){if(N.tag===7){r(U,N.sibling),Q=h(N,P.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Pr(dt)===N.type){r(U,N.sibling),Q=h(N,P.props),Fo(Q,P),Q.return=U,U=Q;break t}r(U,N);break}else n(U,N);N=N.sibling}P.type===st?(Q=Mr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Nu(P.type,P.key,P.props,null,U.mode,Q),Fo(Q,P),Q.return=U,U=Q)}return g(U);case J:t:{for(dt=P.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(U,N.sibling),Q=h(N,P.children||[]),Q.return=U,U=Q;break t}else{r(U,N);break}else n(U,N);N=N.sibling}Q=Xh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case A:return P=Pr(P),ae(U,N,P,Q)}if(Se(P))return lt(U,N,P,Q);if(k(P)){if(dt=k(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),pt(U,N,P,Q)}if(typeof P.then=="function")return ae(U,N,Lu(P),Q);if(P.$$typeof===_t)return ae(U,N,Mu(U,P),Q);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(U,N.sibling),Q=h(N,P),Q.return=U,U=Q):(r(U,N),Q=Yh(P,U.mode,Q),Q.return=U,U=Q),g(U)):r(U,N)}return function(U,N,P,Q){try{Go=0;var dt=ae(U,N,P,Q);return wa=null,dt}catch(ct){if(ct===Aa||ct===ku)throw ct;var Qt=Rn(29,ct,null,U.mode);return Qt.lanes=Q,Qt.return=U,Qt}}}var jr=Yg(!0),Xg=Yg(!1),Os=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Og(e,null,r),n}return Iu(e,o,n,r),xu(e)}function Qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}function cf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var hf=!1;function Ko(){if(hf){var e=Sa;if(e!==null)throw e}}function Yo(e,n,r,o){hf=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===ba&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var ae=r;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Y=lt.call(ae,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(ae,Y,j):lt,j==null)break t;Y=S({},Y,j);break t;case 2:Os=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=Y}}function $g(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)$g(r[e],n)}var Ra=O(null),zu=O(0);function Jg(e,n){e=rs,it(zu,e),it(Ra,n),rs=e|n.baseLanes}function ff(){it(zu,rs),it(Ra,Ra.current)}function df(){rs=zu.current,K(Ra),K(zu)}var Cn=O(null),Fn=null;function ks(e){var n=e.alternate;it(Re,Re.current&1),it(Cn,e),Fn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Fn=e)}function mf(e){it(Re,Re.current),it(Cn,e),Fn===null&&(Fn=e)}function Wg(e){e.tag===22?(it(Re,Re.current),it(Cn,e),Fn===null&&(Fn=e)):Us()}function Us(){it(Re,Re.current),it(Cn,Cn.current)}function In(e){K(Cn),Fn===e&&(Fn=null),K(Re)}var Re=O(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,It=null,se=null,Ve=null,Bu=!1,Ca=!1,Br=!1,qu=0,Xo=0,Ia=null,g1=0;function Ee(){throw Error(a(321))}function gf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!wn(e[r],n[r]))return!1;return!0}function pf(e,n,r,o,h,f){return Zi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Up:Df,Br=!1,f=r(o,h),Br=!1,Ca&&(f=ep(n,r,o,h)),tp(e),f}function tp(e){G.H=Jo;var n=se!==null&&se.next!==null;if(Zi=0,Ve=se=It=null,Bu=!1,Xo=0,Ia=null,n)throw Error(a(300));e===null||ke||(e=e.dependencies,e!==null&&Ou(e)&&(ke=!0))}function ep(e,n,r,o){It=e;var h=0;do{if(Ca&&(Ia=null),Xo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,Ve=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Lp,f=n(r,o)}while(Ca);return f}function p1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(It.flags|=1024),n}function yf(){var e=qu!==0;return qu=0,e}function _f(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function vf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Zi=0,Ve=se=It=null,Ca=!1,Xo=qu=0,Ia=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ce(){if(se===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Ve===null?It.memoizedState:Ve.next;if(n!==null)Ve=n,se=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Ia===null&&(Ia=[]),e=Fg(Ia,e,n),n=It,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Up:Df),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===_t)return Ze(e)}throw Error(a(438,String(e)))}function Ef(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Ji(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=Ce();return Tf(n,se,e)}function Tf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ut&Y)===Y:(Zi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ba&&(F=!0);else if((Zi&j)===j){z=z.next,j===ba&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,It.lanes|=j,zs|=j;Y=z.action,Br&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,It.lanes|=Y,zs|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!wn(f,e.memoizedState)&&(ke=!0,F&&(r=Sa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bf(e){var n=Ce(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function np(e,n,r){var o=It,h=Ce(),f=Ht;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!wn((se||h).memoizedState,r);if(g&&(h.memoizedState=r,ke=!0),h=h.queue,wf(rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},sp.bind(null,o,h,r,n),null),ue===null)throw Error(a(349));f||(Zi&127)!==0||ip(o,n,r)}return r}function ip(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=Hu(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function sp(e,n,r,o){n.value=r,n.getSnapshot=o,ap(n)&&op(e)}function rp(e,n,r){return r(function(){ap(n)&&op(e)})}function ap(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!wn(e,r)}catch{return!0}}function op(e){var n=Or(e,2);n!==null&&En(n,e,2)}function Sf(e){var n=fn();if(typeof e=="function"){var r=e;if(e=r(),Br){kn(!0);try{r()}finally{kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function lp(e,n,r,o){return e.baseState=r,Tf(e,se,typeof o=="function"?o:Ji)}function y1(e,n,r,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,up(n,f)):(f.next=r.next,n.pending=r.next=f)}}function up(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),R=G.S;R!==null&&R(g,E),cp(e,n,E)}catch(z){Af(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),cp(e,n,f)}catch(z){Af(e,n,z)}}function cp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){hp(e,n,o)},function(o){return Af(e,n,o)}):hp(e,n,r)}function hp(e,n,r){n.status="fulfilled",n.value=r,fp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,up(e,r)))}function Af(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,fp(n),n=n.next;while(n!==o)}e.action=null}function fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function mp(e,n){if(Ht){var r=ue.formState;if(r!==null){t:{var o=It;if(Ht){if(fe){e:{for(var h=fe,f=Gn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=Qn(h.nextSibling),o=h.data==="F!";break t}}Ns(o)}o=!1}o&&(n=r[0])}}return r=fn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},r.queue=o,r=Mp.bind(null,It,o),o.dispatch=r,o=Sf(!1),f=Nf.bind(null,It,!1,o.queue),o=fn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=y1.bind(null,It,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function gp(e){var n=Ce();return pp(n,se,e)}function pp(e,n,r){if(n=Tf(e,n,dp)[0],e=Fu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Aa?ku:g}else o=n;n=Ce();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,xa(9,{destroy:void 0},_1.bind(null,h,r),null)),[o,f,e]}function _1(e,n){e.action=n}function yp(e){var n=Ce(),r=se;if(r!==null)return pp(n,r,e);Ce(),n=n.memoizedState,r=Ce();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function xa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Hu(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function _p(){return Ce().memoizedState}function Qu(e,n,r,o){var h=fn();It.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ku(e,n,r,o){var h=Ce();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&gf(o,se.memoizedState.deps)?h.memoizedState=xa(n,f,r,o):(It.flags|=e,h.memoizedState=xa(1|n,f,r,o))}function vp(e,n){Qu(8390656,8,e,n)}function wf(e,n){Ku(2048,8,e,n)}function v1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Hu(),It.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Ep(e){var n=Ce().memoizedState;return v1({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Ku(4,2,e,n)}function bp(e,n){return Ku(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,Sp.bind(null,n,e),r)}function Rf(){}function wp(e,n){var r=Ce();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Rp(e,n){var r=Ce();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=e(),Br){kn(!0);try{e()}finally{kn(!1)}}return r.memoizedState=[o,n],o}function Cf(e,n,r){return r===void 0||(Zi&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Cy(),It.lanes|=e,zs|=e,r)}function Cp(e,n,r,o){return wn(r,n)?r:Ra.current!==null?(e=Cf(e,r,o),wn(e,n)||(ke=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Ut&261930)===0?(ke=!0,e.memoizedState=r):(e=Cy(),It.lanes|=e,zs|=e,n)}function Ip(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Nf(e,!1,n,r);try{var R=h(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=m1(R,o);Zo(e,n,F,Dn(e))}else Zo(e,n,o,Dn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function E1(){}function If(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=xp(e).queue;Ip(e,h,n,ft,r===null?E1:function(){return Np(e),r(o)})}function xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Np(e){var n=xp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Dn())}function xf(){return Ze(ml)}function Dp(){return Ce().memoizedState}function Op(){return Ce().memoizedState}function T1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();e=Ms(r);var o=Vs(n,e,r);o!==null&&(En(o,n,r),Qo(o,n,r)),n={cache:sf()},e.payload=n;return}n=n.return}}function b1(e,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Vp(n,r):(r=Qh(e,n,r,o),r!==null&&(En(r,e,o),kp(r,n,o)))}function Mp(e,n,r){var o=Dn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,wn(E,g))return Iu(e,n,h,0),ue===null&&Cu(),!1}catch{}if(r=Qh(e,n,h,o),r!==null)return En(r,e,o),kp(r,n,o),!0}return!1}function Nf(e,n,r,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Qh(e,r,o,2),n!==null&&En(n,e,2)}function Yu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Vp(e,n){Ca=Bu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function kp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}var Jo={readContext:Ze,use:Gu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Jo.useEffectEvent=Ee;var Up={readContext:Ze,use:Gu,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Ze,useEffect:vp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Qu(4194308,4,Sp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var r=fn();n=n===void 0?null:n;var o=e();if(Br){kn(!0);try{e()}finally{kn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=fn();if(r!==void 0){var h=r(n);if(Br){kn(!0);try{r(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,r=Mp.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(e,n){var r=fn();return Cf(r,e,n)},useTransition:function(){var e=Sf(!1);return e=Ip.bind(null,It,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=It,h=fn();if(Ht){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ue===null)throw Error(a(349));(Ut&127)!==0||ip(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,vp(rp.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},sp.bind(null,o,f,r,n),null),r},useId:function(){var e=fn(),n=ue.identifierPrefix;if(Ht){var r=Di,o=Ni;r=(o&~(1<<32-Ae(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=g1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return fn().memoizedState=T1.bind(null,It)},useEffectEvent:function(e){var n=fn(),r={impl:e};return n.memoizedState=r,function(){if(($t&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:Ze,use:Gu,useCallback:wp,useContext:Ze,useEffect:wf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:Fu,useRef:_p,useState:function(){return Fu(Ji)},useDebugValue:Rf,useDeferredValue:function(e,n){var r=Ce();return Cp(r,se.memoizedState,e,n)},useTransition:function(){var e=Fu(Ji)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:xf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var r=Ce();return lp(r,se,e,n)},useMemoCache:Ef,useCacheRefresh:Op};Df.useEffectEvent=Ep;var Lp={readContext:Ze,use:Gu,useCallback:wp,useContext:Ze,useEffect:wf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:bf,useRef:_p,useState:function(){return bf(Ji)},useDebugValue:Rf,useDeferredValue:function(e,n){var r=Ce();return se===null?Cf(r,e,n):Cp(r,se.memoizedState,e,n)},useTransition:function(){var e=bf(Ji)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:xf,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var r=Ce();return se!==null?lp(r,se,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Op};Lp.useEffectEvent=Ep;function Of(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Dn(),h=Ms(o);h.payload=n,r!=null&&(h.callback=r),n=Vs(e,h,o),n!==null&&(En(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Dn(),h=Ms(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Vs(e,h,o),n!==null&&(En(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Dn(),o=Ms(r);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,r),n!==null&&(En(n,e,r),Qo(n,e,r))}};function Pp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(r,o)||!Po(h,f):!0}function zp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Mf.enqueueReplaceState(n,n.state,null)}function qr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function jp(e){Ru(e)}function Bp(e){console.error(e)}function qp(e){Ru(e)}function Xu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Hp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(e,n,r){return r=Ms(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(e,n)},r}function Gp(e){return e=Ms(e),e.tag=3,e}function Fp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Hp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Hp(n,r,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function S1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ta(n,r,h,!0),r=Cn.current,r!==null){switch(r.tag){case 31:case 13:return Fn===null?oc():r.alternate===null&&Te===0&&(Te=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),rd(e,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),rd(e,o,h)),!1}throw Error(a(435,r.tag))}return rd(e,o,h),oc(),!1}if(Ht)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(a(422),{cause:o}),Bo(Bn(e,r)))):(o!==Jh&&(n=Error(a(423),{cause:o}),Bo(Bn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Bn(o,r),h=Vf(e.stateNode,o,h),cf(e,h),Te!==4&&(Te=2)),!1;var f=Error(a(520),{cause:o});if(f=Bn(f,r),al===null?al=[f]:al.push(f),Te!==4&&(Te=2),n===null)return!0;o=Bn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Vf(r.stateNode,o,e),cf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Gp(h),Fp(h,e,r,o),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),ke=!1;function Je(e,n,r,o){n.child=e===null?Xg(n,null,r,o):jr(n,e.child,r,o)}function Qp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ur(n),o=pf(e,n,r,g,f,h),E=yf(),e!==null&&!ke?(_f(e,n,h),Wi(e,n,h)):(Ht&&E&&$h(n),n.flags|=1,Je(e,n,o,h),n.child)}function Kp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Yp(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(g,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Yp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(ke=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(ke=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return Uf(e,n,r,o,h)}function Xp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $p(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):ff(),Wg(n);else return o=n.lanes=536870912,$p(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),Jg(n,f),Us(),n.memoizedState=null):(e!==null&&Vu(n,null),ff(),Us());return Je(e,n,h,r),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $p(e,n,r,o,h){var f=af();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),ff(),Wg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zp(e,n,r){return jr(n,e.child,null,r),e=$u(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function A1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,Wo(null,e);if(mf(n),(e=fe)?(e=u_(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=Vg(e),r.return=n,n.child=r,$e=n,fe=null)):e=null,e===null)throw Ns(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Zp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ke||Ta(e,n,r,!1),h=(r&e.childLanes)!==0,ke||h){if(o=ue,o!==null&&(g=Eo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Or(e,g),En(o,e,g),kf;oc(),n=Zp(e,n,r)}else e=f.treeContext,fe=Qn(g.nextSibling),$e=n,Ht=!0,xs=null,Gn=!1,e!==null&&Lg(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Uf(e,n,r,o,h){return Ur(n),r=pf(e,n,r,o,void 0,h),o=yf(),e!==null&&!ke?(_f(e,n,h),Wi(e,n,h)):(Ht&&o&&$h(n),n.flags|=1,Je(e,n,r,h),n.child)}function Jp(e,n,r,o,h,f){return Ur(n),n.updateQueue=null,r=ep(n,o,r,h),tp(e),o=yf(),e!==null&&!ke?(_f(e,n,f),Wi(e,n,f)):(Ht&&o&&$h(n),n.flags|=1,Je(e,n,r,f),n.child)}function Wp(e,n,r,o,h){if(Ur(n),n.stateNode===null){var f=ya,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ze(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ze(g):ya,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Of(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=qr(r,E);f.props=R;var z=f.context,F=r.contextType;g=ya,typeof F=="object"&&F!==null&&(g=Ze(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&zp(n,f,o,g),Os=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),z=n.memoizedState,E||j!==z||Os?(typeof Y=="function"&&(Of(n,r,Y,o),z=n.memoizedState),(R=Os||Pp(n,r,R,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),g=n.memoizedProps,F=qr(r,g),f.props=F,Y=n.pendingProps,j=f.context,z=r.contextType,R=ya,typeof z=="object"&&z!==null&&(R=Ze(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&zp(n,f,o,R),Os=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==Y||j!==q||Os||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Of(n,r,E,o),q=n.memoizedState),(F=Os||Pp(n,r,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,r,h)):Je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function ty(e,n,r,o){return Vr(),n.flags|=256,Je(e,n,r,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Hg()}}function zf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Nn),e}function ey(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?ks(n):Us(),(e=fe)?(e=u_(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=Vg(e),r.return=n,n.child=r,$e=n,fe=null)):e=null,e===null)throw Ns(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Mr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(e,g,r),n.memoizedState=Lf,Wo(null,o)):(ks(n),jf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Bf(e,n,r)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Mr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,jr(n,e.child,null,r),o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(e,g,r),n.memoizedState=Lf,n=Wo(null,o));else if(ks(n),Td(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Bf(e,n,r)}else if(ke||Ta(e,n,r,!1),g=(r&e.childLanes)!==0,ke||g){if(g=ue,g!==null&&(o=Eo(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Or(e,o),En(g,e,o),kf;Ed(E)||oc(),n=Bf(e,n,r)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,fe=Qn(E.nextSibling),$e=n,Ht=!0,xs=null,Gn=!1,e!==null&&Lg(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Ki(z,E):(E=Mr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(R=Me._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Hg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,g,r),n.memoizedState=Lf,Wo(e.child,o)):(ks(n),r=e.child,e=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function jf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Bf(e,n,r){return jr(n,e.child,null,r),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,r)}function qf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function iy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Re.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Re,g),Je(e,n,o,r),o=Ht?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,r,n);else if(e.tag===19)ny(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ju(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),qf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}qf(n,!0,r,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ta(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ki(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ki(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function w1(e,n,r){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),Ds(n,Me,e.memoizedState.cache),Vr();break;case 27:case 5:Ot(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ey(e,n,r):(ks(n),e=Wi(e,n,r),e!==null?e.sibling:null);ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ta(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return iy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Re,Re.current),o)break;return null;case 22:return n.lanes=0,Xp(e,n,r,n.pendingProps);case 24:Ds(n,Me,e.memoizedState.cache)}return Wi(e,n,r)}function sy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ke=!0;else{if(!Hf(e,r)&&(n.flags&128)===0)return ke=!1,w1(e,n,r);ke=(e.flags&131072)!==0}else ke=!1,Ht&&(n.flags&1048576)!==0&&Ug(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Pr(n.elementType),n.type=e,typeof e=="function")Kh(e)?(o=qr(e,o),n.tag=1,n=Wp(null,n,e,o,r)):(n.tag=0,n=Uf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Dt){n.tag=11,n=Qp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Kp(null,n,e,o,r);break t}}throw n=ce(e)||e,Error(a(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=qr(o,n.pendingProps),Wp(e,n,o,h,r);case 3:t:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Yo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ds(n,Me,o),o!==f.cache&&nf(n,[Me],r,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,o,r);break t}else if(o!==h){h=Bn(Error(a(424)),n),Bo(h),n=ty(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Qn(e.firstChild),$e=n,Ht=!0,xs=null,Gn=!0,r=Xg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Vr(),o===h){n=Wi(e,n,r);break t}Je(e,n,o,r)}n=n.child}return n;case 26:return Zu(e,n),e===null?(r=g_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ht||(r=n.type,e=n.pendingProps,o=mc(Rt.current).createElement(r),o[Ne]=n,o[Ge]=e,We(o,r,e),De(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ot(n),e===null&&Ht&&(o=n.stateNode=f_(n.type,n.pendingProps,Rt.current),$e=n,Gn=!0,h=fe,Gs(n.type)?(bd=h,fe=Qn(o.firstChild)):fe=h),Je(e,n,n.pendingProps.children,r),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=fe)&&(o=eb(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,$e=n,fe=Qn(o.firstChild),Gn=!1,h=!0):h=!1),h||Ns(n)),Ot(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(e,n,p1,null,null,r),ml._currentValue=h),Zu(e,n),Je(e,n,o,r),n.child;case 6:return e===null&&Ht&&((e=r=fe)&&(r=nb(r,n.pendingProps,Gn),r!==null?(n.stateNode=r,$e=n,fe=null,e=!0):e=!1),e||Ns(n)),null;case 13:return ey(e,n,r);case 4:return tt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,r):Je(e,n,o,r),n.child;case 11:return Qp(e,n,n.type,n.pendingProps,r);case 7:return Je(e,n,n.pendingProps,r),n.child;case 8:return Je(e,n,n.pendingProps.children,r),n.child;case 12:return Je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ur(n),h=Ze(h),o=o(h),n.flags|=1,Je(e,n,o,r),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,r);case 15:return Yp(e,n,n.type,n.pendingProps,r);case 19:return iy(e,n,r);case 31:return A1(e,n,r);case 22:return Xp(e,n,r,n.pendingProps);case 24:return Ur(n),o=Ze(Me),e===null?(h=af(),h===null&&(h=ue,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},lf(n),Ds(n,Me,h)):((e.lanes&r)!==0&&(uf(e,n),Yo(n,null,null,r),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Me,o)):(o=f.cache,Ds(n,Me,o),o!==h.cache&&nf(n,[Me],r,!0))),Je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function Gf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw zr=Uu,of}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw zr=Uu,of}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ma|=n)}function tl(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function R1(e,n,r){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Me),rt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(de(n),ry(n,f)):(de(n),Gf(n,h,null,o,r))):f?f!==e.memoizedState?(ts(n),de(n),ry(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),de(n),Gf(n,h,e,o,r)),null;case 27:if(Yt(n),r=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=at.current,Ea(n)?Pg(n):(e=f_(h,o,r),n.stateNode=e,ts(n))}return de(n),null;case 5:if(Yt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=at.current,Ea(n))Pg(n);else{var g=mc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ne]=n,f[Ge]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return de(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,Ea(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||e_(e.nodeValue,r)),e||Ns(n,!0)}else e=mc(e).createTextNode(o),e[Ne]=n,n.stateNode=e}return de(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ne]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else r=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ne]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),de(n),null);case 4:return rt(),e===null&&fd(n.stateNode.containerInfo),de(n),null;case 10:return $i(n.type),de(n),null;case 19:if(K(Re),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Mg(r,e),r=r.sibling;return it(Re,Re.current&1|2),Ht&&Yi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&cn()>sc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ht)return de(n),null}else 2*cn()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=cn(),e.sibling=null,r=Re.current,it(Re,h?r&1|2:r&1),Ht&&Yi(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return In(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Lr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$i(Me),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function C1(e,n){switch(Zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Me),rt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yt(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Re),null;case 4:return rt(),null;case 10:return $i(n.type),null;case 22:case 23:return In(n),df(),e!==null&&K(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Me),null;case 25:return null;default:return null}}function ay(e,n){switch(Zh(n),n.tag){case 3:$i(Me),rt();break;case 26:case 27:case 5:Yt(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:K(Re);break;case 10:$i(n.type);break;case 22:case 23:In(n),df(),e!==null&&K(Lr);break;case 24:$i(Me)}}function el(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){te(n,n.return,E)}}function Ls(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(F){te(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){te(n,n.return,F)}}function oy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Zg(n,r)}catch(o){te(e,e.return,o)}}}function ly(e,n,r){r.props=qr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){te(e,n,o)}}function nl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){te(e,n,h)}}function Oi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){te(e,n,h)}else r.current=null}function uy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){te(e,e.return,h)}}function Ff(e,n,r){try{var o=e.stateNode;X1(o,e.type,r,n),o[Ge]=n}catch(h){te(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Gs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Kf(e,n,r),e=e.sibling;e!==null;)Kf(e,n,r),e=e.sibling}function tc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function hy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,r),n[Ne]=e,n[Ge]=r}catch(f){te(e,e.return,f)}}var es=!1,Ue=!1,Yf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function I1(e,n){if(e=e.containerInfo,gd=Tc,e=Ag(e),jh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++F===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(pd={focusedElem:e,selectionRange:r},Tc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=qr(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){te(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)vd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function dy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:is(e,r),o&4&&el(5,r);break;case 1:if(is(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){te(r,r.return,g)}else{var h=qr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(r,r.return,g)}}o&64&&oy(r),o&512&&nl(r,r.return);break;case 3:if(is(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zg(e,n)}catch(g){te(r,r.return,g)}}break;case 27:n===null&&o&4&&hy(r);case 26:case 5:is(e,r),n===null&&o&4&&uy(r),o&512&&nl(r,r.return);break;case 12:is(e,r);break;case 31:is(e,r),o&4&&py(e,r);break;case 13:is(e,r),o&4&&yy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=L1.bind(null,r),ib(e,r))));break;case 22:if(o=r.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||Ue,h=es;var f=Ue;es=o,(Ue=n)&&!f?ss(e,r,(r.subtreeFlags&8772)!==0):is(e,r),es=h,Ue=f}break;case 30:break;default:is(e,r)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,pn=!1;function ns(e,n,r){for(r=r.child;r!==null;)gy(e,n,r),r=r.sibling}function gy(e,n,r){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 26:Ue||Oi(r,n),ns(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ue||Oi(r,n);var o=ye,h=pn;Gs(r.type)&&(ye=r.stateNode,pn=!1),ns(e,n,r),hl(r.stateNode),ye=o,pn=h;break;case 5:Ue||Oi(r,n);case 6:if(o=ye,h=pn,ye=null,ns(e,n,r),ye=o,pn=h,ye!==null)if(pn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(r.stateNode)}catch(f){te(r,n,f)}else try{ye.removeChild(r.stateNode)}catch(f){te(r,n,f)}break;case 18:ye!==null&&(pn?(e=ye,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ba(e)):o_(ye,r.stateNode));break;case 4:o=ye,h=pn,ye=r.stateNode.containerInfo,pn=!0,ns(e,n,r),ye=o,pn=h;break;case 0:case 11:case 14:case 15:Ls(2,r,n),Ue||Ls(4,r,n),ns(e,n,r);break;case 1:Ue||(Oi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ly(r,n,o)),ns(e,n,r);break;case 21:ns(e,n,r);break;case 22:Ue=(o=Ue)||r.memoizedState!==null,ns(e,n,r),Ue=o;break;default:ns(e,n,r)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(r){te(n,n.return,r)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(r){te(n,n.return,r)}}function x1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var r=x1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=P1.bind(null,e,o);o.then(h,h)}})}function yn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){ye=E.stateNode,pn=!1;break t}break;case 5:ye=E.stateNode,pn=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(ye===null)throw Error(a(160));gy(f,g,h),ye=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var oi=null;function _y(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),_n(e),o&4&&(Ls(3,e,e.return),el(3,e),Ls(5,e,e.return));break;case 1:yn(n,e),_n(e),o&512&&(Ue||r===null||Oi(r,r.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=oi;if(yn(n,e),_n(e),o&512&&(Ue||r===null||Oi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,r),f[Ne]=e,De(f),o=f;break t;case"link":var g=__("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;case"meta":if(g=__("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ne]=e,De(f),o=f}e.stateNode=o}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?v_(h,e.type,e.stateNode):y_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,r.memoizedProps)}break;case 27:yn(n,e),_n(e),o&512&&(Ue||r===null||Oi(r,r.return)),r!==null&&o&4&&Ff(e,e.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,e),_n(e),o&512&&(Ue||r===null||Oi(r,r.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(lt){te(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(yn(n,e),_n(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){te(e,e.return,lt)}}break;case 3:if(yc=null,h=oi,oi=gc(n.containerInfo),yn(n,e),oi=h,_n(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(lt){te(e,e.return,lt)}Yf&&(Yf=!1,vy(e));break;case 4:o=oi,oi=gc(e.stateNode.containerInfo),yn(n,e),_n(e),oi=o;break;case 12:yn(n,e),_n(e);break;case 31:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:yn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=cn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=es,F=Ue;if(es=z||h,Ue=F||R,yn(n,e),Ue=F,es=z,_n(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||es||Ue||Hr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){te(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){te(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?l_(q,!0):l_(R.stateNode,!1)}catch(lt){te(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ec(e,r))));break;case 19:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:yn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(cy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(e);tc(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(gn(g,""),r.flags&=-33);var E=Qf(e);tc(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Qf(e);Kf(e,z,R);break;default:throw Error(a(161))}}catch(F){te(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:Oi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ly(n,n.return,r),Hr(n);break;case 27:hl(n.stateNode);case 26:case 5:Oi(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function ss(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,r),el(4,f);break;case 1:if(ss(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$g(R[h],E)}catch(z){te(o,o.return,z)}}r&&g&64&&oy(f),nl(f,f.return);break;case 27:hy(f);case 26:case 5:ss(h,f,r),r&&o===null&&g&4&&uy(f),nl(f,f.return);break;case 12:ss(h,f,r);break;case 31:ss(h,f,r),r&&g&4&&py(h,f);break;case 13:ss(h,f,r),r&&g&4&&yy(h,f);break;case 22:f.memoizedState===null&&ss(h,f,r),nl(f,f.return);break;case 30:break;default:ss(h,f,r)}n=n.sibling}}function Xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&qo(r))}function $f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function li(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,r,o),n=n.sibling}function Ey(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(e,n,r,o),h&2048&&el(9,n);break;case 1:li(e,n,r,o);break;case 3:li(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){li(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){te(n,n.return,R)}}else li(e,n,r,o);break;case 31:li(e,n,r,o);break;case 13:li(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?li(e,n,r,o):il(e,n):f._visibility&2?li(e,n,r,o):(f._visibility|=2,Na(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:li(e,n,r,o),h&2048&&$f(n.alternate,n);break;default:li(e,n,r,o)}}function Na(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,E,R,h),el(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Na(f,g,E,R,h):il(f,g):(F._visibility|=2,Na(f,g,E,R,h)),h&&z&2048&&Xf(g.alternate,g);break;case 24:Na(f,g,E,R,h),h&&z&2048&&$f(g.alternate,g);break;default:Na(f,g,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:il(r,o),h&2048&&Xf(o.alternate,o);break;case 24:il(r,o),h&2048&&$f(o.alternate,o);break;default:il(r,o)}n=n.sibling}}var sl=8192;function Da(e,n,r){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ty(e,n,r),e=e.sibling}function Ty(e,n,r){switch(e.tag){case 26:Da(e,n,r),e.flags&sl&&e.memoizedState!==null&&gb(r,oi,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,r);break;case 3:case 4:var o=oi;oi=gc(e.stateNode.containerInfo),Da(e,n,r),oi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Da(e,n,r),sl=o):Da(e,n,r));break;default:Da(e,n,r)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,Ay(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):rl(e);break;default:rl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,Ay(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ay(e,n){for(;Qe!==null;){var r=Qe;switch(r.tag){case 0:case 11:case 15:Ls(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Qe=o;else t:for(r=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(my(o),o===r){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var N1={getCacheForType:function(e){var n=Ze(Me),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ze(Me).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,$t=0,ue=null,Vt=null,Ut=0,Wt=0,xn=null,Ps=!1,Oa=!1,Zf=!1,rs=0,Te=0,zs=0,Gr=0,Jf=0,Nn=0,Ma=0,al=null,vn=null,Wf=!1,ic=0,wy=0,sc=1/0,rc=null,js=null,Be=0,Bs=null,Va=null,as=0,td=0,ed=null,Ry=null,ol=0,nd=null;function Dn(){return($t&2)!==0&&Ut!==0?Ut&-Ut:G.T!==null?ld():au()}function Cy(){if(Nn===0)if((Ut&536870912)===0||Ht){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Nn=e}else Nn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Nn}function En(e,n,r){(e===ue&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),qs(e,Ut,Nn,!1)),_r(e,r),(($t&2)===0||e!==ue)&&(e===ue&&(($t&2)===0&&(Gr|=r),Te===4&&qs(e,Ut,Nn,!1)),Mi(e))}function Iy(e,n,r){if(($t&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Jn(e,n),h=o?V1(e,n):sd(e,n,!0),f=o;do{if(h===0){Oa&&!o&&qs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!O1(r)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,g).flags|=256),g=sd(E,g,!1),g!==2){if(Zf&&!R){E.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Nn,!Ps);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-cn(),10<h)){if(qs(o,n,Nn,!Ps),gi(o,0,!0)!==0)break t;as=n,o.timeoutHandle=r_(xy.bind(null,o,r,vn,rc,Wf,n,Nn,Gr,Ma,Ps,f,"Throttled",-0,0),h);break t}xy(o,r,vn,rc,Wf,n,Nn,Gr,Ma,Ps,f,null,-0,0)}}break}while(!0);Mi(e)}function xy(e,n,r,o,h,f,g,E,R,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Ty(n,f,Y);var lt=(f&62914560)===f?ic-cn():(f&4194048)===f?wy-cn():0;if(lt=pb(Y,lt),lt!==null){as=f,e.cancelPendingCommit=lt(Ly.bind(null,e,n,f,r,o,h,g,E,R,F,Y,null,j,q)),qs(e,f,g,!z);return}}Ly(e,n,f,r,o,h,g,E,R)}function O1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,r,o){n&=~Jf,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&vr(e,r,n)}function ac(){return($t&6)===0?(ll(0),!1):!0}function id(){if(Vt!==null){if(Wt===0)var e=Vt.return;else e=Vt,Xi=kr=null,vf(e),wa=null,Go=0,e=Vt;for(;e!==null;)ay(e.alternate,e),e=e.return;Vt=null}}function ka(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,J1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),as=0,id(),ue=e,Vt=r=Ki(e.current,null),Ut=n,Wt=0,xn=null,Ps=!1,Oa=Jn(e,n),Zf=!1,Ma=Nn=Jf=Gr=zs=Te=0,vn=al=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Cu(),r}function Ny(e,n){It=null,G.H=Jo,n===Aa||n===ku?(n=Qg(),Wt=3):n===of?(n=Qg(),Wt=4):Wt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Vt===null&&(Te=1,Xu(e,Bn(n,e.current)))}function Dy(){var e=Cn.current;return e===null?!0:(Ut&4194048)===Ut?Fn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Fn:!1}function Oy(){var e=G.H;return G.H=Jo,e===null?Jo:e}function My(){var e=G.A;return G.A=N1,e}function oc(){Te=4,Ps||(Ut&4194048)!==Ut&&Cn.current!==null||(Oa=!0),(zs&134217727)===0&&(Gr&134217727)===0||ue===null||qs(ue,Ut,Nn,!1)}function sd(e,n,r){var o=$t;$t|=2;var h=Oy(),f=My();(ue!==e||Ut!==n)&&(rc=null,ka(e,n)),n=!1;var g=Te;t:do try{if(Wt!==0&&Vt!==null){var E=Vt,R=xn;switch(Wt){case 8:id(),g=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=Wt;if(Wt=0,xn=null,Ua(e,E,R,z),r&&Oa){g=0;break t}break;default:z=Wt,Wt=0,xn=null,Ua(e,E,R,z)}}M1(),g=Te;break}catch(F){Ny(e,F)}while(!0);return n&&e.shellSuspendCounter++,Xi=kr=null,$t=o,G.H=h,G.A=f,Vt===null&&(ue=null,Ut=0,Cu()),g}function M1(){for(;Vt!==null;)Vy(Vt)}function V1(e,n){var r=$t;$t|=2;var o=Oy(),h=My();ue!==e||Ut!==n?(rc=null,sc=cn()+500,ka(e,n)):Oa=Jn(e,n);t:do try{if(Wt!==0&&Vt!==null){n=Vt;var f=xn;e:switch(Wt){case 1:Wt=0,xn=null,Ua(e,n,f,1);break;case 2:case 9:if(Gg(f)){Wt=0,xn=null,ky(n);break}n=function(){Wt!==2&&Wt!==9||ue!==e||(Wt=7),Mi(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Gg(f)?(Wt=0,xn=null,ky(n)):(Wt=0,xn=null,Ua(e,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?E_(g):E.stateNode.complete){Wt=0,xn=null;var R=E.sibling;if(R!==null)Vt=R;else{var z=E.return;z!==null?(Vt=z,lc(z)):Vt=null}break e}}Wt=0,xn=null,Ua(e,n,f,5);break;case 6:Wt=0,xn=null,Ua(e,n,f,6);break;case 8:id(),Te=6;break t;default:throw Error(a(462))}}k1();break}catch(F){Ny(e,F)}while(!0);return Xi=kr=null,G.H=o,G.A=h,$t=r,Vt!==null?0:(ue=null,Ut=0,Cu(),Te)}function k1(){for(;Vt!==null&&!Mh();)Vy(Vt)}function Vy(e){var n=sy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?lc(e):Vt=n}function ky(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Jp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Jp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:vf(n);default:ay(r,n),n=Vt=Mg(n,rs),n=sy(r,n,rs)}e.memoizedProps=e.pendingProps,n===null?lc(e):Vt=n}function Ua(e,n,r,o){Xi=kr=null,vf(n),wa=null,Go=0;var h=n.return;try{if(S1(e,h,n,r,Ut)){Te=1,Xu(e,Bn(r,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;Te=1,Xu(e,Bn(r,e.current)),Vt=null;return}n.flags&32768?(Ht||o===1?e=!0:Oa||(Ut&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Ps);return}e=n.return;var r=R1(n.alternate,n,rs);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);Te===0&&(Te=5)}function Uy(e,n){do{var r=C1(e.alternate,e);if(r!==null){r.flags&=32767,Vt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=r}while(e!==null);Te=6,Vt=null}function Ly(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do uc();while(Be!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(e,r,f,g,E,R),e===ue&&(Vt=ue=null,Ut=0),Va=n,Bs=e,as=r,td=f,ed=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(_s,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,g=$t,$t|=4;try{I1(e,n,r)}finally{$t=g,nt.p=h,G.T=o}}Be=1,Py(),zy(),jy()}}function Py(){if(Be===1){Be=0;var e=Bs,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=nt.p;nt.p=2;var h=$t;$t|=4;try{_y(n,e);var f=pd,g=Ag(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Sg(E.ownerDocument.documentElement,E)){if(R!==null&&jh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,pt=Math.min(R.start,lt),ae=R.end===void 0?pt:Math.min(R.end,lt);!q.extend&&pt>ae&&(g=ae,ae=pt,pt=g);var U=bg(E,pt),N=bg(E,ae);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),pt>ae?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!gd,pd=gd=null}finally{$t=h,nt.p=o,G.T=r}}e.current=n,Be=2}}function zy(){if(Be===2){Be=0;var e=Bs,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=nt.p;nt.p=2;var h=$t;$t|=4;try{dy(e,n.alternate,n)}finally{$t=h,nt.p=o,G.T=r}}Be=3}}function jy(){if(Be===4||Be===3){Be=0,Wl();var e=Bs,n=Va,r=as,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Va=Bs=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),Hi(r),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(as&3)!==0&&uc(),Mi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===nd?ol++:(ol=0,nd=e):ol=0,ll(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function uc(){return Py(),zy(),jy(),qy()}function qy(){if(Be!==5)return!1;var e=Bs,n=td;td=0;var r=Hi(as),o=G.T,h=nt.p;try{nt.p=32>r?32:r,G.T=null,r=ed,ed=null;var f=Bs,g=as;if(Be=0,Va=Bs=null,as=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,Sy(f.current),Ey(f,f.current,g,r),$t=E,ll(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Zn,f)}catch{}return!0}finally{nt.p=h,G.T=o,By(e,n)}}function Hy(e,n,r){n=Bn(r,n),n=Vf(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(_r(e,2),Mi(e))}function te(e,n,r){if(e.tag===3)Hy(e,e,r);else for(;n!==null;){if(n.tag===3){Hy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Bn(r,e),r=Gp(2),o=Vs(n,r,2),o!==null&&(Fp(r,o,n,e),_r(o,2),Mi(o));break}}n=n.return}}function rd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Zf=!0,h.add(r),e=U1.bind(null,e,n,r),n.then(e,e))}function U1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ue===e&&(Ut&r)===r&&(Te===4||Te===3&&(Ut&62914560)===Ut&&300>cn()-ic?($t&2)===0&&ka(e,0):Jf|=r,Ma===Ut&&(Ma=0)),Mi(e)}function Gy(e,n){n===0&&(n=ru()),e=Or(e,n),e!==null&&(_r(e,n),Mi(e))}function L1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Gy(e,r)}function P1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,r)}function z1(e,n){return ne(e,n)}var cc=null,La=null,ad=!1,hc=!1,od=!1,Hs=0;function Mi(e){e!==La&&e.next===null&&(La===null?cc=La=e:La=La.next=e),hc=!0,ad||(ad=!0,B1())}function ll(e,n){if(!od&&hc){od=!0;do for(var r=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Yy(o,f))}else f=Ut,f=gi(o,o===ue?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jn(o,f)||(r=!0,Yy(o,f));o=o.next}while(r);od=!1}}function j1(){Fy()}function Fy(){hc=ad=!1;var e=0;Hs!==0&&Z1()&&(e=Hs);for(var n=cn(),r=null,o=cc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,r===null?cc=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Be!==0&&Be!==5||ll(e),Hs!==0&&(Hs=0)}function Qy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ae(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=kh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ue,r=Ut,r=gi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sn(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Jn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&sn(o),Hi(r)){case 2:case 8:r=_o;break;case 32:r=_s;break;case 268435456:r=tu;break;default:r=_s}return o=Ky.bind(null,e),r=ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&sn(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var o=Ut;return o=gi(e,e===ue?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Iy(e,o,n),Qy(e,cn()),e.callbackNode!=null&&e.callbackNode===r?Ky.bind(null,e):null)}function Yy(e,n){if(uc())return null;Iy(e,n,!0)}function B1(){W1(function(){($t&6)!==0?ne(yo,j1):Fy()})}function ld(){if(Hs===0){var e=ba;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Hs=e}return Hs}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function $y(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function q1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Xy((h[Ge]||null).action),g=o.submitter;g&&(n=(n=g[Ge]||null)?Xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ri("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var R=g?$y(h,g):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?$y(h,g):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],H1=cd.toLowerCase(),G1=cd[0].toUpperCase()+cd.slice(1);ai(H1,"on"+G1)}ai(Cg,"onAnimationEnd"),ai(Ig,"onAnimationIteration"),ai(xg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(a1,"onTransitionRun"),ai(o1,"onTransitionStart"),ai(l1,"onTransitionCancel"),ai(Ng,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Zy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}}}}function kt(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var o=e+"__bubble";r.has(o)||(Jy(n,e,2,!1),r.add(o))}function hd(e,n,r){var o=0;n&&(o|=4),Jy(r,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[fc]){e[fc]=!0,To.forEach(function(r){r!=="selectionchange"&&(F1.has(r)||hd(r,!1,e),hd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,hd("selectionchange",!1,n))}}function Jy(e,n,r,o){switch(C_(n)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=Cd}r=h.bind(null,n,r,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function dd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=vi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}As(function(){var z=f,F=Ln(r),Y=[];t:{var j=Dg.get(e);if(j!==void 0){var q=Ri,lt=e;switch(e){case"keypress":if(Rr(r)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":lt="focus",q=Ir;break;case"focusout":lt="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Cg:case Ig:case xg:q=pu;break;case Ng:q=T;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qi;break;case"toggle":case"beforetoggle":q=Ct}var pt=(n&4)!==0,ae=!pt&&(e==="scroll"||e==="scrollend"),U=pt?j!==null?j+"Capture":null:j;pt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=ni(N,U),Q!=null&&pt.push(cl(N,Q,P))),ae)break;N=N.return}0<pt.length&&(j=new q(j,lt,null,r,F),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==No&&(lt=r.relatedTarget||r.fromElement)&&(vi(lt)||lt[yi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=z,lt=lt?vi(lt):null,lt!==null&&(ae=c(lt),pt=lt.tag,lt!==ae||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(pt=Vo,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Qi,Q="onPointerLeave",U="onPointerEnter",N="pointer"),ae=q==null?j:Sn(q),P=lt==null?j:Sn(lt),j=new pt(Q,N+"leave",q,r,F),j.target=ae,j.relatedTarget=P,Q=null,vi(F)===z&&(pt=new pt(U,N+"enter",lt,r,F),pt.target=P,pt.relatedTarget=ae,Q=pt),ae=Q,q&&lt)e:{for(pt=Q1,U=q,N=lt,P=0,Q=U;Q;Q=pt(Q))P++;Q=0;for(var dt=N;dt;dt=pt(dt))Q++;for(;0<P-Q;)U=pt(U),P--;for(;0<Q-P;)N=pt(N),Q--;for(;P--;){if(U===N||N!==null&&U===N.alternate){pt=U;break e}U=pt(U),N=pt(N)}pt=null}else pt=null;q!==null&&Wy(Y,j,q,pt,!1),lt!==null&&ae!==null&&Wy(Y,ae,lt,pt,!0)}}t:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Qt=pg;else if(mg(j))if(yg)Qt=i1;else{Qt=e1;var ct=t1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(Qt=pg):Qt=n1;if(Qt&&(Qt=Qt(e,z))){gg(Y,Qt,r,F);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(ct=z?Sn(z):window,e){case"focusin":(mg(ct)||ct.contentEditable==="true")&&(ma=ct,Bh=z,zo=null);break;case"focusout":zo=Bh=ma=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,wg(Y,r,F);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":wg(Y,r,F)}var xt;if(Xt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else da?xr(e,r)&&(Lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Lt="onCompositionStart");Lt&&(xi&&r.locale!=="ko"&&(da||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&da&&(xt=Oo()):(wi=F,Do="value"in wi?wi.value:wi.textContent,da=!0)),ct=dc(z,Lt),0<ct.length&&(Lt=new Ii(Lt,e,null,r,F),Y.push({event:Lt,listeners:ct}),xt?Lt.data=xt:(xt=fa(r),xt!==null&&(Lt.data=xt)))),(xt=zn?$T(e,r):ZT(e,r))&&(Lt=dc(z,"onBeforeInput"),0<Lt.length&&(ct=new Ii("onBeforeInput","beforeinput",null,r,F),Y.push({event:ct,listeners:Lt}),ct.data=xt)),q1(Y,e,z,r,F)}Zy(Y,n)})}function cl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function dc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(e,r),h!=null&&o.unshift(cl(e,h,f)),h=ni(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ni(r,f),z!=null&&g.unshift(cl(r,z,R))):h||(z=ni(r,f),z!=null&&g.push(cl(r,z,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Y1,"")}function e_(e,n){return n=t_(n),t_(e)===n}function re(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,r,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ei);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,sa(e,r,o))}}function md(e,n,r,o,h,f){switch(r){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sa(e,r,o)}}}function We(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,r,null)}}h&&re(e,n,"srcSet",r.srcSet,r,null),o&&re(e,n,"src",r.src,r,null);return;case"input":kt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:re(e,n,o,F,r,null)}}cu(e,f,E,R,z,g,h,!1);return;case"select":kt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:re(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):r!=null&&Es(e,!!o,r,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:re(e,n,g,E,r,null)}Ts(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:re(e,n,R,o,r,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)kt(ul[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,o,r,null)}return;default:if(aa(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&md(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&re(e,n,E,o,r,null))}function X1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,F=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||re(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&re(e,n,j,q,o,Y)}}ra(e,g,E,R,z,F,f,h);return;case"select":q=g=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||re(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&re(e,n,h,f,o,R)}n=E,r=g,o=q,j!=null?Es(e,!!r,j,!1):!!o!=!!r&&(n!=null?Es(e,!!r,n,!0):Es(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,o,f)}hu(e,j,q);return;case"option":for(var lt in r)if(j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:re(e,n,lt,null,o,j)}for(R in o)if(j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&re(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,z,j,o,q)}return;default:if(aa(n)){for(var ae in r)j=r[ae],r.hasOwnProperty(ae)&&j!==void 0&&!o.hasOwnProperty(ae)&&md(e,n,ae,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||md(e,n,F,j,o,q);return}}for(var U in r)j=r[U],r.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&re(e,n,U,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||re(e,n,Y,j,o,q)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&n_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var F=R.transferSize,Y=R.initiatorType;F&&n_(Y)&&(R=R.responseEnd,g+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,pd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(tb)}:r_;function tb(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function o_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")hl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,hl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&hl(e.ownerDocument.body);r=h}while(r);Ba(n)}function l_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function eb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function nb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Qn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bd=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Qn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,r){switch(n=mc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Kn=new Map,d_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=nt.d;nt.d={f:sb,r:rb,D:ab,C:ob,L:lb,m:ub,X:hb,S:cb,M:fb};function sb(){var e=os.f(),n=ac();return e||n}function rb(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?Np(n):os.r(e)}var Pa=typeof document>"u"?null:document;function m_(e,n,r){var o=Pa;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),De(n),o.head.appendChild(n)))}}function ab(e){os.D(e),m_("dns-prefetch",e,null)}function ob(e,n){os.C(e,n),m_("preconnect",e,n)}function lb(e,n,r){os.L(e,n,r);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+mn(r.imageSizes)+'"]')):h+='[href="'+mn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}Kn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),We(n,"link",e),De(n),o.head.appendChild(n)))}}function ub(e,n){os.m(e,n);var r=Pa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!Kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(dl(f)))return}o=r.createElement("link"),We(o,"link",e),De(o),r.head.appendChild(o)}}}function cb(e,n,r){os.S(e,n,r);var o=Pa;if(o&&e){var h=Ei(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Kn.get(f))&&Sd(e,r);var R=g=o.createElement("link");De(R),We(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function hb(e,n){os.X(e,n);var r=Pa;if(r&&e){var o=Ei(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=Kn.get(h))&&Ad(e,n),f=r.createElement("script"),De(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fb(e,n){os.M(e,n);var r=Pa;if(r&&e){var o=Ei(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&Ad(e,n),f=r.createElement("script"),De(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,r,o){var h=(h=Rt.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=za(r.href),r=Ei(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=za(r.href);var f=Ei(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(e,r),f||db(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(r),r=Ei(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+mn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",r),De(n),e.head.appendChild(n))}function ja(e){return'[src="'+mn(e)+'"]'}function dl(e){return"script[async]"+e}function y_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+mn(r.href)+'"]');if(o)return n.instance=o,De(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),De(o),We(o,"style",h),pc(o,r.precedence,e),n.instance=o;case"stylesheet":h=za(r.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;o=p_(r),(h=Kn.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),De(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),We(f,"link",o),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=ja(r.src),(h=e.querySelector(dl(f)))?(n.instance=h,De(h),h):(o=r,(h=Kn.get(f))&&(o=S({},r),Ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),De(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,e));return n.instance}function pc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function __(e,n,r){if(yc===null){var o=new Map,h=yc=new Map;h.set(r,o)}else h=yc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[_i]||f[Ne]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function v_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function mb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=za(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,De(f);return}f=n.ownerDocument||n,o=p_(o),(h=Kn.get(h))&&Sd(o,h),f=f.createElement("link"),De(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),We(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=_c.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function pb(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*$1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(yb,e),vc=null,_c.call(e))}function yb(e,n){if(!(n.state.loading&4)){var r=vc.get(e);if(r)var o=r.get(null);else{r=new Map,vc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function _b(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function T_(e,n,r,o,h,f,g,E,R,z,F,Y){return e=new _b(e,n,r,g,R,z,F,Y,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},lf(f),e}function b_(e){return e?(e=ya,e):ya}function S_(e,n,r,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Vs(e,o,n),r!==null&&(En(r,e,n),Qo(r,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Rd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Or(e,67108864);n!==null&&En(n,e,67108864),Rd(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Er(n);var r=Or(e,n);r!==null&&En(r,e,n),Rd(e,n)}}var Tc=!0;function vb(e,n,r,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Cd(e,n,r,o)}finally{nt.p=f,G.T=h}}function Eb(e,n,r,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Cd(e,n,r,o)}finally{nt.p=f,G.T=h}}function Cd(e,n,r,o){if(Tc){var h=Id(o);if(h===null)dd(e,n,o,bc,r),I_(e,o);else if(bb(h,e,n,r,o))o.stopPropagation();else if(I_(e,o),n&4&&-1<Tb.indexOf(e)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=mi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Ae(g);E.entanglements[1]|=R,g&=~R}Mi(f),($t&6)===0&&(sc=cn()+500,ll(0))}}break;case 31:case 13:E=Or(f,2),E!==null&&En(E,f,2),ac(),Rd(f,2)}if(f=Id(o),f===null&&dd(e,n,o,bc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,r)}}function Id(e){return e=Ln(e),xd(e)}var bc=null;function xd(e){if(bc=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case yo:return 2;case _o:return 8;case _s:case Vh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Nd=!1,Fs=null,Qs=null,Ks=null,gl=new Map,pl=new Map,Ys=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function bb(e,n,r,o,h){switch(n){case"focusin":return Fs=yl(Fs,e,n,r,o,h),!0;case"dragenter":return Qs=yl(Qs,e,n,r,o,h),!0;case"mouseover":return Ks=yl(Ks,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,r,o,h)),!0}return!1}function x_(e){var n=vi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Wn(e.priority,function(){R_(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,Wn(e.priority,function(){R_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Id(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);No=o,r.target.dispatchEvent(o),No=null}else return n=Un(r),n!==null&&w_(n),e.blockedOn=r,!1;n.shift()}return!0}function N_(e,n,r){Sc(e)&&r.delete(n)}function Sb(){Nd=!1,Fs!==null&&Sc(Fs)&&(Fs=null),Qs!==null&&Sc(Qs)&&(Qs=null),Ks!==null&&Sc(Ks)&&(Ks=null),gl.forEach(N_),pl.forEach(N_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Sb)))}var wc=null;function D_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(xd(o||r)===null)continue;break}var f=Un(r);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ba(e){function n(R){return Ac(R,e)}Fs!==null&&Ac(Fs,e),Qs!==null&&Ac(Qs,e),Ks!==null&&Ac(Ks,e),gl.forEach(n),pl.forEach(n);for(var r=0;r<Ys.length;r++){var o=Ys[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(r=Ys[0],r.blockedOn===null);)x_(r),r.blockedOn===null&&Ys.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ge]||null;if(typeof f=="function")g||D_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ge]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),D_(r)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Rc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();S_(r,o,e,n,null,null)},Rc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),ac(),n[yi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ys.length&&n!==0&&n<Ys[r].priority;r++);Ys.splice(r,0,e),r===0&&x_(e)}};var M_=t.version;if(M_!=="19.2.3")throw Error(a(527,M_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Zn=Cc.inject(Ab),Ye=Cc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=jp,f=Bp,g=qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(e,1,!1,null,null,r,o,null,h,f,g,O_),e[yi]=n.current,fd(e),new Dd(n)},vl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=jp,g=Bp,E=qp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=T_(e,1,!0,n,r??null,o,h,R,f,g,E,O_),n.context=b_(null),r=n.current,o=Dn(),o=Er(o),h=Ms(o),h.callback=null,Vs(r,h,o),r=o,n.current.lanes=r,_r(n,r),Mi(n),e[yi]=n.current,fd(e),new Rc(n)},vl.version="19.2.3",vl}var H_;function Vb(){if(H_)return Vd.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=Mb(),Vd.exports}var kb=Vb();const Ub=()=>{};var G_={};const R0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Lb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,b=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,H=_&63;p||(H=64,d||(M=64)),a.push(i[b],i[S],i[M],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(R0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Lb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||S==null)throw new Pb;const M=c<<2|y>>4;if(a.push(M),_!==64){const H=y<<4&240|_>>2;if(a.push(H),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(s){const t=R0(s);return C0.encodeByteArray(t,!0)},Qc=function(s){return zb(s).replace(/\./g,"")},I0=function(s){try{return C0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bb=()=>jb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof G_>"u")return;const s=G_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Hb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&I0(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return Ub()||Bb()||qb()||Hb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},x0=s=>fh()?.emulatorHosts?.[s],Gb=s=>{const t=x0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},N0=()=>fh()?.config,D0=s=>fh()?.[`_${s}`];class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(s){return(await fetch(s,{credentials:"include"})).ok}function Qb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const wl={};function Kb(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function Yb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let F_=!1;function M0(s,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||wl[s]===t||wl[s]||F_)return;wl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Kb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function b(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Yb(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),st=i("learnmore"),et=document.getElementById(st)||document.createElement("a"),yt=i("preprendIcon"),wt=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;y(_t),b(et,st);const Dt=_();p(wt,yt),_t.append(wt,J,et,Dt),document.body.appendChild(_t)}c?(J.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function $b(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function eS(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const sS="FirebaseError";class ys extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sS,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?rS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new ys(l,y,a)}}function rS(s,t){return s.replace(aS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const aS=/\{\$([^}]+)}/g;function oS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function or(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(Q_(c)&&Q_(d)){if(!or(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(s){return s!==null&&typeof s=="object"}function Bl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lS(s,t){const i=new uS(s,t);return i.subscribe.bind(i)}class uS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function dn(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class hS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dS(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(s){return s===Fr?void 0:s}function dS(s){return s.instantiationMode==="EAGER"}class mS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const gS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},pS=Pt.INFO,yS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},_S=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=yS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=pS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const vS=(s,t)=>t.some(i=>s instanceof i);let K_,Y_;function ES(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Jd=new WeakMap,k0=new WeakMap,zd=new WeakMap,wm=new WeakMap;function bS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(nr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&V0.set(i,s)}).catch(()=>{}),wm.set(t,s),t}function SS(s){if(Jd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,t)}let Wd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Jd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||k0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function AS(s){Wd=s(Wd)}function wS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(jd(this),t,...i);return k0.set(a,t.sort?t.sort():[t]),nr(a)}:TS().includes(s)?function(...t){return s.apply(jd(this),t),nr(V0.get(this))}:function(...t){return nr(s.apply(jd(this),t))}}function RS(s){return typeof s=="function"?wS(s):(s instanceof IDBTransaction&&SS(s),vS(s,ES())?new Proxy(s,Wd):s)}function nr(s){if(s instanceof IDBRequest)return bS(s);if(zd.has(s))return zd.get(s);const t=RS(s);return t!==s&&(zd.set(s,t),wm.set(t,s)),t}const jd=s=>wm.get(s);function CS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),y=nr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(nr(d.result),p.oldVersion,p.newVersion,nr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const IS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Bd=new Map;function X_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||IS.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&p.done]))[0]};return Bd.set(t,c),c}AS(s=>({...s,get:(t,i,a)=>X_(t,i)||s.get(t,i,a),has:(t,i)=>!!X_(t,i)||s.has(t,i)}));class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DS(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",$_="0.14.7";const hs=new Am("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",VS="@firebase/analytics",kS="@firebase/app-check-compat",US="@firebase/app-check",LS="@firebase/auth",PS="@firebase/auth-compat",zS="@firebase/database",jS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",HS="@firebase/functions-compat",GS="@firebase/installations",FS="@firebase/installations-compat",QS="@firebase/messaging",KS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",ZS="@firebase/remote-config-compat",JS="@firebase/storage",WS="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",sA="12.8.0";const em="[DEFAULT]",rA={[tm]:"fire-core",[OS]:"fire-core-compat",[VS]:"fire-analytics",[MS]:"fire-analytics-compat",[US]:"fire-app-check",[kS]:"fire-app-check-compat",[LS]:"fire-auth",[PS]:"fire-auth-compat",[zS]:"fire-rtdb",[jS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[HS]:"fire-fn-compat",[GS]:"fire-iid",[FS]:"fire-iid-compat",[QS]:"fire-fcm",[KS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[ZS]:"fire-rc-compat",[JS]:"fire-gcs",[WS]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};const Kc=new Map,aA=new Map,nm=new Map;function Z_(s,t){try{s.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function to(s){const t=s.name;if(nm.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,s);for(const i of Kc.values())Z_(i,s);for(const i of aA.values())Z_(i,s);return!0}function Rm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Xn(s){return s==null?!1:s.settings!==void 0}const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new jl("app","Firebase",oA);class lA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const uo=sA;function U0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=N0()),!i)throw ir.create("no-options");const c=Kc.get(l);if(c){if(or(i,c.options)&&or(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new mS(l);for(const p of nm.values())d.addComponent(p);const y=new lA(i,a,d);return Kc.set(l,y),y}function L0(s=em){const t=Kc.get(s);if(!t&&s===em&&N0())return U0();if(!t)throw ir.create("no-app",{appName:s});return t}function sr(s,t,i){let a=rA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}to(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uA="firebase-heartbeat-database",cA=1,Dl="firebase-heartbeat-store";let qd=null;function P0(){return qd||(qd=CS(uA,cA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),qd}async function hA(s){try{const i=(await P0()).transaction(Dl),a=await i.objectStore(Dl).get(z0(s));return await i.done,a}catch(t){if(t instanceof ys)hs.warn(t.message);else{const i=ir.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function J_(s,t){try{const a=(await P0()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,z0(s)),await a.done}catch(i){if(i instanceof ys)hs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function z0(s){return`${s.name}!${s.options.appId}`}const fA=1024,dA=30;class mA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dA){const l=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=gA(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hs.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function gA(s,t=fA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),tv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),tv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tv(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function yA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function _A(s){to(new Yr("platform-logger",t=>new NS(t),"PRIVATE")),to(new Yr("heartbeat",t=>new mA(t),"PRIVATE")),sr(tm,$_,s),sr(tm,$_,"esm2020"),sr("fire-js","")}_A("");var vA="firebase",EA="12.8.0";sr(vA,EA,"app");function j0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TA=j0,B0=new jl("auth","Firebase",j0());const Yc=new Am("@firebase/auth");function bA(s,...t){Yc.logLevel<=Pt.WARN&&Yc.warn(`Auth (${uo}): ${s}`,...t)}function kc(s,...t){Yc.logLevel<=Pt.ERROR&&Yc.error(`Auth (${uo}): ${s}`,...t)}function fs(s,...t){throw Cm(s,...t)}function Ui(s,...t){return Cm(s,...t)}function q0(s,t,i){const a={...TA(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:s.name})}function cs(s){return q0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return B0.create(s,...t)}function Tt(s,t,...i){if(!s)throw Cm(t,...i)}function ls(s){const t="INTERNAL ASSERTION FAILED: "+s;throw kc(t),new Error(t)}function ds(s,t){s||ls(t)}function im(){return typeof self<"u"&&self.location?.href||""}function SA(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SA()||Jb()||"connection"in navigator)?navigator.onLine:!0}function wA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(s,t){ds(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class H0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IA=new ql(3e4,6e4);function Hl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function co(s,t,i,a,l={}){return G0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=Bl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...c};return Zb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&lo(s.emulatorConfig.host)&&(_.credentials="include"),H0.fetch()(await F0(s,s.config.apiHost,i,y),_)})}async function G0(s,t,i){s._canInitEmulator=!1;const a={...RA,...t};try{const l=new xA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ic(s,"user-disabled",d);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw q0(s,b,_);fs(s,b)}}catch(l){if(l instanceof ys)throw l;fs(s,"network-request-failed",{message:String(l)})}}async function xm(s,t,i,a,l={}){const c=await co(s,t,i,a,l);return"mfaPendingCredential"in c&&fs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function F0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Im(s.config,l):`${s.config.apiScheme}://${l}`;return CA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ui(this.auth,"network-request-failed")),IA.get())})}}function Ic(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ui(s,t,a);return l.customData._tokenResponse=i,l}async function NA(s,t){return co(s,"POST","/v1/accounts:delete",t)}async function Xc(s,t){return co(s,"POST","/v1/accounts:lookup",t)}function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DA(s,t=!1){const i=dn(s),a=await i.getIdToken(t),l=Nm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Rl(Hd(l.auth_time)),issuedAtTime:Rl(Hd(l.iat)),expirationTime:Rl(Hd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function Nm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=I0(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function nv(s){const t=Nm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ys&&OA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function OA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class MA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(s){const t=s.auth,i=await s.getIdToken(),a=await Ol(s,Xc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Q0(l.providerUserInfo):[],d=kA(s.providerData,c),y=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=y?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function VA(s){const t=dn(s);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kA(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Q0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UA(s,t){const i=await G0(s,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await F0(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return s.emulatorConfig&&lo(s.emulatorConfig.host)&&(p.credentials="include"),H0.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LA(s,t){return co(s,"POST","/v2/accounts:revokeToken",Hl(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=nv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await UA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ya;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return ls("not implemented")}}function $s(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new MA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DA(this,t)}reload(){return VA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await Ol(this,NA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:H,providerData:J,stsTokenManager:st}=i;Tt(S&&st,t,"internal-error");const et=Ya.fromJSON(this.name,st);Tt(typeof S=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof H=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(y,t.name),$s(p,t.name),$s(_,t.name),$s(b,t.name);const yt=new ui({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:et,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(yt.providerData=J.map(wt=>({...wt}))),p&&(yt._redirectEventId=p),yt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Q0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Ya;y.updateFromIdToken(a);const p=new ui({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const iv=new Map;function us(s){ds(s instanceof Function,"Expected a class definition");let t=iv.get(s);return t?(ds(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,iv.set(s,t),t)}class K0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}K0.type="NONE";const sv=K0;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Xa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xa(us(sv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||us(sv);const d=Uc(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const M=await Xc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await ui._fromGetAccountInfoResponse(t,M,b)}else S=ui._fromJSON(t,b);_!==c&&(y=S),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Xa(c,t,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Xa(c,t,a))}}function rv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Y0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(W0(t))return"Blackberry";if(tE(t))return"Webos";if(X0(t))return"Safari";if((t.includes("chrome/")||$0(t))&&!t.includes("edge/"))return"Chrome";if(J0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Y0(s=un()){return/firefox\//i.test(s)}function X0(s=un()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $0(s=un()){return/crios\//i.test(s)}function Z0(s=un()){return/iemobile/i.test(s)}function J0(s=un()){return/android/i.test(s)}function W0(s=un()){return/blackberry/i.test(s)}function tE(s=un()){return/webos/i.test(s)}function Dm(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function PA(s=un()){return Dm(s)&&!!window.navigator?.standalone}function zA(){return tS()&&document.documentMode===10}function eE(s=un()){return Dm(s)||J0(s)||tE(s)||W0(s)||/windows phone/i.test(s)||Z0(s)}function nE(s,t=[]){let i;switch(s){case"Browser":i=rv(un());break;case"Worker":i=`${rv(un())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${a}`}class jA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const p=t(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BA(s,t={}){return co(s,"GET","/v2/passwordPolicy",Hl(s,t))}const qA=6;class HA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await ui._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(cs(this));const i=t?dn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BA(this),i=new HA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gl(s){return dn(s)}class av{constructor(t){this.auth=t,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FA(s){Om=s}function QA(s){return Om.loadJS(s)}function KA(){return Om.gapiScript}function YA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function XA(s,t){const i=Rm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(or(c,t??{}))return l;fs(l,"already-initialized")}return i.initialize({options:t})}function $A(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZA(s,t,i){const a=Gl(s);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=iE(t),{host:d,port:y}=JA(t),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(or(_,a.config.emulator)&&or(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,lo(d)?(O0(`${c}//${d}${p}`),M0("Auth",!0)):WA()}function iE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function JA(s){const t=iE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:ov(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:ov(d)}}}function ov(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function WA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class sE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,i){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function $a(s,t){return xm(s,"POST","/v1/accounts:signInWithIdp",Hl(s,t))}const tw="http://localhost";class Xr extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class rE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends Fl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Fl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class tr extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function ew(s,t){return xm(s,"POST","/v1/accounts:signUp",Hl(s,t))}class ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ui._fromIdTokenResponse(t,a,l),d=lv(a);return new ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=lv(a);return new ms({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function lv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function nw(s){if(Xn(s.app))return Promise.reject(cs(s));const t=Gl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ms({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ew(t,{returnSecureToken:!0}),a=await ms._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Zc extends ys{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Zc(t,i,a,l)}}function aE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(s,c,t,a):c})}async function iw(s,t,i=!1){const a=await Ol(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ms._forOperation(s,"link",a)}async function sw(s,t,i=!1){const{auth:a}=s;if(Xn(a.app))return Promise.reject(cs(a));const l="reauthenticate";try{const c=await Ol(s,aE(a,l,t,s),i);Tt(c.idToken,a,"internal-error");const d=Nm(c.idToken);Tt(d,a,"internal-error");const{sub:y}=d;return Tt(s.uid===y,a,"user-mismatch"),ms._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}async function rw(s,t,i=!1){if(Xn(s.app))return Promise.reject(cs(s));const a="signIn",l=await aE(s,a,t),c=await ms._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function aw(s,t){return xm(s,"POST","/v1/accounts:signInWithCustomToken",Hl(s,t))}async function ow(s,t){if(Xn(s.app))return Promise.reject(cs(s));const i=Gl(s),a=await aw(i,{token:t,returnSecureToken:!0}),l=await ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function lw(s,t,i,a){return dn(s).onIdTokenChanged(t,i,a)}function uw(s,t,i){return dn(s).beforeAuthStateChanged(t,i)}function cw(s,t,i,a){return dn(s).onAuthStateChanged(t,i,a)}const Jc="__sak";class oE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hw=1e3,fw=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,fw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}lE.type="LOCAL";const dw=lE;class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}uE.type="SESSION";const cE=uE;function mw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await mw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Mm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Mm("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function pw(s){Li().location.href=s}function hE(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function yw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _w(){return navigator?.serviceWorker?.controller||null}function vw(){return hE()?self:null}const fE="firebaseLocalStorageDb",Ew=1,Wc="firebaseLocalStorage",dE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,t){return s.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function Tw(){const s=indexedDB.deleteDatabase(fE);return new Ql(s).toPromise()}function rm(){const s=indexedDB.open(fE,Ew);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Wc,{keyPath:dE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await Tw(),t(await rm()))})})}async function uv(s,t,i){const a=mh(s,!0).put({[dE]:t,value:i});return new Ql(a).toPromise()}async function bw(s,t){const i=mh(s,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function cv(s,t){const i=mh(s,!0).delete(t);return new Ql(i).toPromise()}const Sw=800,Aw=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Aw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(vw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yw(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await uv(t,Jc,"1"),await cv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>uv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>bw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const ww=mE;new ql(3e4,6e4);function Rw(s,t){return t?us(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vm extends sE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Cw(s){return rw(s.auth,new Vm(s),s.bypassAuthState)}function Iw(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),sw(i,new Vm(s),s.bypassAuthState)}async function xw(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),iw(i,new Vm(s),s.bypassAuthState)}class gE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Iw;default:fs(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new ql(2e3,1e4);class Ka extends gE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Nw.get())};t()}}Ka.currentPopupAction=null;const Dw="pendingRedirect",Lc=new Map;class Ow extends gE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await Mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mw(s,t){const i=Uw(t),a=kw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Vw(s,t){Lc.set(s._key(),t)}function kw(s){return us(s._redirectPersistence)}function Uw(s){return Uc(Dw,s.config.apiKey,s.name)}async function Lw(s,t,i=!1){if(Xn(s.app))return Promise.reject(cs(s));const a=Gl(s),l=Rw(a,t),d=await new Ow(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Pw=600*1e3;class zw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!pE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(t))}saveEventToCache(t){this.cachedEventUids.add(hv(t)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function pE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function jw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(s);default:return!1}}async function Bw(s,t={}){return co(s,"GET","/v1/projects",t)}const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Gw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Bw(s);for(const i of t)try{if(Fw(i))return}catch{}fs(s,"unauthorized-domain")}function Fw(s){const t=im(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Hw.test(i))return!1;if(qw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Qw=new ql(3e4,6e4);function fv(){const s=Li().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Kw(s){return new Promise((t,i)=>{function a(){fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fv(),i(Ui(s,"network-request-failed"))},timeout:Qw.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const l=YA("iframefcb");return Li()[l]=()=>{gapi.load?a():i(Ui(s,"network-request-failed"))},QA(`${KA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function Yw(s){return Pc=Pc||Kw(s),Pc}const Xw=new ql(5e3,15e3),$w="__/auth/iframe",Zw="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Im(t,Zw):`https://${s.config.authDomain}/${$w}`,a={apiKey:t.apiKey,appName:s.name,v:uo},l=Ww.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function e2(s){const t=await Yw(s),i=Li().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:t2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ui(s,"network-request-failed"),y=Li().setTimeout(()=>{c(d)},Xw.get());function p(){Li().clearTimeout(y),l(a)}a.ping(p).then(p,()=>{c(d)})}))}const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,r2="_blank",a2="http://localhost";class dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o2(s,t,i,a=i2,l=s2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...n2,width:a.toString(),height:l.toString(),top:c,left:d},_=un().toLowerCase();i&&(y=$0(_)?r2:i),Y0(_)&&(t=t||a2,p.scrollbars="yes");const b=Object.entries(p).reduce((M,[H,J])=>`${M}${H}=${J},`,"");if(PA(_)&&y!=="_self")return l2(t||"",y),new dv(null);const S=window.open(t||"",y,b);Tt(S,s,"popup-blocked");try{S.focus()}catch{}return new dv(S)}function l2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function mv(s,t,i,a,l,c){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:uo,eventId:l};if(t instanceof rE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",oS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Fl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const p=await s._getAppCheckToken(),_=p?`#${h2}=${encodeURIComponent(p)}`:"";return`${f2(s)}?${Bl(y).slice(1)}${_}`}function f2({config:s}){return s.emulator?Im(s,c2):`https://${s.authDomain}/${u2}`}const Gd="webStorageSupport";class d2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=Lw,this._overrideRedirectResult=Vw}async _openPopup(t,i,a,l){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await mv(t,i,a,im(),l);return o2(t,c,Mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await mv(t,i,a,im(),l);return pw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await e2(t),a=new zw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Gw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return eE()||X0()||Dm()}}const m2=d2;var gv="@firebase/auth",pv="1.12.0";class g2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(s){to(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nE(s)},_=new GA(a,l,c,p);return $A(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),to(new Yr("auth-internal",t=>{const i=Gl(t.getProvider("auth").getImmediate());return(a=>new g2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(gv,pv,p2(s)),sr(gv,pv,"esm2020")}const _2=300,v2=D0("authIdTokenMaxAge")||_2;let yv=null;const E2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>v2)return;const l=i?.token;yv!==l&&(yv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function T2(s=L0()){const t=Rm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=XA(s,{popupRedirectResolver:m2,persistence:[ww,dw,cE]}),a=D0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=E2(c.toString());uw(i,d,()=>d(i.currentUser)),lw(i,y=>d(y))}}const l=x0("auth");return l&&ZA(i,`http://${l}`),i}function b2(){return document.getElementsByTagName("head")?.[0]??document}FA({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ui("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",b2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,yE;(function(){var s;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,k){for(var w=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)w[ce-2]=arguments[ce];return A.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],D=C.g[2];let k=C.g[3],w;w=A+(k^I&(D^k))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(k^I&(D^k))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(k^I&(D^k))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(k^I&(D^k))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(D^A&(I^D))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(I^k&(A^I))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(A^D&(k^A))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=A+(D^k&(I^D))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(I^D))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(I^D))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(I^D))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(A^I))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^I&(k^A))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(D^k))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=A+(I^D^k)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^k)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^k)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(I^D^k)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^D)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^I)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^A)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=A+(D^(I|~k))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~k))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~k))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=A+(D^(I|~k))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~D))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~I))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(V[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<A;)if(V[D++]=C[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;V&&k==A||(I[D]=k,V=!1)}this.g=I}var y={};function p(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return et(_(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return et(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let V=S;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+D),A);D<8?(D=_(Math.pow(A,D)),V=V.j(D).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var S=p(0),M=p(1),H=p(16777216);s=d.prototype,s.m=function(){if(st(this))return-et(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(st(this))return"-"+et(this).toString(C);const A=_(Math.pow(C,6));var I=this;let V="";for(;;){const D=Dt(I,A).g;I=yt(I,D.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,J(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function st(C){return C.h==-1}s.l=function(C){return C=yt(this,C),st(C)?-1:J(C)?0:1};function et(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return st(this)?et(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=A;D++){let k=V+(this.i(D)&65535)+(C.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,I[D]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function yt(C,A){return C.add(et(A))}s.j=function(C){if(J(this)||J(C))return S;if(st(this))return st(C)?et(this).j(et(C)):et(et(this).j(C));if(st(C))return et(this.j(et(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,ce=C.i(D)>>>16,Se=C.i(D)&65535;I[2*V+2*D]+=w*Se,wt(I,2*V+2*D),I[2*V+2*D+1]+=k*Se,wt(I,2*V+2*D+1),I[2*V+2*D+1]+=w*ce,wt(I,2*V+2*D+1),I[2*V+2*D+2]+=k*ce,wt(I,2*V+2*D+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function wt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function _t(C,A){this.g=C,this.h=A}function Dt(C,A){if(J(A))throw Error("division by zero");if(J(C))return new _t(S,S);if(st(C))return A=Dt(et(C),A),new _t(et(A.g),et(A.h));if(st(A))return A=Dt(C,et(A)),new _t(et(A.g),A.h);if(C.g.length>30){if(st(C)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(C)<=0;)I=ee(I),V=ee(V);var D=Mt(I,1),k=Mt(V,1);for(V=Mt(V,2),I=Mt(I,2);!J(V);){var w=k.add(V);w.l(C)<=0&&(D=D.add(I),k=w),V=Mt(V,1),I=Mt(I,1)}return A=yt(C,D.j(A)),new _t(D,A)}for(D=S;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),w=k.j(A);st(w)||w.l(C)>0;)I-=V,k=_(I),w=k.j(A);J(k)&&(k=M),D=D.add(k),C=yt(C,w)}return new _t(D,C)}s.B=function(C){return Dt(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ee(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Mt(C,A){const I=A>>5;A%=32;const V=C.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=A>0?C.i(k+I)>>>A|C.i(k+I+1)<<32-A:C.i(k+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,rr=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,Tl,vE,zc,am,EE,TE,bE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)W[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,v){const T=_t.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new st(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Mt=!1,C=new wt,A=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){et(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ce(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ce,D),ce.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Rt(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Z="closure_lm_"+(Math.random()*1e6|0),tt={};function rt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)rt(u,m[B],v,T,L);return null}return v=je(v),u&&u[Se]?u.J(m,v,y(T)?!!T.capture:!1,L):Ot(u,m,v,!1,T,L)}function Ot(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const W=y(L)?!!L.capture:!!L;let Ct=he(u);if(Ct||(u[Z]=Ct=new at(u)),v=Ct.add(m,v,T,W,B),v.proxy)return v;if(T=Yt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(mt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yt(){function u(v){return m.call(u.src,u.listener,v)}const m=Nt;return u}function qt(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)qt(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=je(v),u&&u[Se]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=he(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,L)),(v=u>-1?m[u]:null)&&ut(v))}function ut(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(mt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=he(m))?(vt(v,u),v.h==0&&(v.src=null,m[Z]=null)):ft(u)}}}function mt(u){return u in tt?tt[u]:tt[u]="on"+u}function Nt(u,m){if(u.da)u=!0;else{m=new ce(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ut(u),u=v.call(T,m)}return u}function he(u){return u=u[Z],u instanceof at?u:null}var oe="__closure_events_fn_"+(Math.random()*1e9>>>0);function je(u){return typeof u=="function"?u:(u[oe]||(u[oe]=function(m){return u.handleEvent(m)}),u[oe])}function le(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(le,V),le.prototype[Se]=!0,le.prototype.removeEventListener=function(u,m,v,T){qt(this,u,m,v,T)};function ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),it(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=sn(B,T,!0,m)&&L;if(B=m.g=u,L=sn(B,T,!0,m)&&L,L=sn(B,T,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=sn(B,T,!1,m)&&L}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},le.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},le.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function sn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Ct=W.listener,we=W.ha||W.src;W.fa&&vt(u.i,W),L=Ct.call(we,T)!==!1&&L}}return L&&!T.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class cn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){V.call(this),this.h=u,this.g={}}S(pr,V);var yo=[];function _o(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ut(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),_o(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Vh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){D.call(this,"d")}S(Ye,D);function kn(){D.call(this,"c")}S(kn,D);var Ae={},iu=null;function ea(){return iu=iu||new le}Ae.Ia="serverreachability";function su(u){D.call(this,Ae.Ia,u)}S(su,D);function di(u){const m=ea();ne(m,new su(m))}Ae.STAT_EVENT="statevent";function yr(u,m){D.call(this,Ae.STAT_EVENT,u),this.stat=m}S(yr,D);function xe(u){const m=ea();ne(m,new yr(m,u))}Ae.Ja="timingevent";function mi(u,m){D.call(this,Ae.Ja,u),this.size=m}S(mi,D);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function kh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var W="",Ct=B.split("&");for(let Xt=0;Xt<Ct.length;Xt++){var we=Ct[Xt].split("=");if(we.length>1){const pe=we[0];we=we[1];const zn=pe.split("_");W=zn.length>=2&&zn[1]=="type"?W+(pe+"="+we+"&"):W+(pe+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function ru(u,m,v,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function pi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(T?" "+T:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return _s(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Er(){}S(Er,eu),Er.prototype.g=function(){return new XMLHttpRequest},Eo=new Er;function Hi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Wn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Ne={},Ge={};function yi(u,m,v){u.M=1,u.A=Tr(Oe(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),_i(u),u.B=Oe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ti,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new cn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const W=rt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),di(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ii(this.g),we=this.g.ya(),Xt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Ct!=4||we==7||(we==8||Xt<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,xe(12),Sn(this),Un(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=lu(this,v),pe==Ge){Ct==4&&(this.m=4,xe(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Ne){this.m=4,xe(15),pi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,pe,null),Ei(this,pe);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,xe(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(W),W.P=!0,xe(11))}}else pi(this.i,this.l,v,null),Ei(this,v);Ct==4&&Sn(this),this.o&&!this.K&&(Ct==4?yu(this.j,this):(this.o=!1,_i(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Sn(this),Un(this)}}}catch{}};function Lh(u){if(!ou(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let v="";const T=m.length,L=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ge:(v=Number(m.substring(v,T)),isNaN(v)?Ne:(T+=1,T+v>m.length?Ge:(m=m.slice(T,T+v),u.C=T+v,m)))}Wn.prototype.cancel=function(){this.K=!0,Sn(this)};function _i(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(_(u.aa,u),m)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(di(),xe(17)),Sn(this),this.m=2,Un(this)):ia(this,this.T-u)};function Un(u){u.j.I==0||u.K||yu(u.j,u)}function Sn(u){vi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),Rs(v);else break t;Ir(v),xe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(_(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Xt=L[m];const pe=Xt[0];if(!(pe<=v.K))if(v.K=pe,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const zn=Xt[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const xi=Xt[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const si=Xt[5];si!=null&&typeof si=="number"&&si>0&&(T=1.5*si,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ri=u.g;if(ri){const xr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var B=T.h;B.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(T.G){const fa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Jt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),W.L){Ao(T.h,W);var Ct=W,we=T.O;we&&(Ct.H=we),Ct.D&&(vi(Ct),_i(Ct)),T.g=W}else gu(T);v.i.length>0&&Ci(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Ii(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Ii(v,7):Mo(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}di(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Ro(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),vs(this,m[4]),this.h=Si(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ra,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?Co:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,hu)),u.join("")},An.prototype.resolve=function(u){const m=Oe(this);let v=!!u.j;v?Fe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Ct=L[W++];Ct=="."?T&&W==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Oe(u){return new An(u)}function Fe(u,m,v){u.j=v?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof Ts?(u.i=m,oa(u.i,u.l)):(v||(m=br(m,Es)),u.i=new Ts(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function Tr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,cu=/[#\?:]/g,Co=/[#\?]/g,Es=/[#\?@]/g,hu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ts.prototype,s.add=function(u,m){gn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){gn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return gn(u),m=bs(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function xo(u,m){gn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return gn(this),this.i=null,u=bs(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Hi(v);v=xo(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Hi(v[B])),u.push(W)}}return this.i=u.join("&")};function du(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),aa(this,L,v))},u)),u.j=m}function ei(u,m){const v=new Jn;if(d.Image){const T=new Image;T.onload=b(Ln,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Ln,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Ln,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Ln,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const v=new Jn,T=new AbortController,L=setTimeout(()=>{T.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ss(){this.g=new tu}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ai,eu),Ai.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){le.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Sr,le),s=Sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?As(this):ni(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,As(this))},s.Na=function(u){this.g&&(this.response=u,As(this))},s.ga=function(){this.g&&As(this)};function As(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Bt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Pn(v),typeof u=="string"?v!=null&&Hi(v):Jt(u,m,v))}function ie(u){le.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ie,le);var wi=/^https?$/i,Do=["POST","PUT"];s=ie.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Gi(u)}function Oo(u){u.A||(u.A=!0,ne(u,"complete"),ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ne(this,"complete"),ne(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},s.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(ne(u,"readystatechange"),ii(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(uu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!wi.test(W?W.toLowerCase():"")}v=T}if(v)ne(u,"complete"),ne(u,"success");else{u.o=6;try{var L=ii(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ws.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){xe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ci(this)};function Mo(u){if(ua(u),u.I==3){var m=u.V++,v=Oe(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Cr(u,v),m=new Wn(u,u.j,m),m.M=2,m.A=Tr(Oe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}vu(u)}function Rs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ua(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||A(),Mt||(ee(),Mt=!0),C.add(m,u),u.D=0}}function ca(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Wn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,L,m),v=Oe(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Cr(this,v),B&&(this.R?m="headers="+Hi(Pn(B))+"&"+m:this.u&&Ar(v,this.u,B)),So(this.h,L),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),L.U=!0,yi(L,v,null)):yi(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const T=Oe(u.J);Jt(T,"SID",u.M),Jt(T,"RID",v),Jt(T,"AID",u.K),Cr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Wn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),yi(v,T,m)}function Cr(u,m){u.H&&Bt(u.H,function(v,T){Jt(m,T,v)}),u.l&&Bt({},function(v,T){Jt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const we=["count="+v];Ct==-1?v>0?(Ct=L[0].g,we.push("ofs="+Ct)):Ct=0:we.push("ofs="+Ct);let Xt=!0;for(let pe=0;pe<v;pe++){var B=L[pe].g;const zn=L[pe].map;if(B-=Ct,B<0)Ct=Math.max(0,L[pe].g-100),Xt=!1;else try{B="req"+B+"_"||"";try{var W=zn instanceof Map?zn:Object.entries(zn);for(const[xi,si]of W){let ri=si;y(si)&&(ri=_s(si)),we.push(B+xi+"="+encodeURIComponent(ri))}}catch(xi){throw we.push(B+"type="+encodeURIComponent("_badmap")),xi}}catch{T&&T(zn)}}if(Xt){W=we.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||A(),Mt||(ee(),Mt=!0),C.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Rs(this),pu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Oe(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Tr(Oe(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ir(this),xe(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ha(u),ko(u),u.g=null;var T=2}else if(bi(u.h,m))v=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ea(),ne(T,new mi(T,v)),Ci(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&Ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new An(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(T,"https"),Tr(T),L?ei(T.toString(),v):No(T.toString(),v)}else xe(2);u.I=0,u.l&&u.l.pa(m),vu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof An?Oe(v):new An(v);if(T.g!="")m&&(T.g=m+"."+T.g),vs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);T&&Fe(B,T),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Jt(T,v,m),Jt(T,"VER",u.ka),Cr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Ai({ab:v})):new ie(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){le.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}S(hn,le),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Mo(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new De(m.Ya++,u)),m.I==3&&Ci(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,hn.Z.N.call(this)};function Su(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,Ye);function Au(){kn.call(this),this.status=1}S(Au,kn);function Qi(u){this.g=u}S(Qi,bu),Qi.prototype.ra=function(){ne(this.g,"a")},Qi.prototype.qa=function(u){ne(this.g,new Su(u))},Qi.prototype.pa=function(u){ne(this.g,new Au)},Qi.prototype.oa=function(){ne(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,bE=function(){return new Cs},TE=function(){return ea()},EE=Ae,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,zc=vr,vo.COMPLETE="complete",vE=vo,nu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",le.prototype.listen=le.prototype.J,Tl=nu,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,_E=ie}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});let on=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ho="12.8.0";function S2(s){ho=s}const $r=new Am("@firebase/firestore");function Ha(){return $r.logLevel}function ot(s,...t){if($r.logLevel<=Pt.DEBUG){const i=t.map(km);$r.debug(`Firestore (${ho}): ${s}`,...i)}}function gs(s,...t){if($r.logLevel<=Pt.ERROR){const i=t.map(km);$r.error(`Firestore (${ho}): ${s}`,...i)}}function eo(s,...t){if($r.logLevel<=Pt.WARN){const i=t.map(km);$r.warn(`Firestore (${ho}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Et(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,SE(s,a,i)}function SE(s,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function Zt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||SE(t,l,a)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class w2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class R2{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},y=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new AE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class C2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class I2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new C2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=N2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function zt(s,t){return s<t?-1:s>t?1:0}function om(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Fd(l)===Fd(c)?zt(l,c):Fd(l)?1:-1}return zt(s.length,t.length)}const D2=55296,O2=57343;function Fd(s){const t=s.charCodeAt(0);return t>=D2&&t<=O2}function no(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Ev="__name__";class ki{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ki.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const a=ki.isNumericId(t),l=ki.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ki.extractNumericId(t).compare(ki.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class _e extends ki{construct(t,i,a){return new _e(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ki{construct(t,i,a){return new en(t,i,a)}static isValidIdentifier(t){return M2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new en([Ev])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(_e.fromString(t))}static fromName(t){return new gt(_e.fromString(t).popFirst(5))}static empty(){return new gt(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new _e(t.slice()))}}function V2(s,t,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function k2(s,t,i,a){if(t===!0&&a===!0)throw new ht($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Tv(s){if(!gt.isDocumentKey(s))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function ci(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(s);throw new ht($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Pe(s,t){const i={typeString:s};return t&&(i.value=t),i}function Kl(s,t){if(!wE(s))throw new ht($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht($.INVALID_ARGUMENT,i);return!0}const bv=-62135596800,Sv=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Sv);return new ge(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<bv)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Pe("string",ge._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ge(0,0))}static max(){return new bt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function U2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new ge(i+1,0):new ge(i,a));return new lr(l,gt.empty(),t)}function L2(s){return new lr(s.readTime,s.key,Ml)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(bt.min(),gt.empty(),Ml)}static max(){return new lr(bt.max(),gt.empty(),Ml)}}function P2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==z2)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(p=>a(p)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((b=>{d[_]=b,++y,y===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function B2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Pm=-1;function ph(s){return s==null}function th(s){return s===0&&1/s==-1/0}function q2(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const RE="";function H2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Av(t)),t=G2(s.get(i),t);return Av(t)}function G2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function Av(s){return s+RE+""}function wv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function mr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function CE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new tn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new He(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new IE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Zt(!!s,39018),typeof s=="string"){let t=0;const i=F2.exec(s);if(Zt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ie(s.seconds),nanos:Ie(s.nanos)}}function Ie(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const xE="server_timestamp",NE="__type__",DE="__previous_value__",OE="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===xE}function yh(s){const t=s.mapValue.fields[DE];return zm(t)?yh(t):t}function Vl(s){const t=ur(s.mapValue.fields[OE].timestampValue);return new ge(t.seconds,t.nanos)}class Q2{constructor(t,i,a,l,c,d,y,p,_,b,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=S}}const eh="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||eh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}function K2(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(s.options.projectId,t)}const ME="__type__",Y2="__max__",Dc={mapValue:{}},VE="__vector__",nh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:$2(s)?9007199254740991:X2(s)?10:11:Et(28295,{value:s})}function Bi(s,t){if(s===t)return!0;const i=hr(s);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),y=ur(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ie(l.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(l.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ie(l.integerValue)===Ie(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ie(l.doubleValue),y=Ie(c.doubleValue);return d===y?th(d)===th(y):isNaN(d)&&isNaN(y)}return!1})(s,t);case 9:return no(s.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(wv(d)!==wv(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Bi(d[p],y[p])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>Bi(i,t)))!==void 0}function io(s,t){if(s===t)return 0;const i=hr(s),a=hr(t);if(i!==a)return zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=Ie(c.integerValue||c.doubleValue),p=Ie(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(s,t);case 3:return Cv(s.timestampValue,t.timestampValue);case 4:return Cv(Vl(s),Vl(t));case 5:return om(s.stringValue,t.stringValue);case 6:return(function(c,d){const y=cr(c),p=cr(d);return y.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const b=zt(y[_],p[_]);if(b!==0)return b}return zt(y.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=zt(Ie(c.latitude),Ie(d.latitude));return y!==0?y:zt(Ie(c.longitude),Ie(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Iv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[nh]?.arrayValue,b=p[nh]?.arrayValue,S=zt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:Iv(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const M=om(p[S],b[S]);if(M!==0)return M;const H=io(y[p[S]],_[b[S]]);if(H!==0)return H}return zt(p.length,b.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function Cv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=ur(s),a=ur(t),l=zt(i.seconds,a.seconds);return l!==0?l:zt(i.nanos,a.nanos)}function Iv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=io(i[l],a[l]);if(c)return c}return zt(i.length,a.length)}function so(s){return lm(s)}function lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=lm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(s.mapValue):Et(61005,{value:s})}function jc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(s);return t?16+jc(t):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(s.mapValue);default:throw Et(13486,{value:s})}}function um(s){return!!s&&"integerValue"in s}function jm(s){return!!s&&"arrayValue"in s}function xv(s){return!!s&&"nullValue"in s}function Nv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function X2(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===VE}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return mr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return t}return{...s}}function $2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Y2}class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=en.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Cl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){mr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new bn(Cl(this.value))}}function kE(s){const t=[];return mr(s.fields,((i,a)=>{const l=new en([i]);if(Bc(a)){const c=kE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Vn(t)}class ln{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new ln(t,0,bt.min(),bt.min(),bt.min(),bn.empty(),0)}static newFoundDocument(t,i,a,l){return new ln(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new ln(t,2,i,bt.min(),bt.min(),bn.empty(),0)}static newUnknownDocument(t,i){return new ln(t,3,i,bt.min(),bt.min(),bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,i){this.position=t,this.inclusive=i}}function Dv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=io(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ov(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Bi(s.position[i],t.position[i]))return!1;return!0}class sh{constructor(t,i="asc"){this.field=t,this.dir=i}}function Z2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class UE{}class qe extends UE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new W2(t,i,a):i==="array-contains"?new nR(t,a):i==="in"?new iR(t,a):i==="not-in"?new sR(t,a):i==="array-contains-any"?new rR(t,a):new qe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new tR(t,a):new eR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new qi(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(s){return s.op==="and"}function PE(s){return J2(s)&&LE(s)}function J2(s){for(const t of s.filters)if(t instanceof qi)return!1;return!0}function cm(s){if(s instanceof qe)return s.field.canonicalString()+s.op.toString()+so(s.value);if(PE(s))return s.filters.map((t=>cm(t))).join(",");{const t=s.filters.map((i=>cm(i))).join(",");return`${s.op}(${t})`}}function zE(s,t){return s instanceof qe?(function(a,l){return l instanceof qe&&a.op===l.op&&a.field.isEqual(l.field)&&Bi(a.value,l.value)})(s,t):s instanceof qi?(function(a,l){return l instanceof qi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&zE(d,l.filters[y])),!0):!1})(s,t):void Et(19439)}function jE(s){return s instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(s):s instanceof qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(s):"Filter"}class W2 extends qe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class tR extends qe{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class eR extends qe{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function BE(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class nR extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&Ul(i.arrayValue,this.value)}}class iR extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class sR extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class rR extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class aR{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Mv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new aR(s,t,i,a,l,c,d)}function Bm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>so(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>so(a))).join(",")),t.Te=i}return t.Te}function qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Z2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!zE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Ov(s.startAt,t.startAt)&&Ov(s.endAt,t.endAt)}function hm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function oR(s,t,i,a,l,c,d,y){return new _h(s,t,i,a,l,c,d,y)}function vh(s){return new _h(s)}function Vv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function lR(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function uR(s){return s.collectionGroup!==null}function Il(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new He(en.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sh(c,a))})),i.has(en.keyField().canonicalString())||t.Ie.push(new sh(en.keyField(),a))}return t.Ie}function Pi(s){const t=At(s);return t.Ee||(t.Ee=cR(t,Il(s))),t.Ee}function cR(s,t){if(s.limitType==="F")return Mv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sh(l.field,c)}));const i=s.endAt?new ih(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ih(s.startAt.position,s.startAt.inclusive):null;return Mv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function fm(s,t,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Eh(s,t){return qm(Pi(s),Pi(t))&&s.limitType===t.limitType}function qE(s){return`${Bm(Pi(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${a})`})(Pi(s))}; limitType=${s.limitType})`}function Th(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,p){const _=Dv(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,y,p){const _=Dv(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(s,t)}function hR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function HE(s){return(t,i)=>{let a=!1;for(const l of Il(s)){const c=fR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function fR(s,t,i){const a=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?io(p,_):Et(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:s.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const dR=new ve(gt.comparator);function ps(){return dR}const GE=new ve(gt.comparator);function bl(...s){let t=GE;for(const i of s)t=t.insert(i.key,i);return t}function FE(s){let t=GE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Qr(){return xl()}function QE(){return xl()}function xl(){return new Wr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const mR=new ve(gt.comparator),gR=new He(gt.comparator);function jt(...s){let t=gR;for(const i of s)t=t.add(i);return t}const pR=new He(zt);function yR(){return pR}function Hm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function KE(s){return{integerValue:""+s}}function _R(s,t){return q2(t)?KE(t):Hm(s,t)}class bh{constructor(){this._=void 0}}function vR(s,t,i){return s instanceof rh?(function(l,c){const d={fields:{[NE]:{stringValue:xE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=yh(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,t):s instanceof ro?XE(s,t):s instanceof Ll?$E(s,t):(function(l,c){const d=YE(l,c),y=kv(d)+kv(l.Ae);return um(d)&&um(l.Ae)?KE(y):Hm(l.serializer,y)})(s,t)}function ER(s,t,i){return s instanceof ro?XE(s,t):s instanceof Ll?$E(s,t):i}function YE(s,t){return s instanceof ah?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class rh extends bh{}class ro extends bh{constructor(t){super(),this.elements=t}}function XE(s,t){const i=ZE(t);for(const a of s.elements)i.some((l=>Bi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends bh{constructor(t){super(),this.elements=t}}function $E(s,t){let i=ZE(t);for(const a of s.elements)i=i.filter((l=>!Bi(l,a)));return{arrayValue:{values:i}}}class ah extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function kv(s){return Ie(s.integerValue||s.doubleValue)}function ZE(s){return jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class TR{constructor(t,i){this.field=t,this.transform=i}}function bR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof ro&&l instanceof ro||a instanceof Ll&&l instanceof Ll?no(a.elements,l.elements,Bi):a instanceof ah&&l instanceof ah?Bi(a.Ae,l.Ae):a instanceof rh&&l instanceof rh})(s.transform,t.transform)}class SR{constructor(t,i){this.version=t,this.transformResults=i}}class hi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Sh{}function JE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Gm(s.key,hi.none()):new Yl(s.key,s.data,hi.none());{const i=s.data,a=bn.empty();let l=new He(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(s.key,a,new Vn(l.toArray()),hi.none())}}function AR(s,t,i){s instanceof Yl?(function(l,c,d){const y=l.value.clone(),p=Lv(l.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):s instanceof gr?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Lv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(WE(l)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,a){return s instanceof Yl?(function(c,d,y,p){if(!qc(c.precondition,d))return y;const _=c.value.clone(),b=Pv(c.fieldTransforms,p,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof gr?(function(c,d,y,p){if(!qc(c.precondition,d))return y;const _=Pv(c.fieldTransforms,p,d),b=d.data;return b.setAll(WE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,y){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,t,i)}function wR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=YE(a.transform,l||null);c!=null&&(i===null&&(i=bn.empty()),i.set(a.field,c))}return i||null}function Uv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&no(a,l,((c,d)=>bR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Yl extends Sh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends Sh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Lv(s,t,i){const a=new Map;Zt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,ER(d,y,i[l]))}return a}function Pv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,vR(c,d,t))}return a}class Gm extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RR extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&AR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=QE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const p=JE(d,y);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,a)=>Uv(i,a)))&&no(this.baseMutations,t.baseMutations,((i,a)=>Uv(i,a)))}}class Fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return mR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(t,i,a,l)}}class IR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Le,Gt;function NR(s){switch(s){case $.OK:return Et(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function tT(s){if(s===void 0)return gs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Le.OK:return $.OK;case Le.CANCELLED:return $.CANCELLED;case Le.UNKNOWN:return $.UNKNOWN;case Le.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Le.INTERNAL:return $.INTERNAL;case Le.UNAVAILABLE:return $.UNAVAILABLE;case Le.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Le.NOT_FOUND:return $.NOT_FOUND;case Le.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Le.ABORTED:return $.ABORTED;case Le.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Le.DATA_LOSS:return $.DATA_LOSS;default:return Et(39323,{code:s})}}(Gt=Le||(Le={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function DR(){return new TextEncoder}const OR=new rr([4294967295,4294967295],0);function zv(s){const t=DR().encode(s),i=new yE;return i.update(t),new Uint8Array(i.digest())}function jv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(rr.fromNumber(a)));return l.compare(OR)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=zv(t),[a,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=zv(t),[a,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(bt.min(),l,new ve(zt),ps(),jt())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,jt(),jt(),jt())}}class Hc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class eT{constructor(t,i){this.targetId=t,this.Ce=i}}class nT{constructor(t,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),a=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=qv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.He=Oc(),this.Je=Oc(),this.Ze=new ve(zt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(a===0){const d=new gt(c.path);this.et(i,d,ln.newNoDocument(d,bt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),p=y?this.ct(y,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=cr(a).toUint8Array()}catch(p){if(p instanceof IE)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new Qm(d,l,c)}catch(p){return eo(p instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&hm(y.target)){const p=new gt(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,ln.newNoDocument(p,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=jt();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ze,this.je,a);return this.je=ps(),this.He=Oc(),this.Je=Oc(),this.Ze=new ve(zt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Bv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new He(zt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new He(zt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new ve(gt.comparator)}function qv(){return new ve(gt.comparator)}const VR={asc:"ASCENDING",desc:"DESCENDING"},kR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class LR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function oh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function PR(s,t){return oh(s,t.toTimestamp())}function zi(s){return Zt(!!s,49232),bt.fromTimestamp((function(i){const a=ur(i);return new ge(a.seconds,a.nanos)})(s))}function Km(s,t){return mm(s,t).canonicalString()}function mm(s,t){const i=(function(l){return new _e(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function sT(s){const t=_e.fromString(s);return Zt(uT(t),10190,{key:t.toString()}),t}function gm(s,t){return Km(s.databaseId,t.path)}function Qd(s,t){const i=sT(t);if(i.get(1)!==s.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(aT(i))}function rT(s,t){return Km(s.databaseId,t)}function zR(s){const t=sT(s);return t.length===4?_e.emptyPath():aT(t)}function pm(s){return new _e(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function aT(s){return Zt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Hv(s,t,i){return{name:gm(s,t),fields:i.value.mapValue.fields}}function jR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Zt(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Zt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:tT(_.code);return new ht(b,_.message||"")})(d);i=new nT(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(s,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):bt.min(),y=new bn({mapValue:{fields:a.document.fields}}),p=ln.newFoundDocument(l,c,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Hc(_,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Qd(s,a.document),c=a.readTime?zi(a.readTime):bt.min(),d=ln.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Hc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Qd(s,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new xR(l,c),y=a.targetId;i=new eT(y,d)}}return i}function BR(s,t){let i;if(t instanceof Yl)i={update:Hv(s,t.key,t.value)};else if(t instanceof Gm)i={delete:gm(s,t.key)};else if(t instanceof gr)i={update:Hv(s,t.key,t.data),updateMask:$R(t.fieldMask)};else{if(!(t instanceof RR))return Et(16599,{dt:t.type});i={verify:gm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ah)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:PR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(s,t.precondition)),i}function qR(s,t){return s&&s.length>0?(Zt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(bt.min())&&(d=zi(c)),new SR(d,l.transformResults||[])})(i,t)))):[]}function HR(s,t){return{documents:[rT(s,t.path)]}}function GR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rT(s,l);const c=(function(_){if(_.length!==0)return lT(qi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:Fa(M.field),direction:KR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=dm(s,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function FR(s){let t=zR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=oT(S);return M instanceof qi&&PE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new sh(Qa(J.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,ph(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(S){const M=!!S.before,H=S.values||[];return new ih(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,H=S.values||[];return new ih(H,M)})(i.endAt)),oR(t,l,d,c,y,"F",p,_)}function QR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qe.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return qi.create(i.compositeFilter.filters.map((a=>oT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(s):Et(30097,{filter:s})}function KR(s){return VR[s]}function YR(s){return kR[s]}function XR(s){return UR[s]}function Fa(s){return{fieldPath:s.canonicalString()}}function Qa(s){return en.fromServerFormat(s.fieldPath)}function lT(s){return s instanceof qe?(function(i){if(i.op==="=="){if(Nv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Nv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:YR(i.op),value:i.value}}})(s):s instanceof qi?(function(i){const a=i.getFilters().map((l=>lT(l)));return a.length===1?a[0]:{compositeFilter:{op:XR(i.op),filters:a}}})(s):Et(54877,{filter:s})}function $R(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function uT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function cT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class er{constructor(t,i,a,l,c=bt.min(),d=bt.min(),y=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZR{constructor(t){this.yt=t}}function JR(s){const t=FR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fm(t,t.limit,"L"):t}class WR{constructor(){this.Sn=new tC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(lr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class tC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new He(_e.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(_e.comparator)).toArray()}}const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(hT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class ao{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}const Fv="LruGarbageCollector",eC=1048576;function Qv([s,t],[i,a]){const l=zt(s,i);return l===0?zt(t,a):l}class nC{constructor(t){this.Pr=t,this.buffer=new He(Qv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(Fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?ot(Fv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class sC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(gh.ce);const a=new nC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Gv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,y,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Ha()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function rC(s,t){return new sC(s,t)}class aC{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class oC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class lC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,Vn.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=jt()){const l=Qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Qr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,jt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=ps();const d=xl(),y=(function(){return xl()})();return i.forEach(((p,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof gr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Nl(b.mutation,_,b.mutation.getFieldMask(),ge.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new oC(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=xl();let l=new ve(((d,y)=>d-y)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let b=a.get(p)||Vn.empty();b=y.applyToLocalView(_,b),a.set(p,b);const S=(l.get(y.batchId)||jt()).add(p);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,b=p.value,S=QE();b.forEach((M=>{if(!c.has(M)){const H=JE(i.get(M),a.get(M));H!==null&&S.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return lR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Qr());let y=Ml,p=c;return d.next((_=>X.forEach(_,((b,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{p=p.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,jt()))).next((b=>({batchId:y,changes:FE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(p=>{const _=(function(S,M){return new _h(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((p,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,ln.newInvalidDocument(b)))}));let y=bl();return d.forEach(((p,_)=>{const b=c.get(p);b!==void 0&&Nl(b.mutation,_,Vn.empty(),ge.now()),Th(i,_)&&(y=y.insert(p,_))})),y}))}}class uC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:JR(l.bundledQuery),readTime:zi(l.readTime)}})(i)),X.resolve()}}class cC{constructor(){this.overlays=new ve(gt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Qr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Qr(),c=i.length+1,d=new gt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ve(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Qr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=Qr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=l)););return X.resolve(y)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new IR(i,a));let c=this.Lr.get(i);c===void 0&&(c=jt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class hC{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Ym{constructor(){this.kr=new He(Ke.Kr),this.qr=new He(Ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ke(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ke(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new gt(new _e([])),a=new Ke(i,t),l=new Ke(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new gt(new _e([])),a=new Ke(i,t),l=new Ke(i,t+1);let c=jt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ke(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return gt.comparator(t.key,i.key)||zt(t.Hr,i.Hr)}static Ur(t,i){return zt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}class fC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new He(Ke.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Ke(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ke(i,0),l=new Ke(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new He(zt);return i.forEach((l=>{const c=new Ke(l,0),d=new Ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ke(new gt(c),0);let y=new He(zt);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(p.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ke(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dC{constructor(t){this.ti=t,this.docs=(function(){return new ve(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(t,i){let a=ps();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():ln.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ps();const d=i.path,y=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||P2(L2(b),a)<=0||(l.has(b.key)||Th(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new mC(this)}getSize(t){return X.resolve(this.size)}}class mC extends aC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class gC{constructor(t){this.persistence=t,this.ri=new Wr((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new Ym,this.targetCount=0,this.oi=ao._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class fT{constructor(t,i){this._i={},this.overlays={},this.ai=new gh(0),this.ui=!1,this.ui=!0,this.ci=new hC,this.referenceDelegate=t(this),this.li=new gC(this),this.indexManager=new WR,this.remoteDocumentCache=(function(l){return new dC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new ZR(i),this.Pi=new uC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new cC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new fC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new pC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class pC extends j2{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Ym,this.Ai=null}static Vi(t){return new Xm(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=gt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class lh{constructor(t,i){this.persistence=t,this.fi=new Wr((a=>H2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=rC(this,i)}static Vi(t,i){return new lh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((y=>{y||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(t,i.fromCache,a,l)}}class yC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _C{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eS()?8:B2(un())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yC;return this.ys(t,i,d).next((y=>{if(c.result=y,this.As)return this.ws(t,i,d,y.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ha()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ha()<=Pt.DEBUG&&ot("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ha()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(i))):X.resolve())}gs(t,i){if(Vv(i))return X.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=jt(...c);return this.fs.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((p=>{const _=this.bs(i,y);return this.Ss(i,_,d,p.readTime)?this.gs(t,fm(i,null,"F")):this.Ds(t,_,i,p)}))))})))))}ps(t,i,a,l){return Vv(i)||l.isEqual(bt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ha()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(t,d,i,U2(l,Ml)).next((y=>y)))}))}bs(t,i){let a=new He(HE(t));return i.forEach(((l,c)=>{Th(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ha()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(t,i,lr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",vC=3e8;class EC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ve(zt),this.Fs=new Wr((c=>Bm(c)),qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function TC(s,t,i,a){return new EC(s,t,i,a)}async function dT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=jt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of c){y.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function bC(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,b){const S=_.batch,M=S.keys();let H=X.resolve();return M.forEach((J=>{H=H.next((()=>b.getEntry(p,J))).next((st=>{const et=_.docVersions.get(J);Zt(et!==null,48541),st.version.compareTo(et)<0&&(S.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),b.addEntry(st)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(p,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=jt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function mT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function SC(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];t.targetChanges.forEach(((b,S)=>{const M=l.get(S);if(!M)return;y.push(i.li.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,S))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(nn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),l=l.insert(S,H),(function(st,et,yt){return st.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=vC?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(M,H,b)&&y.push(i.li.updateTargetData(c,H))}));let p=ps(),_=jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(AC(c,d,t.documentUpdates).next((b=>{p=b.Bs,_=b.Ls}))),!a.isEqual(bt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.vs=l,c)))}function AC(s,t,i){let a=jt(),l=jt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ps();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(y,p)):ot(Zm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{Bs:d,Ls:l}}))}function wC(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function RC(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new er(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function ym(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;ot(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Kv(s,t,i){const a=At(s);let l=bt.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,b){const S=At(p),M=S.Fs.get(b);return M!==void 0?X.resolve(S.vs.get(M)):S.li.getTargetData(_,b)})(a,d,Pi(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:jt()))).next((y=>(CC(a,hR(t),y),{documents:y,ks:c})))))}function CC(s,t,i){let a=s.Ms.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Yv{constructor(){this.activeTargetIds=yR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IC{constructor(){this.vo=new Yv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Yv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xC{Mo(t){}shutdown(){}}const Xv="ConnectivityMonitor";class $v{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(Xv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(Xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function _m(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Kd="RestConnection",NC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=_m(),y=this.Qo(t,i.toUriEncodedString());ot(Kd,`Sending RPC '${t}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,l,c);const{host:_}=new URL(y),b=lo(_);return this.zo(t,y,p,a,b).then((S=>(ot(Kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw eo(Kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=NC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class OC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const an="WebChannelConnection",El=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Za extends DC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Za.c_){const t=TE();El(t,EE.STAT_EVENT,(i=>{i.stat===am.PROXY?ot(an,"STAT_EVENT: detected buffering proxy"):i.stat===am.NOPROXY&&ot(an,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(t,i,a,l,c){const d=_m();return new Promise(((y,p)=>{const _=new _E;_.setWithCredentials(!0),_.listenOnce(vE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const S=_.getResponseJson();ot(an,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),y(S);break;case zc.TIMEOUT:ot(an,`RPC '${t}' ${d} timed out`),p(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=_.getStatus();if(ot(an,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const st=(function(yt){const wt=yt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(wt)>=0?wt:$.UNKNOWN})(J.status);p(new ht(st,J.message))}else p(new ht($.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ht($.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(an,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(an,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=_m(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");ot(an,`Creating RPC '${t}' stream ${l}: ${_}`,y);const b=d.createWebChannel(_,y);this.I_(b);let S=!1,M=!1;const H=new OC({Ho:J=>{M?ot(an,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(ot(an,`Opening RPC '${t}' stream ${l} transport.`),b.open(),S=!0),ot(an,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Jo:()=>b.close()});return El(b,Tl.EventType.OPEN,(()=>{M||(ot(an,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),El(b,Tl.EventType.CLOSE,(()=>{M||(M=!0,ot(an,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(b))})),El(b,Tl.EventType.ERROR,(J=>{M||(M=!0,eo(an,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.o_(new ht($.UNAVAILABLE,"The operation could not be completed")))})),El(b,Tl.EventType.MESSAGE,(J=>{if(!M){const st=J.data[0];Zt(!!st,16349);const et=st,yt=et?.error||et[0]?.error;if(yt){ot(an,`RPC '${t}' stream ${l} received error:`,yt);const wt=yt.status;let _t=(function(Mt){const C=Le[Mt];if(C!==void 0)return tT(C)})(wt),Dt=yt.message;_t===void 0&&(_t=$.INTERNAL,Dt="Unknown error status: "+wt+" with message "+yt.message),M=!0,H.o_(new ht(_t,Dt)),b.close()}else ot(an,`RPC '${t}' stream ${l} received:`,st),H.__(st)}})),Za.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bE()}}function MC(s){return new Za(s)}function Yd(){return typeof document<"u"?document:null}function wh(s){return new LR(s,!0)}Za.c_=!1;class gT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Zv="PersistentStream";class pT{constructor(t,i,a,l,c,d,y,p){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VC extends pT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=jR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?zi(d.readTime):bt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=hm(p)?{documents:HR(c,p)}:{query:GR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=iT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){y.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const a=QR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.K_(i)}}class kC extends pT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=qR(t.writeResults,t.commitTime),a=zi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>BR(this.serializer,a)))};this.K_(i)}}class UC{}class LC extends UC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(t,mm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PC(s,t,i,a){return new LC(s,t,i,a)}class zC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class jC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(ot(Zr,"Restarting streams for network reachability change."),await(async function(p){const _=At(p);_.Ea.add(4),await $l(_),_.Va.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Va=new zC(a,l)}}async function Rh(s){if(ta(s))for(const t of s.Ra)await t(!0)}async function $l(s){for(const t of s.Ra)await t(!1)}function yT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),eg(i)?tg(i):go(i).O_()&&Wm(i,t))}function Jm(s,t){const i=At(s),a=go(i);i.Ia.delete(t),a.O_()&&_T(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Va.set("Unknown"))}function Wm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(s).Z_(t)}function _T(s,t){s.da.$e(t),go(s).X_(t)}function tg(s){s.da=new MR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Va.ua()}function eg(s){return ta(s)&&!go(s).x_()&&s.Ia.size>0}function ta(s){return At(s).Ea.size===0}function vT(s){s.da=void 0}async function BC(s){s.Va.set("Online")}async function qC(s){s.Ia.forEach(((t,i)=>{Wm(s,t)}))}async function HC(s,t){vT(s),eg(s)?(s.Va.ha(t),tg(s)):s.Va.set("Unknown")}async function GC(s,t,i){if(s.Va.set("Online"),t instanceof nT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,t)}catch(a){ot(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(s,a)}else if(t instanceof Hc?s.da.Xe(t):t instanceof eT?s.da.st(t):s.da.tt(t),!i.isEqual(bt.min()))try{const a=await mT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),_T(c,p);const S=new er(b.target,p,_,b.sequenceNumber);Wm(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ot(Zr,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,t,i){if(!mo(t))throw t;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>mT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Zr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function ET(s,t){return t().catch((i=>uh(s,i,t)))}async function Ch(s){const t=At(s),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;FC(t);)try{const l=await wC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,QC(t,l)}catch(l){await uh(t,l)}TT(t)&&bT(t)}function FC(s){return ta(s)&&s.Ta.length<10}function QC(s,t){s.Ta.push(t);const i=fr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function TT(s){return ta(s)&&!fr(s).x_()&&s.Ta.length>0}function bT(s){fr(s).start()}async function KC(s){fr(s).ra()}async function YC(s){const t=fr(s);for(const i of s.Ta)t.ea(i.mutations)}async function XC(s,t,i){const a=s.Ta.shift(),l=Fm.from(a,t,i);await ET(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function $C(s,t){t&&fr(s).Y_&&await(async function(a,l){if((function(d){return NR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await ET(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(s,t),TT(s)&&bT(s)}async function Jv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),ot(Zr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function ZC(s,t){const i=At(s);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new VC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:BC.bind(null,s),Yo:qC.bind(null,s),t_:HC.bind(null,s),J_:GC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),eg(s)?tg(s):s.Va.set("Unknown")):(await s.ma.stop(),vT(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new kC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:KC.bind(null,s),t_:$C.bind(null,s),ta:YC.bind(null,s),na:XC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ng{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new ng(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(s,t){if(gs("AsyncQueue",`${t}: ${s}`),mo(s))return new ht($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Wv{constructor(){this.ga=new ve(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class oo{constructor(t,i,a,l,c,d,y,p,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new oo(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class JC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class WC{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=t0(),c.forEach(((d,y)=>{for(const p of y.ba)p.onError(a)}))})(this,new ht($.ABORTED,"Firestore shutting down"))}}function t0(){return new Wr((s=>qE(s)),Eh)}async function ST(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new JC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=ig(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sg(i)}async function AT(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tI(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&sg(i)}function eI(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function sg(s){s.Ca.forEach((t=>{t.next()}))}var vm,e0;(e0=vm||(vm={})).Ma="default",e0.Cache="cache";class wT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new oo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class RT{constructor(t){this.key=t}}class CT{constructor(t){this.key=t}}class nI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=HE(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Wv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const M=l.get(b),H=Th(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),st=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let et=!1;M&&H?M.data.isEqual(H.data)?J!==st&&(a.track({type:3,doc:H}),et=!0):this.su(M,H)||(a.track({type:2,doc:H}),et=!0,(p&&this.eu(H,p)>0||_&&this.eu(H,_)<0)&&(y=!0)):!M&&H?(a.track({type:0,doc:H}),et=!0):M&&!H&&(a.track({type:1,doc:M}),et=!0,(p||_)&&(y=!0)),et&&(H?(d=d.add(H),c=st?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(H,J){const st=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:et})}};return st(H)-st(J)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Xa;return this.Xa=p,d.length!==0||_?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new CT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new RT(a))})),i}cu(t){this.Za=t.ks,this.Ya=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rg="SyncEngine";class iI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class sI{constructor(t){this.key=t,this.hu=!1}}class rI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((y=>qE(y)),Eh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ve(gt.comparator),this.Au=new Map,this.Vu=new Ym,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aI(s,t,i=!0){const a=MT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await IT(a,t,i,!0),l}async function oI(s,t){const i=MT(s);await IT(i,t,!0,!1)}async function IT(s,t,i,a){const l=await RC(s.localStore,Pi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await lI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&yT(s.remoteStore,l),y}async function lI(s,t,i,a,l){s.pu=(S,M,H)=>(async function(st,et,yt,wt){let _t=et.view.ru(yt);_t.Ss&&(_t=await Kv(st.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,_t))));const Dt=wt&&wt.targetChanges.get(et.targetId),ee=wt&&wt.targetMismatches.get(et.targetId)!=null,Mt=et.view.applyChanges(_t,st.isPrimaryClient,Dt,ee);return i0(st,et.targetId,Mt.au),Mt.snapshot})(s,S,M,H);const c=await Kv(s.localStore,t,!0),d=new nI(t,c.ks),y=d.ru(c.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,p);i0(s,i,_.au);const b=new iI(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function uI(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(fo)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function cI(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function hI(s,t,i){const a=_I(s);try{const l=await(function(d,y){const p=At(d),_=ge.now(),b=y.reduce(((H,J)=>H.add(J.key)),jt());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=ps(),st=jt();return p.xs.getEntries(H,b).next((et=>{J=et,J.forEach(((yt,wt)=>{wt.isValidDocument()||(st=st.add(yt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,J))).next((et=>{S=et;const yt=[];for(const wt of y){const _t=wR(wt,S.get(wt.key).overlayedDocument);_t!=null&&yt.push(new gr(wt.key,_t,kE(_t.value.mapValue),hi.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,yt,y)})).next((et=>{M=et;const yt=et.applyToLocalDocumentSet(S,st);return p.documentOverlayCache.saveOverlays(H,et.batchId,yt)}))})).then((()=>({batchId:M.batchId,changes:FE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,p){let _=d.du[d.currentUser.toKey()];_||(_=new ve(zt)),_=_.insert(y,p),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Zl(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=ig(l,"Failed to persist write");i.reject(c)}}async function xT(s,t){const i=At(s);try{const a=await SC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await fo(a)}}function n0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const p=At(d);p.onlineState=y;let _=!1;p.queries.forEach(((b,S)=>{for(const M of S.ba)M.va(y)&&(_=!0)})),_&&sg(p)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function fI(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ve(gt.comparator);d=d.insert(c,ln.newNoDocument(c,bt.min()));const y=jt().add(c),p=new Ah(bt.min(),new Map,new ve(zt),d,y);await xT(a,p),a.Ru=a.Ru.remove(c),a.Au.delete(t),ag(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(fo)}async function dI(s,t){const i=At(s),a=t.batch.batchId;try{const l=await bC(i.localStore,t);DT(i,a,null),NT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await fo(l)}}async function mI(s,t,i){const a=At(s);try{const l=await(function(d,y){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,y).next((S=>(Zt(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);DT(a,t,i),NT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await fo(l)}}function NT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function DT(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Em(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||OT(s,a)}))}function OT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Jm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),ag(s))}function i0(s,t,i){for(const a of i)a instanceof RT?(s.Vu.addReference(a.key,t),gI(s,a)):a instanceof CT?(ot(rg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||OT(s,a.key)):Et(19791,{wu:a})}function gI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ot(rg,"New document in limbo: "+i),s.Eu.add(a),ag(s))}function ag(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(_e.fromString(t)),a=s.fu.next();s.Au.set(a,new sI(i)),s.Ru=s.Ru.insert(i,a),yT(s.remoteStore,new er(Pi(vh(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function Zl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=$m.Es(p.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(p,_){const b=At(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(M=>X.forEach(M.Ts,(H=>b.persistence.referenceDelegate.addReference(S,M.targetId,H))).next((()=>X.forEach(M.Is,(H=>b.persistence.referenceDelegate.removeReference(S,M.targetId,H)))))))))}catch(S){if(!mo(S))throw S;ot(Zm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const H=b.vs.get(M),J=H.snapshotVersion,st=H.withLastLimboFreeSnapshotVersion(J);b.vs=b.vs.insert(M,st)}}})(a.localStore,c))}async function pI(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){ot(rg,"User change. New user:",t.toKey());const a=await dT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new ht($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ns)}}function yI(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return jt().add(a.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function MT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fI.bind(null,t),t.Pu.J_=tI.bind(null,t.eventManager),t.Pu.yu=eI.bind(null,t.eventManager),t}function _I(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mI.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return TC(this.persistence,new _C,t.initialUser,this.serializer)}Cu(t){return new fT(Xm.Vi,this.serializer)}Du(t){return new IC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class vI extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new fT((a=>lh.Vi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>n0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pI.bind(null,this.syncEngine),await ZC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WC})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=MC(t.databaseInfo);return PC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new jC(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>n0(this.syncEngine,i,0)),(function(){return $v.v()?new $v:new xC})())}createSyncEngine(t,i){return(function(l,c,d,y,p,_,b){const S=new rI(l,c,d,y,p,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);ot(Zr,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class VT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class EI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=on.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Xd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(dr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await dT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function s0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await TI(s);ot(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Jv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Jv(t.remoteStore,l))),s._onlineComponents=t}async function TI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(dr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new ch)}}else ot(dr,"Using default OfflineComponentProvider"),await Xd(s,new vI(void 0));return s._offlineComponents}async function kT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(dr,"Using user provided OnlineComponentProvider"),await s0(s,s._uninitializedComponentsProvider._online)):(ot(dr,"Using default OnlineComponentProvider"),await s0(s,new Tm))),s._onlineComponents}function bI(s){return kT(s).then((t=>t.syncEngine))}async function bm(s){const t=await kT(s),i=t.eventManager;return i.onListen=aI.bind(null,t.syncEngine),i.onUnlisten=uI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=oI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=cI.bind(null,t.syncEngine),i}function SI(s,t,i,a){const l=new VT(a),c=new wT(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>ST(await bm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>AT(await bm(s),c)))}}function AI(s,t,i={}){const a=new ar;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const b=new VT({next:M=>{b.Nu(),d.enqueueAndForget((()=>AT(c,S)));const H=M.docs.has(y);!H&&M.fromCache?_.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&p&&p.source==="server"?_.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new wT(vh(y.path),b,{includeMetadataChanges:!0,Ka:!0});return ST(c,S)})(await bm(s),s.asyncQueue,t,i,a))),a.promise}function wI(s,t){const i=new ar;return s.asyncQueue.enqueueAndForget((async()=>hI(await bI(s),t,i))),i.promise}function UT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const RI="ComponentProvider",r0=new Map;function CI(s,t,i,a,l){return new Q2(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,UT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const LT="firestore.googleapis.com",a0=!0;class o0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=a0}else this.host=t.host,this.ssl=t.ssl??a0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eC)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}k2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class og{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A2;switch(a.type){case"firstParty":return new I2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=r0.get(i);a&&(ot(RI,"Removing Datastore"),r0.delete(i),a.terminate())})(this),Promise.resolve()}}function II(s,t,i,a={}){s=ci(s,og);const l=lo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${t}:${i}`;l&&(O0(`https://${y}`),M0("Firestore",!0)),c.host!==LT&&c.host!==y&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:l,emulatorOptions:a};if(!or(p,d)&&(s._setSettings(p),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=on.MOCK_USER;else{_=Qb(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new on(S)}s._authCredentials=new w2(new AE(_,b))}}class Ih{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class ze{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Kl(i,ze._jsonSchema))return new ze(t,a||null,new gt(_e.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Pe("string",ze._jsonSchemaVersion),referencePath:Pe("string")};class Pl extends Ih{constructor(t,i,a){super(t,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new gt(t))}withConverter(t){return new Pl(this.firestore,t,this._path)}}function On(s,t,...i){if(s=dn(s),arguments.length===1&&(t=Um.newId()),V2("doc","path",t),s instanceof og){const a=_e.fromString(t,...i);return Tv(a),new ze(s,null,new gt(a))}{if(!(s instanceof ze||s instanceof Pl))throw new ht($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_e.fromString(t,...i));return Tv(a),new ze(s.firestore,s instanceof Pl?s.converter:null,new gt(a))}}const l0="AsyncQueue";class u0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&ot(l0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;ot(l0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",c0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ng.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function c0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Jr extends og{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new u0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new u0(t),this._firestoreClient=void 0,await t}}}function xI(s,t){const i=typeof s=="object"?s:L0(),a=typeof s=="string"?s:eh,l=Rm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Gb("firestore");c&&II(l,...c)}return l}function lg(s){if(s._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NI(s),s._firestoreClient}function NI(s){const t=s._freezeSettings(),i=CI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new EI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(nn.fromBase64String(t))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $n(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Pe("string",$n._jsonSchemaVersion),bytes:Pe("string")};class ug{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xh{constructor(t){this._methodName=t}}class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Pe("string",ji._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class fi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new fi(t.vectorValues);throw new ht($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Pe("string",fi._jsonSchemaVersion),vectorValues:Pe("object")};const DI=/^__.*__$/;class OI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class PT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function zT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:s})}}class Nh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Nh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return hh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(zT(this.dataSource)&&DI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class MI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}createContext(t,i,a,l=!1){return new Nh({dataSource:t,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(s){const t=s._freezeSettings(),i=wh(s._databaseId);return new MI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function VI(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);hg("Data must be an object, but it was:",d,a);const y=BT(a,d);let p,_;if(c.merge)p=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=zl(t,S,i);if(!d.contains(M))throw new ht($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);GT(b,M)||b.push(M)}p=new Vn(b),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new OI(new bn(y),p,_)}class Dh extends xh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function kI(s,t,i){return new Nh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cg extends xh{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=kI(this,t,!0),a=this.Ac.map((c=>Jl(c,i))),l=new ro(a);return new TR(t.path,l)}isEqual(t){return t instanceof cg&&or(this.Ac,t.Ac)}}function UI(s,t,i,a){const l=s.createContext(1,t,i);hg("Data must be an object, but it was:",l,a);const c=[],d=bn.empty();mr(a,((p,_)=>{const b=HT(t,p,i);_=dn(_);const S=l.childContextForFieldPath(b);if(_ instanceof Dh)c.push(b);else{const M=Jl(_,S);M!=null&&(c.push(b),d.set(b,M))}}));const y=new Vn(c);return new PT(d,y,l.fieldTransforms)}function LI(s,t,i,a,l,c){const d=s.createContext(1,t,i),y=[zl(t,a,i)],p=[l];if(c.length%2!=0)throw new ht($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(zl(t,c[M])),p.push(c[M+1]);const _=[],b=bn.empty();for(let M=y.length-1;M>=0;--M)if(!GT(_,y[M])){const H=y[M];let J=p[M];J=dn(J);const st=d.childContextForFieldPath(H);if(J instanceof Dh)_.push(H);else{const et=Jl(J,st);et!=null&&(_.push(H),b.set(H,et))}}const S=new Vn(_);return new PT(b,S,d.fieldTransforms)}function Jl(s,t){if(qT(s=dn(s)))return hg("Unsupported field value:",t,s),BT(s,t);if(s instanceof xh)return(function(a,l){if(!zT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let p=Jl(y,l.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=dn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _R(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ge.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof ge){const c=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:iT(l.serializer,a._byteString)};if(a instanceof ze){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof fi)return(function(d,y){const p=d instanceof fi?d.toArray():d;return{mapValue:{fields:{[ME]:{stringValue:VE},[nh]:{arrayValue:{values:p.map((b=>{if(typeof b!="number")throw y.createError("VectorValues must only contain numeric values.");return Hm(y.serializer,b)}))}}}}}})(a,l);if(cT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Lm(a)}`)})(s,t)}function BT(s,t){const i={};return CE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(s,((a,l)=>{const c=Jl(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function qT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ge||s instanceof ji||s instanceof $n||s instanceof ze||s instanceof xh||s instanceof fi||cT(s))}function hg(s,t,i){if(!qT(i)||!wE(i)){const a=Lm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function zl(s,t,i){if((t=dn(t))instanceof ug)return t._internalPath;if(typeof t=="string")return HT(s,t);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const PI=new RegExp("[~\\*/\\[\\]]");function HT(s,t,i){if(t.search(PI)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ug(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ht($.INVALID_ARGUMENT,y+s+p)}function GT(s,t){return s.some((i=>i.isEqual(t)))}class zI{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return mr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[nh].arrayValue?.values?.map((a=>Ie(a.doubleValue)));return new fi(i)}convertGeoPoint(t){return new ji(Ie(t.latitude),Ie(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=ur(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=_e.fromString(t);Zt(uT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class FT extends zI{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function qa(...s){return new cg("arrayUnion",s)}const h0="@firebase/firestore",f0="4.10.0";function d0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class QT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(zl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jI extends QT{data(){return super.data()}}function BI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ht($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function qI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends QT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Pe("string",Kr._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Gc extends Kr{data(t={}){return super.data(t)}}class Wa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const p=new Gc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Gc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:HI(y.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Pe("string",Wa._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function m0(s){s=ci(s,ze);const t=ci(s.firestore,Jr),i=lg(t);return AI(i,s._key).then((a=>KT(t,s,a)))}function GI(s,t,i){s=ci(s,ze);const a=ci(s.firestore,Jr),l=qI(s.converter,t),c=jT(a);return fg(a,[VI(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,hi.none())])}function Vi(s,t,i,...a){s=ci(s,ze);const l=ci(s.firestore,Jr),c=jT(l);let d;return d=typeof(t=dn(t))=="string"||t instanceof ug?LI(c,"updateDoc",s._key,t,i,a):UI(c,"updateDoc",s._key,t),fg(l,[d.toMutation(s._key,hi.exists(!0))])}function FI(s){return fg(ci(s.firestore,Jr),[new Gm(s._key,hi.none())])}function g0(s,...t){s=dn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||d0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(d0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof ze)d=ci(s.firestore,Jr),y=vh(s._key.path),c={next:_=>{t[a]&&t[a](KT(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=ci(s,Ih);d=ci(_.firestore,Jr),y=_._query;const b=new FT(d);c={next:S=>{t[a]&&t[a](new Wa(d,b,_,S))},error:t[a+1],complete:t[a+2]},BI(s._query)}const p=lg(d);return SI(p,y,l,c)}function fg(s,t){const i=lg(s);return wI(i,t)}function KT(s,t,i){const a=i.docs.get(t._key),l=new FT(s);return new Kr(s,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){S2(uo),to(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new Jr(new R2(a.getProvider("auth-internal")),new x2(d,a.getProvider("app-check-internal")),K2(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),sr(h0,f0,t),sr(h0,f0,"esm2020")})();const YT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const QI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const KI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const p0=s=>{const t=KI(s);return t.charAt(0).toUpperCase()+t.slice(1)};var YI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const $I=me.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},p)=>me.createElement("svg",{ref:p,...YI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:YT("lucide",l),...!c&&!XI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>me.createElement(_,b)),...Array.isArray(c)?c:[c]]));const be=(s,t)=>{const i=me.forwardRef(({className:a,...l},c)=>me.createElement($I,{ref:c,iconNode:t,className:YT(`lucide-${QI(p0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=p0(s),i};const ZI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],JI=be("arrow-right",ZI);const WI=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y0=be("ban",WI);const tx=[["circle",{cx:"12",cy:"11.9",r:"2",key:"e8h31w"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6",key:"17bolr"}],["path",{d:"m8.9 10.1 1.4.8",key:"15ezny"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5",key:"wtwa5u"}],["path",{d:"m15.1 10.1-1.4.8",key:"1r0b28"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2",key:"m7qszh"}],["path",{d:"M12 13.9v1.6",key:"zfyyim"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0",key:"1bi9q0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5",key:"1rhjqw"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5",key:"8gsud3"}]],Oh=be("biohazard",tx);const ex=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_0=be("book-open",ex);const nx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vc=be("circle-check-big",nx);const ix=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sx=be("copy",ix);const rx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],v0=be("crown",rx);const ax=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],ox=be("crosshair",ax);const lx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ux=be("hammer",lx);const cx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hx=be("history",cx);const fx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dx=be("house",fx);const mx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fc=be("log-out",mx);const gx=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],px=be("pill",gx);const yx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_x=be("play",yx);const vx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ex=be("rotate-ccw",vx);const Tx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],po=be("skull",Tx);const bx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],E0=be("sparkles",bx);const Sx=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],dg=be("syringe",Sx);const Ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wx=be("trash-2",Ax);const Rx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cx=be("user",Rx);const Ix=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xx=be("users",Ix);const Nx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dx=be("x",Nx),Ox=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:36417135068764fe6aa637"},XT=U0(Ox),$d=T2(XT),Mn=xI(XT),Yn=typeof __app_id<"u"?__app_id:"last-of-us-game",Mx="22",Vx={2:14,3:12,4:11,5:10,6:9},kx=()=>{const s=[];return Object.entries({1:2,3:4,5:6,7:8,9:6,11:4,13:2}).forEach(([a,l])=>{for(let c=0;c<l;c++)s.push({val:parseInt(a),type:"ZOMBIE"})}),Object.entries({2:3,4:5,6:7,8:7,10:5,12:3}).forEach(([a,l])=>{for(let c=0;c<l;c++)s.push({val:parseInt(a),type:"ANTIDOTE"})}),s},Ux=s=>{let t=s.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[s[t],s[i]]=[s[i],s[t]];return s},T0=()=>x.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[x.jsx(po,{size:12,className:"text-red-600"}),x.jsx("span",{className:"text-[10px] font-black tracking-widest text-red-600 uppercase",children:"LAST OF US"})]}),Lx=()=>x.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[x.jsx(po,{size:22,className:"text-red-600"}),x.jsx("span",{className:"text-[20px] font-black tracking-widest text-red-600 uppercase",children:"LAST OF US"})]}),b0={1:Oh,2:px,3:ox,4:po,5:dg},Zd=({isShaking:s})=>x.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900/40 via-gray-950 to-black"}),x.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((t,i)=>{const a=Object.keys(b0),l=a[i%a.length],c=b0[l];return x.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:x.jsx(c,{size:32})},i)})}),x.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),S0=({val:s,type:t,count:i=1,size:a="md",selected:l=!1,onClick:c,disabled:d=!1,faded:y=!1,isBoard:p=!1})=>{const _=t==="ZOMBIE";let b="";p?b=_?"bg-red-900 border-red-600 shadow-red-900/40":"bg-lime-900 border-lime-500 shadow-lime-900/40":b=_?"bg-linear-to-b from-red-800 to-stone-900 border-red-600":"bg-linear-to-b from-lime-700 to-stone-900 border-lime-500";const S=_?"text-red-100":"text-lime-100",M=_?"text-red-500/30":"text-lime-400/30",H=a==="lg"?64:a==="md"?48:24,J=a==="lg"?"w-20 h-32 md:w-28 md:h-40 text-3xl md:text-5xl":a==="sm"?"w-10 h-14 text-xs":"w-16 h-24 md:w-20 md:h-28 text-xl md:text-2xl";return x.jsxs("div",{onClick:d?void 0:c,className:`
        ${J} rounded-xl border-2 flex flex-col items-center justify-center shadow-xl relative overflow-hidden transition-all duration-200 shrink-0
        ${b}
        ${l?"ring-4 ring-yellow-400 -translate-y-4 z-20 scale-110":""}
        ${d?y?"opacity-40 grayscale":"cursor-default":"cursor-pointer hover:scale-105"}
        ${!d&&!l?"hover:-translate-y-1":""}
      `,children:[x.jsx("div",{className:`absolute top-1 left-2 font-black opacity-70 text-[10px] ${S}`,children:_?"ZMB":"ANT"}),x.jsx("div",{className:`font-black ${S} z-10`,children:s}),_?x.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:x.jsx(po,{size:H,strokeWidth:2.5})}):x.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:x.jsx(dg,{size:H,strokeWidth:2.5})}),i>1&&x.jsxs("div",{className:"absolute top-[-5px] right-[-5px] bg-yellow-500 text-black font-bold rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-md border border-yellow-600 z-20",children:["x",i]})]})},A0=({onConfirmLeave:s,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>x.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:x.jsxs("div",{className:"bg-stone-900 rounded-xl border border-red-900/50 p-6 max-w-sm w-full text-center shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-linear-to-r from-red-600 to-transparent"}),x.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center justify-center gap-2",children:[x.jsx(Oh,{className:"text-red-500"})," Abandon Zone?"]}),x.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Host, leaving will disband the group and return everyone to the menu.":l?"Leaving now will disrupt the survival effort.":"Disconnect from the safe house?"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("button",{onClick:i,className:"bg-gray-800 hover:bg-gray-700 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),a&&l&&x.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-700 hover:bg-blue-600 text-white shadow-lg",children:[x.jsx(dx,{size:18})," Return Group to Lobby"]}),x.jsxs("button",{onClick:s,className:"bg-red-700 hover:bg-red-600 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 shadow-lg",children:[x.jsx(Fc,{size:18})," ",a?"Disband Group":"Leave Game"]})]})]})}),w0=({onClose:s})=>x.jsx("div",{className:"fixed inset-0 bg-black/95 z-150 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-stone-900 rounded-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden border border-red-900/30 flex flex-col",children:[x.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-black/50",children:[x.jsxs("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(po,{})," Survival Guide"]}),x.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:x.jsx(Dx,{})})]}),x.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-300 text-left",children:[x.jsxs("section",{children:[x.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[x.jsx(Oh,{className:"text-green-500",size:20})," The Basics"]}),x.jsxs("p",{className:"text-sm",children:["Get rid of your cards. Be the last survivor. ",x.jsx("br",{})," Odd cards are"," ",x.jsx("strong",{children:"Zombies"}),". Even cards are ",x.jsx("strong",{children:"Antidotes"}),"."]})]}),x.jsxs("section",{children:[x.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[x.jsx(JI,{className:"text-blue-400",size:20})," Placement Rules"]}),x.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[x.jsxs("li",{children:["Cards on the board are arranged in"," ",x.jsx("strong",{children:"Ascending Order"}),"."]}),x.jsxs("li",{children:["You can play cards ",x.jsx("strong",{children:"Lower"})," than the minimum or"," ",x.jsx("strong",{children:"Higher"})," than the maximum."]}),x.jsx("li",{children:"You CANNOT play inside the cage (between min and max)."}),x.jsxs("li",{children:[x.jsx("strong",{children:"The Twist:"})," Two cards of the same type (Zombie/Zombie or Antidote/Antidote) CANNOT sit next to each other horizontally."]}),x.jsx("li",{children:"You CAN stack a matching card on top of an existing one."})]})]}),x.jsxs("section",{children:[x.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[x.jsx(xx,{className:"text-yellow-400",size:20})," Multi-Play & Quarantine"]}),x.jsxs("p",{className:"text-sm mb-2",children:["If you play on the edges, you must play ",x.jsx("strong",{children:"at least"})," as many cards as are currently on that edge stack. If you stack on top, just follow the same rule."]}),x.jsxs("p",{className:"text-sm border-l-4 border-red-600 pl-3 py-1 bg-red-900/10",children:[x.jsx("strong",{children:"Stuck?"})," Select ",x.jsx("strong",{children:"QUARANTINE"})," mode, then click a card on the board to take it as a penalty. You are out for the round."]})]})]}),x.jsx("div",{className:"p-4 bg-black/50 border-t border-gray-800 text-center",children:x.jsx("button",{onClick:s,className:"bg-red-700 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-bold",children:"Survive"})})]})});function Px(){const[s,t]=me.useState(null),[i,a]=me.useState("menu"),[l,c]=me.useState(""),[d,y]=me.useState(""),[p,_]=me.useState(null),[b,S]=me.useState(""),[M,H]=me.useState(!1),[J,st]=me.useState(!1),[et,yt]=me.useState(!1),[wt,_t]=me.useState(!1),[Dt,ee]=me.useState([]),[Mt,C]=me.useState(!1),[A,I]=me.useState(!1),[V,D]=me.useState(()=>localStorage.getItem("gameHub_playerName")||"");me.useEffect(()=>{V&&localStorage.setItem("gameHub_playerName",V)},[V]);const k=Z=>{S(Z),setTimeout(()=>S(""),3e3)};me.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await ow($d,__initial_auth_token):await nw($d))(),cw($d,t)},[]),me.useEffect(()=>{const Z=localStorage.getItem("lastofus_roomId");Z&&c(Z)},[]),me.useEffect(()=>{const Z=g0(On(Mn,"game_hub_settings","config"),tt=>{tt.exists()&&tt.data()[Mx]?.maintenance?I(!0):I(!1)});return()=>Z()},[]),me.useEffect(()=>{if(!l||!s)return;const Z=g0(On(Mn,"artifacts",Yn,"public","data","rooms",l),tt=>{if(tt.exists()){const rt=tt.data();if(rt.players&&!rt.players.find(Ot=>Ot.id===s.uid)){c(""),a("menu"),localStorage.removeItem("lastofus_roomId"),k("You have been kicked from the safe house.");return}_(rt),rt.status==="playing"||rt.status==="finished"?a("game"):rt.status==="lobby"&&a("lobby"),rt.turnIndex!==void 0&&rt.players&&rt.players[rt.turnIndex]&&s&&(rt.players[rt.turnIndex].id===s.uid||C(!1))}else c(""),a("menu"),localStorage.removeItem("lastofus_roomId"),k("Safe house compromised (Room closed).")});return()=>Z()},[l,s]);const w=(Z,tt)=>{if(Z.length===0)return{valid:!1,msg:"Select cards."};const rt=Z[0].val,Ot=Z[0].type,Yt=Z.length;if(!Z.every(Nt=>Nt.val===rt))return{valid:!1,msg:"Must play identical cards."};if(tt.length===0)return{valid:!0};const qt=tt[0],ut=tt[tt.length-1],mt=tt.findIndex(Nt=>Nt.val===rt);if(mt!==-1){if(!(mt===0||mt===tt.length-1))return{valid:!1,msg:"Cannot play inside the cage (even to stack)."};const he=tt[mt];return Yt<he.count?{valid:!1,msg:`Must play at least ${he.count} cards to stack on this edge.`}:{valid:!0,action:"STACK",index:mt}}return rt>qt.val&&rt<ut.val?{valid:!1,msg:"Cannot play inside the cage."}:rt<qt.val?Ot===qt.type?{valid:!1,msg:`Cannot place ${Ot} next to ${qt.type}.`}:Yt<qt.count?{valid:!1,msg:`Must play at least ${qt.count} cards here (matches edge stack).`}:{valid:!0,action:"LEFT"}:rt>ut.val?Ot===ut.type?{valid:!1,msg:`Cannot place ${Ot} next to ${ut.type}.`}:Yt<ut.count?{valid:!1,msg:`Must play at least ${ut.count} cards here (matches edge stack).`}:{valid:!0,action:"RIGHT"}:{valid:!1,msg:"Invalid move."}},ce=async()=>{if(!V)return k("Name required");H(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase();await GI(On(Mn,"artifacts",Yn,"public","data","rooms",Z),{roomId:Z,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:V,hand:[],quarantined:!1,ready:!1}],board:[],deck:[],turnIndex:0,activeRoundPlayers:[],logs:[],winner:null}),localStorage.setItem("lastofus_roomId",Z),c(Z),H(!1)},Se=async()=>{if(!d||!V)return k("Details required");H(!0);const Z=On(Mn,"artifacts",Yn,"public","data","rooms",d),tt=await m0(Z);if(!tt.exists()){k("Room not found"),H(!1);return}const rt=tt.data();if(rt.status!=="lobby"){k("Game in progress"),H(!1);return}if(rt.players.length>=6){k("Room full"),H(!1);return}rt.players.find(Ot=>Ot.id===s.uid)||await Vi(Z,{players:qa({id:s.uid,name:V,hand:[],quarantined:!1,ready:!1})}),localStorage.setItem("lastofus_roomId",d),c(d),H(!1)},G=async Z=>{if(p.hostId!==s.uid)return;const tt=p.players.filter(rt=>rt.id!==Z);await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{players:tt})},nt=()=>{try{navigator.clipboard.writeText(l),triggerFeedback("neutral","COPIED!","",Vc)}catch{const tt=document.createElement("textarea");tt.value=l,document.body.appendChild(tt),tt.select(),document.execCommand("copy"),document.body.removeChild(tt),triggerFeedback("neutral","COPIED!","",Vc)}},ft=async()=>{if(p.hostId!==s.uid)return;const Z=p.players.length,tt=Ux(kx()),rt=Vx[Z]||10,Ot=p.players.map(ut=>{const mt=tt.splice(0,rt).sort((Nt,he)=>Nt.val-he.val);return{...ut,hand:mt,quarantined:!1,ready:!1}}),Yt=Ot.map(ut=>ut.id),qt=Math.floor(Math.random()*Ot.length);await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{status:"playing",players:Ot,deck:tt,board:[],activeRoundPlayers:Yt,turnIndex:qt,logs:[{text:"Survival begins. Good luck.",type:"neutral"}]})},Bt=async()=>{p.hostId===s.uid&&await ft()},Ft=async()=>{if(p.hostId!==s.uid)return;const Z=p.players.map(tt=>({...tt,hand:[],quarantined:!1,ready:!1}));await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{status:"lobby",players:Z,board:[],logs:[],activeRoundPlayers:[]}),_t(!1)},O=async()=>{if(!l||!s)return;const Z=p.players.map(tt=>tt.id===s.uid?{...tt,ready:!tt.ready}:tt);await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{players:Z})},K=async()=>{const Z=p.players.findIndex(ne=>ne.id===s.uid),tt=p.players[Z],rt=Dt.map(ne=>tt.hand[ne]),Ot=w(rt,p.board);if(!Ot.valid){k(Ot.msg);return}const Yt=[...p.board],qt=rt[0].val,ut=rt[0].type,mt=rt.length;Ot.action==="STACK"?Yt[Ot.index].count+=mt:Ot.action==="LEFT"?Yt.unshift({val:qt,type:ut,count:mt}):Ot.action==="RIGHT"?Yt.push({val:qt,type:ut,count:mt}):Yt.push({val:qt,type:ut,count:mt});const Nt=[...p.players],he=[];let oe=0;for(let ne of tt.hand)ne.val===qt&&oe<mt?oe++:he.push(ne);if(Nt[Z].hand=he,he.length===0){await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{players:Nt,board:Yt,status:"finished",winner:tt,logs:qa({text:`${tt.name} survived! Game Over.`,type:"success"})}),ee([]);return}let je=(p.turnIndex+1)%Nt.length,le=0;for(;(!p.activeRoundPlayers.includes(Nt[je].id)||Nt[je].quarantined)&&(je=(je+1)%Nt.length,le++,!(le>Nt.length)););await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{players:Nt,board:Yt,turnIndex:je,logs:qa({text:`${tt.name} played ${mt}x ${qt}.`,type:"neutral"})}),ee([])},it=()=>{C(!0)},at=async Z=>{if(!Mt)return;const tt=p.players.findIndex(oe=>oe.id===s.uid),rt=p.players[tt],Ot=[...p.board];if(Ot.length===0)return;const Yt=Ot[Z],qt={val:Yt.val,type:Yt.type};Yt.count>1?Ot[Z].count-=1:Ot.splice(Z,1);const ut=[...rt.hand,qt].sort((oe,je)=>oe.val-je.val),mt=[...p.players];mt[tt].hand=ut,mt[tt].quarantined=!0;const Nt=p.activeRoundPlayers.filter(oe=>oe!==s.uid),he=[{text:`${rt.name} quarantined and took ${qt.val}.`,type:"danger"}];if(Nt.length===1){const oe=Nt[0],je=mt.find(sn=>sn.id===oe);he.push({text:`${je.name} won the round! Board cleared.`,type:"success"});const le=mt.map(sn=>({...sn,quarantined:!1})),ne=le.findIndex(sn=>sn.id===oe);await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{players:le,board:[],activeRoundPlayers:le.map(sn=>sn.id),turnIndex:ne,logs:qa(...he)})}else{let oe=(p.turnIndex+1)%mt.length;for(;!Nt.includes(mt[oe].id)||mt[oe].quarantined;)oe=(oe+1)%mt.length;await Vi(On(Mn,"artifacts",Yn,"public","data","rooms",l),{players:mt,board:Ot,activeRoundPlayers:Nt,turnIndex:oe,logs:qa(...he)})}C(!1),S("")},vt=async()=>{if(!(!l||!s)){try{const Z=On(Mn,"artifacts",Yn,"public","data","rooms",l),tt=await m0(Z);if(tt.exists()){const rt=tt.data();if(rt.hostId===s.uid)await FI(Z);else{const Yt=rt.players.filter(Nt=>Nt.id!==s.uid);let qt=rt.status,ut=rt.winner;rt.status==="playing"&&Yt.length<2&&(qt="finished",Yt.length>0&&(ut=Yt[0]));const mt={players:Yt,status:qt,logs:qa({text:`${V} fled.`,type:"danger"})};ut&&(mt.winner=ut),await Vi(Z,mt)}}}catch(Z){console.error("Error leaving room:",Z)}localStorage.removeItem("lastofus_roomId"),c(""),a("menu"),_(null),_t(!1)}},Rt=(Z,tt)=>{if(Dt.includes(tt))ee(Dt.filter(rt=>rt!==tt));else{if(Dt.length>0){const rt=Dt[0];if(p.players.find(qt=>qt.id===s.uid).hand[rt].val!==Z.val){ee([tt]);return}}ee([...Dt,tt])}};if(A)return x.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[x.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[x.jsx(ux,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),x.jsx("p",{className:"text-gray-400",children:"Zombies are lurking around. Wait for the sunlight to scare them away."})]}),x.jsx("div",{className:"h-8"}),x.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:x.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:x.jsx("div",{className:"text-center pb-12 animate-pulse",children:x.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[x.jsx(E0,{size:16})," Visit Gamehub...Try our other releases..."," ",x.jsx(E0,{size:16})]})})})})]});if(i==="menu")return x.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[x.jsx(Zd,{}),x.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700 w-full px-4",children:[x.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[x.jsx(po,{size:50,className:"text-red-600 animate-bounce"}),x.jsx(dg,{size:50,className:"text-lime-500 animate-bounce delay-75"})]}),x.jsx("h1",{className:"text-4xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-500 to-stone-500 uppercase tracking-tighter",children:"Last of Us"}),x.jsx("p",{className:"text-stone-500 tracking-[0.5em] uppercase mt-2 font-bold text-xs md:text-sm",children:"Survive the Horde"})]}),x.jsxs("div",{className:"bg-stone-900/80 backdrop-blur border border-red-900/30 p-6 md:p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 mx-4",children:[b&&x.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:b}),x.jsx("input",{className:"w-full bg-black/50 border border-stone-700 p-3 rounded-xl mb-4 text-white focus:border-red-500 outline-none text-sm",placeholder:"Survivor Name",value:V,onChange:Z=>D(Z.target.value)}),x.jsxs("button",{onClick:ce,disabled:M,className:"w-full bg-red-800 hover:bg-red-700 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 transition-all shadow-lg text-sm md:text-base",children:[x.jsx(_x,{size:20})," New Survival Zone"]}),x.jsxs("div",{className:"flex gap-2 mb-4",children:[x.jsx("input",{className:"flex-1 bg-black/50 border border-stone-700 p-3 rounded-xl text-white focus:border-red-500 outline-none uppercase text-sm",placeholder:"CODE",value:d,onChange:Z=>y(Z.target.value.toUpperCase())}),x.jsx("button",{onClick:Se,disabled:M,className:"bg-stone-700 hover:bg-stone-600 px-6 rounded-xl font-bold transition-all text-sm",children:"Join"})]}),x.jsxs("button",{onClick:()=>st(!0),className:"w-full text-center text-stone-500 hover:text-stone-300 text-sm flex items-center justify-center gap-2",children:[x.jsx(_0,{size:14})," Survival Guide"]})]}),J&&x.jsx(w0,{onClose:()=>st(!1)}),x.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by I'm Out. A tribute game.",x.jsx("br",{}),"Developed by ",x.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",x.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-red-500 underline hover:text-red-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const Z=p.hostId===s.uid;return x.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-6 relative",children:[x.jsx(Zd,{}),x.jsx(Lx,{}),wt&&x.jsx(A0,{onConfirmLeave:vt,onConfirmLobby:null,onCancel:()=>_t(!1),isHost:Z,inGame:!1}),x.jsxs("div",{className:"z-10 w-full max-w-lg bg-stone-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/30 shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-stone-800",children:[x.jsx("div",{children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h2",{className:"text-xl text-red-600 font-bold uppercase",children:"Safe Zone"}),x.jsx("div",{className:"text-3xl font-mono text-white font-black",children:p.roomId}),x.jsx("button",{onClick:nt,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",title:"Copy Room ID",children:x.jsx(sx,{size:16})})]})}),x.jsx("button",{onClick:()=>_t(!0),className:"p-2 bg-red-900/30 text-red-400 rounded-full hover:bg-red-900/50",children:x.jsx(Fc,{size:20})})]}),x.jsxs("div",{className:"space-y-3 mb-8",children:[p.players.map(tt=>x.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-xl border border-stone-800",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2 rounded-full bg-stone-800",children:x.jsx(Cx,{size:18,className:"text-stone-400"})}),x.jsx("span",{className:`font-bold ${tt.id===s.uid?"text-red-500":"text-stone-400"}`,children:tt.name})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[tt.id===p.hostId&&x.jsx(v0,{size:16,className:"text-yellow-500"}),Z&&tt.id!==s.uid&&x.jsx("button",{onClick:()=>G(tt.id),className:"text-stone-600 hover:text-red-500 p-1 transition-colors",title:"Kick Player",children:x.jsx(wx,{size:18})})]})]},tt.id)),p.players.length<2&&x.jsx("div",{className:"text-center text-stone-600 py-4 italic",children:"Need at least 2 survivors..."})]}),Z?x.jsx("button",{onClick:ft,disabled:p.players.length<2,className:"w-full py-4 rounded-xl font-black text-xl uppercase tracking-widest bg-red-700 hover:bg-red-600 text-white shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Survival"}):x.jsx("div",{className:"w-full py-4 rounded-xl font-bold text-center text-stone-500 bg-stone-800/50 border border-stone-700 animate-pulse",children:"Waiting for Host..."})]}),x.jsx(T0,{})]})}if(i==="game"&&p){const Z=p.players.find(ut=>ut.id===s.uid);if(!Z)return x.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center text-white",children:"Loading..."});const rt=p.players[p.turnIndex]?.id===s.uid,Ot=p.players.filter(ut=>ut.id!==s.uid),Yt=p.logs.slice(-2).reverse(),qt=p.players.filter(ut=>ut.id!==p.hostId).every(ut=>ut.ready);return x.jsxs("div",{className:"h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden font-sans",children:[x.jsx(Zd,{}),wt&&x.jsx(A0,{onConfirmLeave:vt,onConfirmLobby:Ft,onCancel:()=>_t(!1),isHost:p.hostId===s.uid,inGame:!0}),J&&x.jsx(w0,{onClose:()=>st(!1)}),x.jsxs("div",{className:"h-14 bg-stone-900/90 border-b border-stone-800 flex items-center justify-between px-4 z-160 sticky top-0 backdrop-blur-md",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Oh,{className:"text-red-600",size:24}),x.jsx("span",{className:"font-black uppercase hidden md:block",children:"Last of Us"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>st(!0),className:"p-2 text-stone-400 hover:bg-stone-800 rounded-full",children:x.jsx(_0,{size:20})}),x.jsx("button",{onClick:()=>yt(!et),className:`p-2 rounded-full ${et?"bg-red-900/50 text-red-200":"text-stone-400 hover:bg-stone-800"}`,children:x.jsx(hx,{size:20})}),x.jsx("button",{onClick:()=>_t(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:x.jsx(Fc,{size:20})})]})]}),et&&x.jsx("div",{className:"fixed top-16 right-4 z-155 bg-stone-900/95 border border-stone-700 p-2 rounded-xl max-h-60 overflow-y-auto w-64 shadow-2xl",children:[...p.logs].reverse().map((ut,mt)=>x.jsx("div",{className:`text-xs p-2 mb-1 rounded border-l-2 ${ut.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":"bg-stone-800 border-stone-600 text-gray-400"}`,children:ut.text},mt))}),p.status==="finished"&&x.jsxs("div",{className:"fixed inset-0 top-14 z-150 bg-black/95 flex flex-col items-center justify-center p-6 text-center animate-in zoom-in",children:[x.jsx(v0,{size:80,className:"text-yellow-500 mb-6 animate-bounce"}),x.jsx("h1",{className:"text-5xl font-black text-white mb-4",children:"Survivor Found!"}),x.jsxs("p",{className:"text-2xl text-stone-300 mb-8",children:[p.winner?p.winner.name:"Unknown Survivor"," ","cleared their hand!"]}),x.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full mb-8",children:p.players.map(ut=>x.jsx("div",{className:"bg-stone-800 p-4 rounded-xl flex justify-between items-center border border-stone-700",children:x.jsxs("div",{className:"flex items-center gap-2",children:[ut.ready&&x.jsx(Vc,{size:16,className:"text-green-500"}),x.jsx("span",{className:ut.id===p.winner?.id?"text-yellow-400 font-bold":"text-gray-400",children:ut.name})]})},ut.id))}),x.jsx("div",{className:"flex flex-col gap-4 items-center w-full max-w-md",children:p.hostId!==s.uid?Z.ready?x.jsxs("div",{className:"w-full py-3 bg-stone-800 rounded-xl font-bold text-green-400 border border-green-500/50 flex items-center justify-center gap-2",children:[x.jsx(Vc,{size:20})," Waiting for host..."]}):x.jsx("button",{onClick:O,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white shadow-lg animate-pulse transition-all hover:scale-105",children:"Ready for Next Game"}):x.jsxs("div",{className:"flex flex-col w-full gap-3",children:[x.jsxs("div",{className:"flex gap-4 w-full",children:[x.jsxs("button",{onClick:Ft,disabled:!qt,className:`flex-1 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${qt?"bg-stone-700 hover:bg-stone-600 text-white hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[x.jsx(Fc,{size:18})," Lobby"]}),x.jsxs("button",{onClick:Bt,disabled:!qt,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2 ${qt?"bg-red-700 hover:bg-red-600 hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[x.jsx(Ex,{size:18})," Restart"]})]}),!qt&&x.jsx("p",{className:"text-stone-500 text-sm animate-pulse",children:"Waiting for survivors to report in..."})]})})]}),x.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-6xl mx-auto p-2 gap-2 overflow-hidden relative",children:[x.jsx("div",{className:"flex-none h-24 md:h-28 flex items-start justify-center gap-2 overflow-x-auto no-scrollbar px-2 py-2",children:Ot.map(ut=>x.jsxs("div",{className:`flex flex-col items-center min-w-[80px] md:min-w-[100px] p-2 rounded-xl border ${ut.quarantined?"border-red-900 bg-red-900/20 opacity-50":"border-stone-700 bg-stone-900/50"} ${p.players[p.turnIndex]?.id===ut.id?"ring-2 ring-yellow-500 animate-pulse":""}`,children:[x.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[ut.quarantined&&x.jsx(y0,{size:12,className:"text-red-500"}),x.jsx("span",{className:"text-xs font-bold truncate max-w-[60px] md:max-w-[70px]",children:ut.name})]}),x.jsx("div",{className:"flex gap-1 overflow-hidden h-8 md:h-12 w-full justify-center",children:ut.hand.length>0?x.jsx("div",{className:"flex -space-x-2",children:ut.hand.map((mt,Nt)=>x.jsx("div",{className:"w-4 md:w-6 h-6 md:h-8 bg-stone-700 rounded border border-stone-600 shadow-sm"},Nt))}):x.jsx("span",{className:"text-[10px] text-green-500",children:"Safe"})}),x.jsxs("span",{className:"text-[10px] text-stone-500",children:[ut.hand.length," Cards"]})]},ut.id))}),x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0 bg-stone-900/30 rounded-2xl border border-stone-800/30 mx-2",children:[x.jsxs("div",{className:"absolute top-4 left-0 right-0 flex flex-col items-center pointer-events-none z-10 w-full space-y-2",children:[!et&&Yt.map((ut,mt)=>x.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] md:text-xs font-bold shadow-lg backdrop-blur-md border animate-in fade-in zoom-in duration-300 ${ut.type==="danger"?"bg-red-900/50 border-red-500 text-red-100":"bg-stone-800/50 border-stone-600 text-stone-300"}`,children:ut.text},mt)),b&&x.jsx("div",{className:"px-6 py-2 rounded-full text-sm font-bold bg-red-600 text-white shadow-xl animate-bounce whitespace-nowrap border-4 border-red-800",children:b})]}),p.board.length===0?x.jsx("div",{className:"text-stone-600 text-sm font-bold border-2 border-dashed border-stone-800 rounded-xl p-8",children:"Board Empty"}):x.jsx("div",{className:"flex items-center gap-1 md:gap-2 overflow-x-auto p-4 w-full justify-start md:justify-center no-scrollbar h-full",children:p.board.map((ut,mt)=>x.jsx("div",{className:"transform hover:scale-105 transition-transform shrink-0",children:x.jsx(S0,{val:ut.val,type:ut.type,count:ut.count,size:"lg",isBoard:!0,disabled:!Mt,selected:Mt,onClick:()=>at(mt)})},mt))}),rt&&!Z.quarantined&&x.jsx("div",{className:"absolute bottom-4 flex gap-4 z-20",children:Mt?x.jsxs("div",{className:"flex flex-col items-center gap-2 animate-in slide-in-from-bottom-2",children:[x.jsx("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 text-sm font-bold border border-red-500 shadow-xl",children:"Tap a card to take penalty"}),x.jsx("button",{onClick:()=>C(!1),className:"px-6 py-2 rounded-xl font-bold bg-gray-700 hover:bg-gray-600 text-gray-200 shadow-lg",children:"Cancel"})]}):x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:K,disabled:Dt.length===0,className:`px-6 md:px-8 py-3 rounded-xl font-black text-lg md:text-xl shadow-xl flex items-center gap-2 transition-all ${Dt.length>0?"bg-yellow-500 hover:bg-yellow-400 text-black hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed"}`,children:["PLAY"," ",Dt.length>0&&`(${Dt.length})`]}),x.jsxs("button",{onClick:it,className:"px-4 md:px-6 py-3 rounded-xl font-bold bg-red-900/50 hover:bg-red-800 text-red-200 border border-red-800 flex items-center gap-2 transition-all",children:[x.jsx(y0,{size:18})," ",x.jsx("span",{className:"inline",children:"QUARANTINE"})]})]})}),rt&&Z.quarantined&&x.jsx("div",{className:"absolute bottom-4 text-red-500 font-bold animate-pulse bg-black/50 px-4 py-2 rounded-xl",children:"You are Quarantined. Skip turn."}),!rt&&x.jsx("div",{className:"absolute bottom-4 px-4 py-2 bg-stone-900 rounded-full text-stone-500 text-sm border border-stone-800 animate-pulse",children:"Waiting for survivors..."})]}),x.jsxs("div",{className:"flex-none bg-stone-900/95 p-2 md:p-4 rounded-t-3xl border-t border-red-900/30 shadow-2xl relative z-30 w-full overflow-hidden",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[x.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-stone-400 uppercase tracking-widest",children:["Inventory (",Z.hand.length,")"]}),x.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-stone-500",children:"Match count on edges"})]}),x.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-2 px-2 no-scrollbar",children:(()=>{const ut=[];let mt=[];for(let Nt=0;Nt<Z.hand.length;Nt++){const he=Z.hand[Nt];Nt>0&&Z.hand[Nt-1].val!==he.val&&(ut.push(mt),mt=[]),mt.push({card:he,index:Nt})}return mt.length>0&&ut.push(mt),ut.map((Nt,he)=>x.jsx("div",{className:"flex -space-x-6 md:-space-x-8 hover:space-x-1 transition-all duration-300 pr-4 shrink-0",children:Nt.map(({card:oe,index:je})=>x.jsx("div",{children:x.jsx(S0,{val:oe.val,type:oe.type,size:"md",selected:Dt.includes(je),onClick:()=>Rt(oe,je)})},je))},he))})()})]})]}),x.jsx(T0,{})]})}return null}kb.createRoot(document.getElementById("root")).render(x.jsx(me.StrictMode,{children:x.jsx(Px,{})}));
