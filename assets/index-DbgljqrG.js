(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Md={exports:{}},El={};var k_;function Cb(){if(k_)return El;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var U_;function Ib(){return U_||(U_=1,Md.exports=Cb()),Md.exports}var C=Ib(),Vd={exports:{}},St={};var L_;function xb(){if(L_)return St;L_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function pt(O,K,nt){this.props=O,this.context=K,this.refs=tt,this.updater=nt||J}pt.prototype.isReactComponent={},pt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},pt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function wt(){}wt.prototype=pt.prototype;function yt(O,K,nt){this.props=O,this.context=K,this.refs=tt,this.updater=nt||J}var Vt=yt.prototype=new wt;Vt.constructor=yt,it(Vt,pt.prototype),Vt.isPureReactComponent=!0;var re=Array.isArray;function kt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,K,nt){var rt=nt.ref;return{$$typeof:s,type:O,key:K,ref:rt!==void 0?rt:null,props:nt}}function V(O,K){return x(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var w=/\/+/g;function Kt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,nt,rt,Et){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(Rt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case s:case t:Ut=!0;break;case b:return Ut=O._init,G(Ut(O._payload),K,nt,rt,Et)}}if(Ut)return Et=Et(O),Ut=rt===""?"."+Kt(O,0):rt,re(Et)?(nt="",Ut!=null&&(nt=Ut.replace(w,"$&/")+"/"),G(Et,K,nt,"",function(st){return st})):Et!=null&&(N(Et)&&(Et=V(Et,nt+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(w,"$&/")+"/")+Ut)),K.push(Et)),1;Ut=0;var Ae=rt===""?".":rt+":";if(re(O))for(var Z=0;Z<O.length;Z++)rt=O[Z],Rt=Ae+Kt(rt,Z),Ut+=G(rt,K,nt,Rt,Et);else if(Z=H(O),typeof Z=="function")for(O=Z.call(O),Z=0;!(rt=O.next()).done;)rt=rt.value,Rt=Ae+Kt(rt,Z++),Ut+=G(rt,K,nt,Rt,Et);else if(Rt==="object"){if(typeof O.then=="function")return G(Se(O),K,nt,rt,Et);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(O,K,nt){if(O==null)return O;var rt=[],Et=0;return G(O,rt,"","",function(Rt){return K.call(nt,Rt,Et++)}),rt}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Gt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=S,St.Children=Xt,St.Component=pt,St.Fragment=i,St.Profiler=l,St.PureComponent=yt,St.StrictMode=a,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=it({},O.props),Et=O.key;if(K!=null)for(Rt in K.key!==void 0&&(Et=""+K.key),K)!A.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(rt[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)rt.children=nt;else if(1<Rt){for(var Ut=Array(Rt),Ae=0;Ae<Rt;Ae++)Ut[Ae]=arguments[Ae+2];rt.children=Ut}return x(O.type,Et,rt)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,K,nt){var rt,Et={},Rt=null;if(K!=null)for(rt in K.key!==void 0&&(Rt=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=K[rt]);var Ut=arguments.length-2;if(Ut===1)Et.children=nt;else if(1<Ut){for(var Ae=Array(Ut),Z=0;Z<Ut;Z++)Ae[Z]=arguments[Z+2];Et.children=Ae}if(O&&O.defaultProps)for(rt in Ut=O.defaultProps,Ut)Et[rt]===void 0&&(Et[rt]=Ut[rt]);return x(O,Rt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:y,render:O}},St.isValidElement=N,St.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ft}},St.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},St.startTransition=function(O){var K=I.T,nt={};I.T=nt;try{var rt=O(),Et=I.S;Et!==null&&Et(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(kt,Gt)}catch(Rt){Gt(Rt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),I.T=K}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(O){return I.H.use(O)},St.useActionState=function(O,K,nt){return I.H.useActionState(O,K,nt)},St.useCallback=function(O,K){return I.H.useCallback(O,K)},St.useContext=function(O){return I.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},St.useEffect=function(O,K){return I.H.useEffect(O,K)},St.useEffectEvent=function(O){return I.H.useEffectEvent(O)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(O,K,nt){return I.H.useImperativeHandle(O,K,nt)},St.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},St.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},St.useMemo=function(O,K){return I.H.useMemo(O,K)},St.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},St.useReducer=function(O,K,nt){return I.H.useReducer(O,K,nt)},St.useRef=function(O){return I.H.useRef(O)},St.useState=function(O){return I.H.useState(O)},St.useSyncExternalStore=function(O,K,nt){return I.H.useSyncExternalStore(O,K,nt)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.3",St}var z_;function Am(){return z_||(z_=1,Vd.exports=xb()),Vd.exports}var he=Am(),kd={exports:{}},Tl={},Ud={exports:{}},Ld={};var P_;function Nb(){return P_||(P_=1,(function(s){function t(G,et){var ft=G.length;G.push(et);t:for(;0<ft;){var Gt=ft-1>>>1,Xt=G[Gt];if(0<l(Xt,et))G[Gt]=et,G[ft]=Xt,ft=Gt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var et=G[0],ft=G.pop();if(ft!==et){G[0]=ft;t:for(var Gt=0,Xt=G.length,O=Xt>>>1;Gt<O;){var K=2*(Gt+1)-1,nt=G[K],rt=K+1,Et=G[rt];if(0>l(nt,ft))rt<Xt&&0>l(Et,nt)?(G[Gt]=Et,G[rt]=ft,Gt=rt):(G[Gt]=nt,G[K]=ft,Gt=K);else if(rt<Xt&&0>l(Et,ft))G[Gt]=Et,G[rt]=ft,Gt=rt;else break t}}return et}function l(G,et){var ft=G.sortIndex-et.sortIndex;return ft!==0?ft:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var p=[],_=[],b=1,S=null,M=3,H=!1,J=!1,it=!1,tt=!1,pt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Vt(G){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=G)a(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=i(_)}}function re(G){if(it=!1,Vt(G),!J)if(i(p)!==null)J=!0,kt||(kt=!0,k());else{var et=i(_);et!==null&&Se(re,et.startTime-G)}}var kt=!1,I=-1,A=5,x=-1;function V(){return tt?!0:!(s.unstable_now()-x<A)}function N(){if(tt=!1,kt){var G=s.unstable_now();x=G;var et=!0;try{t:{J=!1,it&&(it=!1,wt(I),I=-1),H=!0;var ft=M;try{e:{for(Vt(G),S=i(p);S!==null&&!(S.expirationTime>G&&V());){var Gt=S.callback;if(typeof Gt=="function"){S.callback=null,M=S.priorityLevel;var Xt=Gt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Xt=="function"){S.callback=Xt,Vt(G),et=!0;break e}S===i(p)&&a(p),Vt(G)}else a(p);S=i(p)}if(S!==null)et=!0;else{var O=i(_);O!==null&&Se(re,O.startTime-G),et=!1}}break t}finally{S=null,M=ft,H=!1}et=void 0}}finally{et?k():kt=!1}}}var k;if(typeof yt=="function")k=function(){yt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Kt=w.port2;w.port1.onmessage=N,k=function(){Kt.postMessage(null)}}else k=function(){pt(N,0)};function Se(G,et){I=pt(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ft=M;M=et;try{return G()}finally{M=ft}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return et()}finally{M=ft}},s.unstable_scheduleCallback=function(G,et,ft){var Gt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Gt+ft:Gt):ft=Gt,G){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=ft+Xt,G={id:b++,callback:et,priorityLevel:G,startTime:ft,expirationTime:Xt,sortIndex:-1},ft>Gt?(G.sortIndex=ft,t(_,G),i(p)===null&&G===i(_)&&(it?(wt(I),I=-1):it=!0,Se(re,ft-Gt))):(G.sortIndex=Xt,t(p,G),J||H||(J=!0,kt||(kt=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var et=M;return function(){var ft=M;M=et;try{return G.apply(this,arguments)}finally{M=ft}}}})(Ld)),Ld}var j_;function Db(){return j_||(j_=1,Ud.exports=Nb()),Ud.exports}var zd={exports:{}},sn={};var B_;function Ob(){if(B_)return sn;B_=1;var s=Am();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,b)},sn.flushSync=function(p){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=b,a.d.f()}},sn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},sn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},sn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:H}):b==="script"&&a.d.X(p,{crossOrigin:S,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},sn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin);a.d.L(p,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},sn.requestFormReset=function(p){a.d.r(p)},sn.unstable_batchedUpdates=function(p,_){return p(_)},sn.useFormState=function(p,_,b){return d.H.useFormState(p,_,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var q_;function Mb(){if(q_)return zd.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zd.exports=Ob(),zd.exports}var H_;function Vb(){if(H_)return Tl;H_=1;var s=Db(),t=Am(),i=Mb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case pt:return"Profiler";case tt:return"StrictMode";case re:return"Suspense";case kt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case yt:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Kt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Kt(e(n))}catch{}}return null}var Se=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Gt=[],Xt=-1;function O(e){return{current:e}}function K(e){0>Xt||(e.current=Gt[Xt],Gt[Xt]=null,Xt--)}function nt(e,n){Xt++,Gt[Xt]=e.current,e.current=n}var rt=O(null),Et=O(null),Rt=O(null),Ut=O(null);function Ae(e,n){switch(nt(Rt,n),nt(Et,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=r_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function Z(){K(rt),K(Et),K(Rt)}function st(e){e.memoizedState!==null&&nt(Ut,e);var n=rt.current,r=r_(n,e.type);n!==r&&(nt(Et,e),nt(rt,r))}function ct(e){Et.current===e&&(K(rt),K(Et)),Ut.current===e&&(K(Ut),pl._currentValue=ft)}var Ct,Jt;function Ot(e){if(Ct===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ct=n&&n[1]||"",Jt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+e+Jt}var lt=!1;function _t(e,n){if(!e||lt)return"";lt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{lt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ot(r):""}function Mt(e,n){switch(e.tag){case 26:case 27:case 5:return Ot(e.type);case 16:return Ot("Lazy");case 13:return e.child!==n&&n!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return _t(e.type,!1);case 11:return _t(e.type.render,!1);case 1:return _t(e.type,!0);case 31:return Ot("Activity");default:return""}}function ye(e){try{var n="",r=null;do n+=Mt(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var It=Object.prototype.hasOwnProperty,Yt=s.unstable_scheduleCallback,un=s.unstable_cancelCallback,kn=s.unstable_shouldYield,Un=s.unstable_requestPaint,cn=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,vo=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,kh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,Wn=null,Ye=null;function Ln(e){if(typeof nu=="function"&&iu(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Wn,e)}catch{}}var we=Math.clz32?Math.clz32:ru,su=Math.log,ia=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/ia|0)|0}var gi=256,vr=262144,Ne=4194304;function pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=pi(o):(g&=E,g!==0?h=pi(g):r||(r=E&~e,r!==0&&(h=pi(r))))):(E=o&~f,E!==0?h=pi(E):g!==0?h=pi(g):r||(r=o&~e,r!==0&&(h=pi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ti(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function _i(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-we(r),Y=1<<F;E[F]=0,R[F]=-1;var j=P[F];if(j!==null)for(P[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&Tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Tr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-we(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function To(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-we(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function bo(e,n){var r=n&-n;return r=(r&42)!==0?1:br(r),(r&(e.suspendedLanes|n))!==0?0:r}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function ei(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var ni=Math.random().toString(36).slice(2),De="__reactFiber$"+ni,Ge="__reactProps$"+ni,vi="__reactContainer$"+ni,sa="__reactEvents$"+ni,zh="__reactListeners$"+ni,lu="__reactHandles$"+ni,uu="__reactResources$"+ni,Ei="__reactMarker$"+ni;function ra(e){delete e[De],delete e[Ge],delete e[sa],delete e[zh],delete e[lu]}function Ti(e){var n=e[De];if(n)return n;for(var r=e.parentNode;r;){if(n=r[vi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=f_(e);e!==null;){if(r=e[De])return r;e=f_(e)}return n}e=r,r=e.parentNode}return null}function zn(e){if(e=e[De]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bi(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Oe(e){e[Ei]=!0}var So=new Set,Ao={};function Si(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(Ao[e]=n,e=0;e<n.length;e++)So.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Co={};function cu(e){return It.call(Co,e)?!0:It.call(Ro,e)?!1:wo.test(e)?Co[e]=!0:(Ro[e]=!0,!1)}function aa(e,n,r){if(cu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function An(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Me(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ne(e){if(!e._valueTracker){var n=Ts(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function Sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Ts(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ar=/[\n"\\]/g;function mn(e){return e.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Fe(n)):e.value!==""+Fe(n)&&(e.value=""+Fe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?xo(e,g,Fe(n)):r!=null?xo(e,g,Fe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Fe(E):e.removeAttribute("name")}function hu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ne(e);return}r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ne(e)}function xo(e,n,r){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,r){if(n!=null&&(n=""+Fe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Fe(r):""}function Ss(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Se(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Fe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ne(e)}function gn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Do(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ii(){}var Oo=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,Ri=null;function wr(e){var n=zn(e);if(n&&(e=n.stateNode)){var r=e[Ge]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ge]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Sr(o)}break t;case"textarea":fu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&bs(e,!!r.multiple,n,!1)}}}var ca=!1;function Rs(e,n,r){if(ca)return e(n,r);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(ws!==null||Ri!==null)&&(oc(),ws&&(n=ws,e=Ri,Ri=ws=null,wr(n),e)))for(n=0;n<e.length;n++)wr(e[n])}}function si(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ge]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(jn)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Rr=!1}var Ci=null,Mo=null,Cr=null;function Vo(){if(Cr)return Cr;var e,n=Mo,r=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Cr=h.slice(e,1<o?1-o:void 0)}function Ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function ri(){return!1}function Xe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ri,this.isPropagationStopped=ri,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Xe(Ki),Cs=S({},Ki,{view:0,detail:0}),ko=Xe(Cs),Is,ha,xi,fa=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Is=e.screenX-xi.screenX,ha=e.screenY-xi.screenY):ha=Is=0,xi=e),Is)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Uo=Xe(fa),xr=S({},fa,{dataTransfer:0}),gu=Xe(xr),pu=S({},Cs,{relatedTarget:0}),Nr=Xe(pu),Lo=S({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Xe(Lo),da=S({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Xe(da),vu=S({},Ki,{data:0}),Ni=Xe(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function xs(){return Su}var hn=S({},Cs,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Xe(hn),wu=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Xe(wu),u=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Xe(u),v=S({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(v),L=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xe(L),W=S({},Ki,{newState:0,oldState:0}),xt=Xe(W),Re=[9,13,27,32],Wt=jn&&"CompositionEvent"in window,ge=null;jn&&"documentMode"in document&&(ge=document.documentMode);var Bn=jn&&"TextEvent"in window&&!ge,Di=jn&&(!Wt||ge&&8<ge&&11>=ge),ai=" ",oi=!1;function Dr(e,n){switch(e){case"keyup":return Re.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function ZT(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(oi=!0,ai);case"textInput":return e=n.data,e===ai&&oi?null:e;default:return null}}function JT(e,n){if(ga)return e==="compositionend"||!Wt&&Dr(e,n)?(e=Vo(),Cr=Mo=Ci=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!WT[e.type]:n==="textarea"}function pg(e,n,r,o){ws?Ri?Ri.push(o):Ri=[o]:ws=o,n=mc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var zo=null,Po=null;function t1(e){Jy(e,0)}function Ru(e){var n=Sn(e);if(Sr(n))return e}function yg(e,n){if(e==="change")return n}var _g=!1;if(jn){var Ph;if(jn){var jh="oninput"in document;if(!jh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),jh=typeof vg.oninput=="function"}Ph=jh}else Ph=!1;_g=Ph&&(!document.documentMode||9<document.documentMode)}function Eg(){zo&&(zo.detachEvent("onpropertychange",Tg),Po=zo=null)}function Tg(e){if(e.propertyName==="value"&&Ru(Po)){var n=[];pg(n,Po,e,Pn(e)),Rs(t1,n)}}function e1(e,n,r){e==="focusin"?(Eg(),zo=n,Po=r,zo.attachEvent("onpropertychange",Tg)):e==="focusout"&&Eg()}function n1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Po)}function i1(e,n){if(e==="click")return Ru(n)}function s1(e,n){if(e==="input"||e==="change")return Ru(n)}function r1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:r1;function jo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!It.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sg(e,n){var r=bg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bg(r)}}function Ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=wi(e.document)}return n}function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var a1=jn&&"documentMode"in document&&11>=document.documentMode,pa=null,qh=null,Bo=null,Hh=!1;function Rg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||pa==null||pa!==wi(o)||(o=pa,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=mc(qh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=pa)))}function Or(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ya={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Gh={},Cg={};jn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Mr(e){if(Gh[e])return Gh[e];if(!ya[e])return e;var n=ya[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cg)return Gh[e]=n[r];return e}var Ig=Mr("animationend"),xg=Mr("animationiteration"),Ng=Mr("animationstart"),o1=Mr("transitionrun"),l1=Mr("transitionstart"),u1=Mr("transitioncancel"),Dg=Mr("transitionend"),Og=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function li(e,n){Og.set(e,n),Si(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],_a=0,Qh=0;function Iu(){for(var e=_a,n=Qh=_a=0;n<e;){var r=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Mg(r,h,f)}}function xu(e,n,r,o){qn[_a++]=e,qn[_a++]=n,qn[_a++]=r,qn[_a++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,r,o){return xu(e,n,r,o),Nu(e)}function Vr(e,n){return xu(e,null,null,n),Nu(e)}function Mg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-we(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Nu(e){if(50<ul)throw ul=0,id=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function c1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,r,o){return new c1(e,n,r,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xi(e,n){var r=e.alternate;return r===null?(r=Rn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Vg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Yh(e)&&(g=1);else if(typeof e=="string")g=gb(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=Rn(31,r,n,h),e.elementType=x,e.lanes=f,e;case it:return kr(r.children,h,f,n);case tt:g=8,h|=24;break;case pt:return e=Rn(12,r,n,h|2),e.elementType=pt,e.lanes=f,e;case re:return e=Rn(13,r,n,h),e.elementType=re,e.lanes=f,e;case kt:return e=Rn(19,r,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case wt:g=9;break t;case Vt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Rn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function kr(e,n,r,o){return e=Rn(7,e,o,n),e.lanes=r,e}function Xh(e,n,r){return e=Rn(6,e,null,n),e.lanes=r,e}function kg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function $h(e,n,r){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ug=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var r=Ug.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ye(n)},Ug.set(e,n),n)}return{value:e,source:n,stack:ye(n)}}var Ea=[],Ta=0,Ou=null,qo=0,Gn=[],Fn=0,Ns=null,Oi=1,Mi="";function $i(e,n){Ea[Ta++]=qo,Ea[Ta++]=Ou,Ou=e,qo=n}function Lg(e,n,r){Gn[Fn++]=Oi,Gn[Fn++]=Mi,Gn[Fn++]=Ns,Ns=e;var o=Oi;e=Mi;var h=32-we(o)-1;o&=~(1<<h),r+=1;var f=32-we(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Oi=1<<32-we(n)+h|r<<h|o,Mi=f+e}else Oi=1<<f|r<<h|o,Mi=e}function Zh(e){e.return!==null&&($i(e,1),Lg(e,1,0))}function Jh(e){for(;e===Ou;)Ou=Ea[--Ta],Ea[Ta]=null,qo=Ea[--Ta],Ea[Ta]=null;for(;e===Ns;)Ns=Gn[--Fn],Gn[Fn]=null,Mi=Gn[--Fn],Gn[Fn]=null,Oi=Gn[--Fn],Gn[Fn]=null}function zg(e,n){Gn[Fn++]=Oi,Gn[Fn++]=Mi,Gn[Fn++]=Ns,Oi=n.id,Mi=n.overflow,Ns=e}var $e=null,fe=null,Ft=!1,Ds=null,Qn=!1,Wh=Error(a(519));function Os(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Hn(n,e)),Wh}function Pg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[De]=e,n[Ge]=o,r){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(r=0;r<hl.length;r++)zt(hl[r],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||n_(n.textContent,r)?(o.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),o.onScroll!=null&&zt("scroll",n),o.onScrollEnd!=null&&zt("scrollend",n),o.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Os(e,!0)}function jg(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$e=$e.return}}function ba(e){if(e!==$e)return!1;if(!Ft)return jg(e),Ft=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||_d(e.type,e.memoizedProps)),r=!r),r&&fe&&Os(e),jg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=h_(e)}else n===27?(n=fe,Qs(e.type)?(e=Sd,Sd=null,fe=e):fe=n):fe=$e?Yn(e.stateNode.nextSibling):null;return!0}function Ur(){fe=$e=null,Ft=!1}function tf(){var e=Ds;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),Ds=null),e}function Ho(e){Ds===null?Ds=[e]:Ds.push(e)}var ef=O(null),Lr=null,Zi=null;function Ms(e,n,r){nt(ef,n._currentValue),n._currentValue=r}function Ji(e){e._currentValue=ef.current,K(ef)}function nf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function sf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),nf(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),nf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&sf(n,e,r,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zr(e){Lr=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return Bg(Lr,e)}function Vu(e,n){return Lr===null&&zr(e),Bg(e,n)}function Bg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Zi===null){if(e===null)throw Error(a(308));Zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Zi=Zi.next=n;return r}var h1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},f1=s.unstable_scheduleCallback,d1=s.unstable_NormalPriority,Ve={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new h1,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&f1(d1,function(){e.controller.abort()})}var Fo=null,af=0,Aa=0,wa=null;function m1(e,n){if(Fo===null){var r=Fo=[];af=0,Aa=ud(),wa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return af++,n.then(qg,qg),n}function qg(){if(--af===0&&Fo!==null){wa!==null&&(wa.status="fulfilled");var e=Fo;Fo=null,Aa=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function g1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Hg=G.S;G.S=function(e,n){Ry=cn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&m1(e,n),Hg!==null&&Hg(e,n)};var Pr=O(null);function of(){var e=Pr.current;return e!==null?e:ce.pooledCache}function ku(e,n){n===null?nt(Pr,Pr.current):nt(Pr,n.pool)}function Gg(){var e=of();return e===null?null:{parent:Ve._currentValue,pool:e}}var Ra=Error(a(460)),lf=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function Fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ii,ii),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e;default:if(typeof n.status=="string")n.then(ii,ii);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e}throw Br=n,Ra}}function jr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Br=r,Ra):r}}var Br=null;function Kg(){if(Br===null)throw Error(a(459));var e=Br;return Br=null,e}function Yg(e){if(e===Ra||e===Uu)throw Error(a(483))}var Ca=null,Qo=0;function zu(e){var n=Qo;return Qo+=1,Ca===null&&(Ca=[]),Qg(Ca,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xg(e){function n(U,D){if(e){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function r(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Xi(U,D),U.index=0,U.sibling=null,U}function f(U,D,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=67108866,D):z):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,z,Q){return D===null||D.tag!==6?(D=Xh(z,U.mode,Q),D.return=U,D):(D=h(D,z),D.return=U,D)}function R(U,D,z,Q){var dt=z.type;return dt===it?F(U,D,z.props.children,Q,z.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&jr(dt)===D.type)?(D=h(D,z.props),Ko(D,z),D.return=U,D):(D=Du(z.type,z.key,z.props,null,U.mode,Q),Ko(D,z),D.return=U,D)}function P(U,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=$h(z,U.mode,Q),D.return=U,D):(D=h(D,z.children||[]),D.return=U,D)}function F(U,D,z,Q,dt){return D===null||D.tag!==7?(D=kr(z,U.mode,Q,dt),D.return=U,D):(D=h(D,z),D.return=U,D)}function Y(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xh(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return z=Du(D.type,D.key,D.props,null,U.mode,z),Ko(z,D),z.return=U,z;case J:return D=$h(D,U.mode,z),D.return=U,D;case A:return D=jr(D),Y(U,D,z)}if(Se(D)||k(D))return D=kr(D,U.mode,z,null),D.return=U,D;if(typeof D.then=="function")return Y(U,zu(D),z);if(D.$$typeof===yt)return Y(U,Vu(U,D),z);Pu(U,D)}return null}function j(U,D,z,Q){var dt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:E(U,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case H:return z.key===dt?R(U,D,z,Q):null;case J:return z.key===dt?P(U,D,z,Q):null;case A:return z=jr(z),j(U,D,z,Q)}if(Se(z)||k(z))return dt!==null?null:F(U,D,z,Q,null);if(typeof z.then=="function")return j(U,D,zu(z),Q);if(z.$$typeof===yt)return j(U,D,Vu(U,z),Q);Pu(U,z)}return null}function q(U,D,z,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(z)||null,E(D,U,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return U=U.get(Q.key===null?z:Q.key)||null,R(D,U,Q,dt);case J:return U=U.get(Q.key===null?z:Q.key)||null,P(D,U,Q,dt);case A:return Q=jr(Q),q(U,D,z,Q,dt)}if(Se(Q)||k(Q))return U=U.get(z)||null,F(D,U,Q,dt,null);if(typeof Q.then=="function")return q(U,D,z,zu(Q),dt);if(Q.$$typeof===yt)return q(U,D,z,Vu(D,Q),dt);Pu(D,Q)}return null}function ot(U,D,z,Q){for(var dt=null,$t=null,ut=D,Dt=D=0,jt=null;ut!==null&&Dt<z.length;Dt++){ut.index>Dt?(jt=ut,ut=null):jt=ut.sibling;var Zt=j(U,ut,z[Dt],Q);if(Zt===null){ut===null&&(ut=jt);break}e&&ut&&Zt.alternate===null&&n(U,ut),D=f(Zt,D,Dt),$t===null?dt=Zt:$t.sibling=Zt,$t=Zt,ut=jt}if(Dt===z.length)return r(U,ut),Ft&&$i(U,Dt),dt;if(ut===null){for(;Dt<z.length;Dt++)ut=Y(U,z[Dt],Q),ut!==null&&(D=f(ut,D,Dt),$t===null?dt=ut:$t.sibling=ut,$t=ut);return Ft&&$i(U,Dt),dt}for(ut=o(ut);Dt<z.length;Dt++)jt=q(ut,U,Dt,z[Dt],Q),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?Dt:jt.key),D=f(jt,D,Dt),$t===null?dt=jt:$t.sibling=jt,$t=jt);return e&&ut.forEach(function(Zs){return n(U,Zs)}),Ft&&$i(U,Dt),dt}function gt(U,D,z,Q){if(z==null)throw Error(a(151));for(var dt=null,$t=null,ut=D,Dt=D=0,jt=null,Zt=z.next();ut!==null&&!Zt.done;Dt++,Zt=z.next()){ut.index>Dt?(jt=ut,ut=null):jt=ut.sibling;var Zs=j(U,ut,Zt.value,Q);if(Zs===null){ut===null&&(ut=jt);break}e&&ut&&Zs.alternate===null&&n(U,ut),D=f(Zs,D,Dt),$t===null?dt=Zs:$t.sibling=Zs,$t=Zs,ut=jt}if(Zt.done)return r(U,ut),Ft&&$i(U,Dt),dt;if(ut===null){for(;!Zt.done;Dt++,Zt=z.next())Zt=Y(U,Zt.value,Q),Zt!==null&&(D=f(Zt,D,Dt),$t===null?dt=Zt:$t.sibling=Zt,$t=Zt);return Ft&&$i(U,Dt),dt}for(ut=o(ut);!Zt.done;Dt++,Zt=z.next())Zt=q(ut,U,Dt,Zt.value,Q),Zt!==null&&(e&&Zt.alternate!==null&&ut.delete(Zt.key===null?Dt:Zt.key),D=f(Zt,D,Dt),$t===null?dt=Zt:$t.sibling=Zt,$t=Zt);return e&&ut.forEach(function(Rb){return n(U,Rb)}),Ft&&$i(U,Dt),dt}function ue(U,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===it&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case H:t:{for(var dt=z.key;D!==null;){if(D.key===dt){if(dt=z.type,dt===it){if(D.tag===7){r(U,D.sibling),Q=h(D,z.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&jr(dt)===D.type){r(U,D.sibling),Q=h(D,z.props),Ko(Q,z),Q.return=U,U=Q;break t}r(U,D);break}else n(U,D);D=D.sibling}z.type===it?(Q=kr(z.props.children,U.mode,Q,z.key),Q.return=U,U=Q):(Q=Du(z.type,z.key,z.props,null,U.mode,Q),Ko(Q,z),Q.return=U,U=Q)}return g(U);case J:t:{for(dt=z.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(U,D.sibling),Q=h(D,z.children||[]),Q.return=U,U=Q;break t}else{r(U,D);break}else n(U,D);D=D.sibling}Q=$h(z,U.mode,Q),Q.return=U,U=Q}return g(U);case A:return z=jr(z),ue(U,D,z,Q)}if(Se(z))return ot(U,D,z,Q);if(k(z)){if(dt=k(z),typeof dt!="function")throw Error(a(150));return z=dt.call(z),gt(U,D,z,Q)}if(typeof z.then=="function")return ue(U,D,zu(z),Q);if(z.$$typeof===yt)return ue(U,D,Vu(U,z),Q);Pu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(U,D.sibling),Q=h(D,z),Q.return=U,U=Q):(r(U,D),Q=Xh(z,U.mode,Q),Q.return=U,U=Q),g(U)):r(U,D)}return function(U,D,z,Q){try{Qo=0;var dt=ue(U,D,z,Q);return Ca=null,dt}catch(ut){if(ut===Ra||ut===Uu)throw ut;var $t=Rn(29,ut,null,U.mode);return $t.lanes=Q,$t.return=U,$t}}}var qr=Xg(!0),$g=Xg(!1),Vs=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Us(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Mg(e,null,r),n}return xu(e,o,n,r),Nu(e)}function Yo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,To(e,r)}}function hf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var ff=!1;function Xo(){if(ff){var e=wa;if(e!==null)throw e}}function $o(e,n,r,o){ff=!1;var h=e.updateQueue;Vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=P=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Pt&j)===j:(o&j)===j){j!==0&&j===Aa&&(ff=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;j=n;var ue=r;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){Y=ot.call(ue,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(ue,Y,j):ot,j==null)break t;Y=S({},Y,j);break t;case 2:Vs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,R=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Bs|=g,e.lanes=g,e.memoizedState=Y}}function Zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Zg(r[e],n)}var Ia=O(null),ju=O(0);function Wg(e,n){e=os,nt(ju,e),nt(Ia,n),os=e|n.baseLanes}function df(){nt(ju,os),nt(Ia,Ia.current)}function mf(){os=ju.current,K(Ia),K(ju)}var Cn=O(null),Kn=null;function Ls(e){var n=e.alternate;nt(Ce,Ce.current&1),nt(Cn,e),Kn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(Kn=e)}function gf(e){nt(Ce,Ce.current),nt(Cn,e),Kn===null&&(Kn=e)}function tp(e){e.tag===22?(nt(Ce,Ce.current),nt(Cn,e),Kn===null&&(Kn=e)):zs()}function zs(){nt(Ce,Ce.current),nt(Cn,Cn.current)}function In(e){K(Cn),Kn===e&&(Kn=null),K(Ce)}var Ce=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||bd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Nt=null,oe=null,ke=null,qu=!1,xa=!1,Hr=!1,Hu=0,Zo=0,Na=null,p1=0;function Te(){throw Error(a(321))}function pf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!wn(e[r],n[r]))return!1;return!0}function yf(e,n,r,o,h,f){return Wi=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Lp:Of,Hr=!1,f=r(o,h),Hr=!1,xa&&(f=np(n,r,o,h)),ep(e),f}function ep(e){G.H=tl;var n=oe!==null&&oe.next!==null;if(Wi=0,ke=oe=Nt=null,qu=!1,Zo=0,Na=null,n)throw Error(a(300));e===null||Ue||(e=e.dependencies,e!==null&&Mu(e)&&(Ue=!0))}function np(e,n,r,o){Nt=e;var h=0;do{if(xa&&(Na=null),Zo=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,ke=oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=zp,f=n(r,o)}while(xa);return f}function y1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Nt.flags|=1024),n}function _f(){var e=Hu!==0;return Hu=0,e}function vf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Ef(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}Wi=0,ke=oe=Nt=null,xa=!1,Zo=Hu=0,Na=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Nt.memoizedState=ke=e:ke=ke.next=e,ke}function Ie(){if(oe===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var n=ke===null?Nt.memoizedState:ke.next;if(n!==null)ke=n,oe=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ke===null?Nt.memoizedState=ke=e:ke=ke.next=e}return ke}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,Na===null&&(Na=[]),e=Qg(Na,e,n),n=Nt,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Lp:Of),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===yt)return Ze(e)}throw Error(a(438,String(e)))}function Tf(e){var n=null,r=Nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function ts(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=Ie();return bf(n,oe,e)}function bf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Pt&Y)===Y:(Wi&Y)===Y){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Aa&&(F=!0);else if((Wi&j)===j){P=P.next,j===Aa&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Nt.lanes|=j,Bs|=j;Y=P.action,Hr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Nt.lanes|=Y,Bs|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!wn(f,e.memoizedState)&&(Ue=!0,F&&(r=wa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Sf(e){var n=Ie(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ip(e,n,r){var o=Nt,h=Ie(),f=Ft;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!wn((oe||h).memoizedState,r);if(g&&(h.memoizedState=r,Ue=!0),h=h.queue,Rf(ap.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||ke!==null&&ke.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},rp.bind(null,o,h,r,n),null),ce===null)throw Error(a(349));f||(Wi&127)!==0||sp(o,n,r)}return r}function sp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Nt.updateQueue,n===null?(n=Gu(),Nt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function rp(e,n,r,o){n.value=r,n.getSnapshot=o,op(n)&&lp(e)}function ap(e,n,r){return r(function(){op(n)&&lp(e)})}function op(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!wn(e,r)}catch{return!0}}function lp(e){var n=Vr(e,2);n!==null&&En(n,e,2)}function Af(e){var n=fn();if(typeof e=="function"){var r=e;if(e=r(),Hr){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},n}function up(e,n,r,o){return e.baseState=r,bf(e,oe,typeof o=="function"?o:ts)}function _1(e,n,r,o,h){if(Xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,cp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function cp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),R=G.S;R!==null&&R(g,E),hp(e,n,E)}catch(P){wf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),hp(e,n,f)}catch(P){wf(e,n,P)}}function hp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){fp(e,n,o)},function(o){return wf(e,n,o)}):fp(e,n,r)}function fp(e,n,r){n.status="fulfilled",n.value=r,dp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,cp(e,r)))}function wf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,dp(n),n=n.next;while(n!==o)}e.action=null}function dp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mp(e,n){return n}function gp(e,n){if(Ft){var r=ce.formState;if(r!==null){t:{var o=Nt;if(Ft){if(fe){e:{for(var h=fe,f=Qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=Yn(h.nextSibling),o=h.data==="F!";break t}}Os(o)}o=!1}o&&(n=r[0])}}return r=fn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},r.queue=o,r=Vp.bind(null,Nt,o),o.dispatch=r,o=Af(!1),f=Df.bind(null,Nt,!1,o.queue),o=fn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=_1.bind(null,Nt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function pp(e){var n=Ie();return yp(n,oe,e)}function yp(e,n,r){if(n=bf(e,n,mp)[0],e=Qu(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Ra?Uu:g}else o=n;n=Ie();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Nt.flags|=2048,Da(9,{destroy:void 0},v1.bind(null,h,r),null)),[o,f,e]}function v1(e,n){e.action=n}function _p(e){var n=Ie(),r=oe;if(r!==null)return yp(n,r,e);Ie(),n=n.memoizedState,r=Ie();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Da(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Gu(),Nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function vp(){return Ie().memoizedState}function Ku(e,n,r,o){var h=fn();Nt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},r,o===void 0?null:o)}function Yu(e,n,r,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;oe!==null&&o!==null&&pf(o,oe.memoizedState.deps)?h.memoizedState=Da(n,f,r,o):(Nt.flags|=e,h.memoizedState=Da(1|n,f,r,o))}function Ep(e,n){Ku(8390656,8,e,n)}function Rf(e,n){Yu(2048,8,e,n)}function E1(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Gu(),Nt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Tp(e){var n=Ie().memoizedState;return E1({ref:n,nextImpl:e}),function(){if((te&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bp(e,n){return Yu(4,2,e,n)}function Sp(e,n){return Yu(4,4,e,n)}function Ap(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wp(e,n,r){r=r!=null?r.concat([e]):null,Yu(4,4,Ap.bind(null,n,e),r)}function Cf(){}function Rp(e,n){var r=Ie();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Cp(e,n){var r=Ie();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),Hr){Ln(!0);try{e()}finally{Ln(!1)}}return r.memoizedState=[o,n],o}function If(e,n,r){return r===void 0||(Wi&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Iy(),Nt.lanes|=e,Bs|=e,r)}function Ip(e,n,r,o){return wn(r,n)?r:Ia.current!==null?(e=If(e,r,o),wn(e,n)||(Ue=!0),e):(Wi&42)===0||(Wi&1073741824)!==0&&(Pt&261930)===0?(Ue=!0,e.memoizedState=r):(e=Iy(),Nt.lanes|=e,Bs|=e,n)}function xp(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Df(e,!1,n,r);try{var R=h(),P=G.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=g1(R,o);Wo(e,n,F,Dn(e))}else Wo(e,n,o,Dn(e))}catch(Y){Wo(e,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function T1(){}function xf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Np(e).queue;xp(e,h,n,ft,r===null?T1:function(){return Dp(e),r(o)})}function Np(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dp(e){var n=Np(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Dn())}function Nf(){return Ze(pl)}function Op(){return Ie().memoizedState}function Mp(){return Ie().memoizedState}function b1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();e=ks(r);var o=Us(n,e,r);o!==null&&(En(o,n,r),Yo(o,n,r)),n={cache:rf()},e.payload=n;return}n=n.return}}function S1(e,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(e)?kp(n,r):(r=Kh(e,n,r,o),r!==null&&(En(r,e,o),Up(r,n,o)))}function Vp(e,n,r){var o=Dn();Wo(e,n,r,o)}function Wo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))kp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,wn(E,g))return xu(e,n,h,0),ce===null&&Iu(),!1}catch{}if(r=Kh(e,n,h,o),r!==null)return En(r,e,o),Up(r,n,o),!0}return!1}function Df(e,n,r,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(a(479))}else n=Kh(e,r,o,2),n!==null&&En(n,e,2)}function Xu(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function kp(e,n){xa=qu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Up(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,To(e,r)}}var tl={readContext:Ze,use:Fu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};tl.useEffectEvent=Te;var Lp={readContext:Ze,use:Fu,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Ze,useEffect:Ep,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ku(4194308,4,Ap.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var r=fn();n=n===void 0?null:n;var o=e();if(Hr){Ln(!0);try{e()}finally{Ln(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=fn();if(r!==void 0){var h=r(n);if(Hr){Ln(!0);try{r(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=S1.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,r=Vp.bind(null,Nt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(e,n){var r=fn();return If(r,e,n)},useTransition:function(){var e=Af(!1);return e=xp.bind(null,Nt,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Nt,h=fn();if(Ft){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ce===null)throw Error(a(349));(Pt&127)!==0||sp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ep(ap.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},rp.bind(null,o,f,r,n),null),r},useId:function(){var e=fn(),n=ce.identifierPrefix;if(Ft){var r=Mi,o=Oi;r=(o&~(1<<32-we(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=p1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Nf,useFormState:gp,useActionState:gp,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Df.bind(null,Nt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Tf,useCacheRefresh:function(){return fn().memoizedState=b1.bind(null,Nt)},useEffectEvent:function(e){var n=fn(),r={impl:e};return n.memoizedState=r,function(){if((te&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Of={readContext:Ze,use:Fu,useCallback:Rp,useContext:Ze,useEffect:Rf,useImperativeHandle:wp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Cp,useReducer:Qu,useRef:vp,useState:function(){return Qu(ts)},useDebugValue:Cf,useDeferredValue:function(e,n){var r=Ie();return Ip(r,oe.memoizedState,e,n)},useTransition:function(){var e=Qu(ts)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:Nf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var r=Ie();return up(r,oe,e,n)},useMemoCache:Tf,useCacheRefresh:Mp};Of.useEffectEvent=Tp;var zp={readContext:Ze,use:Fu,useCallback:Rp,useContext:Ze,useEffect:Rf,useImperativeHandle:wp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Cp,useReducer:Sf,useRef:vp,useState:function(){return Sf(ts)},useDebugValue:Cf,useDeferredValue:function(e,n){var r=Ie();return oe===null?If(r,e,n):Ip(r,oe.memoizedState,e,n)},useTransition:function(){var e=Sf(ts)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:Nf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var r=Ie();return oe!==null?up(r,oe,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Mp};zp.useEffectEvent=Tp;function Mf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Dn(),h=ks(o);h.payload=n,r!=null&&(h.callback=r),n=Us(e,h,o),n!==null&&(En(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Dn(),h=ks(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Us(e,h,o),n!==null&&(En(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Dn(),o=ks(r);o.tag=2,n!=null&&(o.callback=n),n=Us(e,o,r),n!==null&&(En(n,e,r),Yo(n,e,r))}};function Pp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!jo(r,o)||!jo(h,f):!0}function jp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function Gr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Bp(e){Cu(e)}function qp(e){console.error(e)}function Hp(e){Cu(e)}function $u(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(e,n,r){return r=ks(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(e,n)},r}function Fp(e){return e=ks(e),e.tag=3,e}function Qp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Gp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Gp(n,r,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function A1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Sa(n,r,h,!0),r=Cn.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?lc():r.alternate===null&&be===0&&(be=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ad(e,o,h)),!1;case 22:return r.flags|=65536,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ad(e,o,h)),!1}throw Error(a(435,r.tag))}return ad(e,o,h),lc(),!1}if(Ft)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(e=Error(a(422),{cause:o}),Ho(Hn(e,r)))):(o!==Wh&&(n=Error(a(423),{cause:o}),Ho(Hn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Hn(o,r),h=kf(e.stateNode,o,h),hf(e,h),be!==4&&(be=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,r),ll===null?ll=[f]:ll.push(f),be!==4&&(be=2),n===null)return!0;o=Hn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=kf(r.stateNode,o,e),hf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fp(h),Qp(h,e,r,o),hf(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),Ue=!1;function Je(e,n,r,o){n.child=e===null?$g(n,null,r,o):qr(n,e.child,r,o)}function Kp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return zr(n),o=yf(e,n,r,g,f,h),E=_f(),e!==null&&!Ue?(vf(e,n,h),es(e,n,h)):(Ft&&E&&Zh(n),n.flags|=1,Je(e,n,o,h),n.child)}function Yp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xp(e,n,f,o,h)):(e=Du(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Gf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(g,o)&&e.ref===n.ref)return es(e,n,h)}return n.flags|=1,e=Xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=o=f,Gf(e,h))(e.flags&131072)!==0&&(Ue=!0);else return n.lanes=e.lanes,es(e,n,h)}return Lf(e,n,r,o,h)}function $p(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):df(),tp(n);else return o=n.lanes=536870912,Zp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ku(n,f.cachePool),Wg(n,f),zs(),n.memoizedState=null):(e!==null&&ku(n,null),df(),zs());return Je(e,n,h,r),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(e,n,r,o,h){var f=of();return f=f===null?null:{parent:Ve._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&ku(n,null),df(),tp(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jp(e,n,r){return qr(n,e.child,null,r),e=Zu(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function w1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ft){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,el(null,e);if(gf(n),(e=fe)?(e=c_(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=kg(e),r.return=n,n.child=r,$e=n,fe=null)):e=null,e===null)throw Os(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=Jp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ue||Sa(e,n,r,!1),h=(r&e.childLanes)!==0,Ue||h){if(o=ce,o!==null&&(g=bo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Vr(e,g),En(o,e,g),Uf;lc(),n=Jp(e,n,r)}else e=f.treeContext,fe=Yn(g.nextSibling),$e=n,Ft=!0,Ds=null,Qn=!1,e!==null&&zg(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=Xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Lf(e,n,r,o,h){return zr(n),r=yf(e,n,r,o,void 0,h),o=_f(),e!==null&&!Ue?(vf(e,n,h),es(e,n,h)):(Ft&&o&&Zh(n),n.flags|=1,Je(e,n,r,h),n.child)}function Wp(e,n,r,o,h,f){return zr(n),n.updateQueue=null,r=np(n,o,r,h),ep(e),o=_f(),e!==null&&!Ue?(vf(e,n,f),es(e,n,f)):(Ft&&o&&Zh(n),n.flags|=1,Je(e,n,r,f),n.child)}function ty(e,n,r,o,h){if(zr(n),n.stateNode===null){var f=va,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ze(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ze(g):va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Mf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Gr(r,E);f.props=R;var P=f.context,F=r.contextType;g=va,typeof F=="object"&&F!==null&&(g=Ze(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&jp(n,f,o,g),Vs=!1;var j=n.memoizedState;f.state=j,$o(n,o,f,h),Xo(),P=n.memoizedState,E||j!==P||Vs?(typeof Y=="function"&&(Mf(n,r,Y,o),P=n.memoizedState),(R=Vs||Pp(n,r,R,o,j,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(e,n),g=n.memoizedProps,F=Gr(r,g),f.props=F,Y=n.pendingProps,j=f.context,P=r.contextType,R=va,typeof P=="object"&&P!==null&&(R=Ze(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&jp(n,f,o,R),Vs=!1,j=n.memoizedState,f.state=j,$o(n,o,f,h),Xo();var q=n.memoizedState;g!==Y||j!==q||Vs||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Mf(n,r,E,o),q=n.memoizedState),(F=Vs||Pp(n,r,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qr(n,e.child,null,h),n.child=qr(n,null,r,h)):Je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=es(e,n,h),e}function ey(e,n,r,o){return Ur(),n.flags|=256,Je(e,n,r,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Gg()}}function jf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Nn),e}function ny(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?Ls(n):zs(),(e=fe)?(e=c_(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=kg(e),r.return=n,n.child=r,$e=n,fe=null)):e=null,e===null)throw Os(n);return bd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(zs(),h=n.mode,E=Wu({mode:"hidden",children:E},h),o=kr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(r),o.childLanes=jf(e,g,r),n.memoizedState=zf,el(null,o)):(Ls(n),Bf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=qf(e,n,r)):n.memoizedState!==null?(zs(),n.child=e.child,n.flags|=128,n=null):(zs(),E=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),E=kr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qr(n,e.child,null,r),o=n.child,o.memoizedState=Pf(r),o.childLanes=jf(e,g,r),n.memoizedState=zf,n=el(null,o));else if(Ls(n),bd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=qf(e,n,r)}else if(Ue||Sa(e,n,r,!1),g=(r&e.childLanes)!==0,Ue||g){if(g=ce,g!==null&&(o=bo(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Vr(e,o),En(g,e,o),Uf;Td(E)||lc(),n=qf(e,n,r)}else Td(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,fe=Yn(E.nextSibling),$e=n,Ft=!0,Ds=null,Qn=!1,e!==null&&zg(n,e),n=Bf(n,o.children),n.flags|=4096);return n}return h?(zs(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Xi(P,E):(E=kr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(R=Ve._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=jf(e,g,r),n.memoizedState=zf,el(e.child,o)):(Ls(n),r=e.child,e=r.sibling,r=Xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Bf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function qf(e,n,r){return qr(n,e.child,null,r),e=Bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),nf(e.return,n,r)}function Hf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function sy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ce.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(Ce,g),Je(e,n,o,r),o=Ft?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,r,n);else if(e.tag===19)iy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Bu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Hf(n,!0,r,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function es(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Bs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Sa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Xi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Xi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Gf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function R1(e,n,r){switch(n.tag){case 3:Ae(n,n.stateNode.containerInfo),Ms(n,Ve,e.memoizedState.cache),Ur();break;case 27:case 5:st(n);break;case 4:Ae(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ny(e,n,r):(Ls(n),e=es(e,n,r),e!==null?e.sibling:null);Ls(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Sa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return sy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Ce,Ce.current),o)break;return null;case 22:return n.lanes=0,$p(e,n,r,n.pendingProps);case 24:Ms(n,Ve,e.memoizedState.cache)}return es(e,n,r)}function ry(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ue=!0;else{if(!Gf(e,r)&&(n.flags&128)===0)return Ue=!1,R1(e,n,r);Ue=(e.flags&131072)!==0}else Ue=!1,Ft&&(n.flags&1048576)!==0&&Lg(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=jr(n.elementType),n.type=e,typeof e=="function")Yh(e)?(o=Gr(e,o),n.tag=1,n=ty(null,n,e,o,r)):(n.tag=0,n=Lf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Vt){n.tag=11,n=Kp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Yp(null,n,e,o,r);break t}}throw n=Kt(e)||e,Error(a(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Gr(o,n.pendingProps),ty(e,n,o,h,r);case 3:t:{if(Ae(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(e,n),$o(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ms(n,Ve,o),o!==f.cache&&sf(n,[Ve],r,!0),Xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,r);break t}else if(o!==h){h=Hn(Error(a(424)),n),Ho(h),n=ey(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Yn(e.firstChild),$e=n,Ft=!0,Ds=null,Qn=!0,r=$g(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ur(),o===h){n=es(e,n,r);break t}Je(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=p_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ft||(r=n.type,e=n.pendingProps,o=gc(Rt.current).createElement(r),o[De]=n,o[Ge]=e,We(o,r,e),Oe(o),n.stateNode=o):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return st(n),e===null&&Ft&&(o=n.stateNode=d_(n.type,n.pendingProps,Rt.current),$e=n,Qn=!0,h=fe,Qs(n.type)?(Sd=h,fe=Yn(o.firstChild)):fe=h),Je(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((h=o=fe)&&(o=nb(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,$e=n,fe=Yn(o.firstChild),Qn=!1,h=!0):h=!1),h||Os(n)),st(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,_d(h,f)?o=null:g!==null&&_d(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(e,n,y1,null,null,r),pl._currentValue=h),Ju(e,n),Je(e,n,o,r),n.child;case 6:return e===null&&Ft&&((e=r=fe)&&(r=ib(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,$e=n,fe=null,e=!0):e=!1),e||Os(n)),null;case 13:return ny(e,n,r);case 4:return Ae(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qr(n,null,o,r):Je(e,n,o,r),n.child;case 11:return Kp(e,n,n.type,n.pendingProps,r);case 7:return Je(e,n,n.pendingProps,r),n.child;case 8:return Je(e,n,n.pendingProps.children,r),n.child;case 12:return Je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),Je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Ze(h),o=o(h),n.flags|=1,Je(e,n,o,r),n.child;case 14:return Yp(e,n,n.type,n.pendingProps,r);case 15:return Xp(e,n,n.type,n.pendingProps,r);case 19:return sy(e,n,r);case 31:return w1(e,n,r);case 22:return $p(e,n,r,n.pendingProps);case 24:return zr(n),o=Ze(Ve),e===null?(h=of(),h===null&&(h=ce,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},uf(n),Ms(n,Ve,h)):((e.lanes&r)!==0&&(cf(e,n),$o(n,null,null,r),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,Ve,o)):(o=f.cache,Ms(n,Ve,o),o!==h.cache&&sf(n,[Ve],r,!0))),Je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ns(e){e.flags|=4}function Ff(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Oy())e.flags|=8192;else throw Br=Lu,lf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(Oy())e.flags|=8192;else throw Br=Lu,lf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,ka|=n)}function nl(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function C1(e,n,r){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ji(Ve),Z(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ba(n)?ns(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ns(n),f!==null?(de(n),ay(n,f)):(de(n),Ff(n,h,null,o,r))):f?f!==e.memoizedState?(ns(n),de(n),ay(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ns(n),de(n),Ff(n,h,e,o,r)),null;case 27:if(ct(n),r=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=rt.current,ba(n)?Pg(n):(e=d_(h,o,r),n.stateNode=e,ns(n))}return de(n),null;case 5:if(ct(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=rt.current,ba(n))Pg(n);else{var g=gc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[De]=n,f[Ge]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ns(n)}}return de(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ns(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,ba(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,r)),e||Os(n,!0)}else e=gc(e).createTextNode(o),e[De]=n,n.stateNode=e}return de(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ba(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[De]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else r=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[De]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),de(n),null);case 4:return Z(),e===null&&dd(n.stateNode.containerInfo),de(n),null;case 10:return Ji(n.type),de(n),null;case 19:if(K(Ce),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Vg(r,e),r=r.sibling;return nt(Ce,Ce.current&1|2),Ft&&$i(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&cn()>rc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ft)return de(n),null}else 2*cn()-o.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=cn(),e.sibling=null,r=Ce.current,nt(Ce,h?r&1|2:r&1),Ft&&$i(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return In(n),mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Pr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(Ve),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function I1(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ji(Ve),Z(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ct(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ce),null;case 4:return Z(),null;case 10:return Ji(n.type),null;case 22:case 23:return In(n),mf(),e!==null&&K(Pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ji(Ve),null;case 25:return null;default:return null}}function oy(e,n){switch(Jh(n),n.tag){case 3:Ji(Ve),Z();break;case 26:case 27:case 5:ct(n);break;case 4:Z();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:K(Ce);break;case 10:Ji(n.type);break;case 22:case 23:In(n),mf(),e!==null&&K(Pr);break;case 24:Ji(Ve)}}function il(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){se(n,n.return,E)}}function Ps(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(F){se(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){se(n,n.return,F)}}function ly(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Jg(n,r)}catch(o){se(e,e.return,o)}}}function uy(e,n,r){r.props=Gr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){se(e,n,o)}}function sl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){se(e,n,h)}}function Vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){se(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){se(e,n,h)}else r.current=null}function cy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){se(e,e.return,h)}}function Qf(e,n,r){try{var o=e.stateNode;$1(o,e.type,r,n),o[Ge]=n}catch(h){se(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ii));else if(o!==4&&(o===27&&Qs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,r),e=e.sibling;e!==null;)Yf(e,n,r),e=e.sibling}function ec(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Qs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ec(e,n,r),e=e.sibling;e!==null;)ec(e,n,r),e=e.sibling}function fy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,r),n[De]=e,n[Ge]=r}catch(f){se(e,e.return,f)}}var is=!1,Le=!1,Xf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function x1(e,n){if(e=e.containerInfo,pd=bc,e=wg(e),Bh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,P=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++P===h&&(E=g),j===f&&++F===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(yd={focusedElem:e,selectionRange:r},bc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Gr(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){se(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Ed(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function my(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:rs(e,r),o&4&&il(5,r);break;case 1:if(rs(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){se(r,r.return,g)}else{var h=Gr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){se(r,r.return,g)}}o&64&&ly(r),o&512&&sl(r,r.return);break;case 3:if(rs(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jg(e,n)}catch(g){se(r,r.return,g)}}break;case 27:n===null&&o&4&&fy(r);case 26:case 5:rs(e,r),n===null&&o&4&&cy(r),o&512&&sl(r,r.return);break;case 12:rs(e,r);break;case 31:rs(e,r),o&4&&yy(e,r);break;case 13:rs(e,r),o&4&&_y(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=z1.bind(null,r),sb(e,r))));break;case 22:if(o=r.memoizedState!==null||is,!o){n=n!==null&&n.memoizedState!==null||Le,h=is;var f=Le;is=o,(Le=n)&&!f?as(e,r,(r.subtreeFlags&8772)!==0):rs(e,r),is=h,Le=f}break;case 30:break;default:rs(e,r)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,pn=!1;function ss(e,n,r){for(r=r.child;r!==null;)py(e,n,r),r=r.sibling}function py(e,n,r){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Wn,r)}catch{}switch(r.tag){case 26:Le||Vi(r,n),ss(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Le||Vi(r,n);var o=pe,h=pn;Qs(r.type)&&(pe=r.stateNode,pn=!1),ss(e,n,r),dl(r.stateNode),pe=o,pn=h;break;case 5:Le||Vi(r,n);case 6:if(o=pe,h=pn,pe=null,ss(e,n,r),pe=o,pn=h,pe!==null)if(pn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(r.stateNode)}catch(f){se(r,n,f)}else try{pe.removeChild(r.stateNode)}catch(f){se(r,n,f)}break;case 18:pe!==null&&(pn?(e=pe,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ha(e)):l_(pe,r.stateNode));break;case 4:o=pe,h=pn,pe=r.stateNode.containerInfo,pn=!0,ss(e,n,r),pe=o,pn=h;break;case 0:case 11:case 14:case 15:Ps(2,r,n),Le||Ps(4,r,n),ss(e,n,r);break;case 1:Le||(Vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&uy(r,n,o)),ss(e,n,r);break;case 21:ss(e,n,r);break;case 22:Le=(o=Le)||r.memoizedState!==null,ss(e,n,r),Le=o;break;default:ss(e,n,r)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(r){se(n,n.return,r)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(r){se(n,n.return,r)}}function N1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function nc(e,n){var r=N1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=P1.bind(null,e,o);o.then(h,h)}})}function yn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){pe=E.stateNode,pn=!1;break t}break;case 5:pe=E.stateNode,pn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(pe===null)throw Error(a(160));py(f,g,h),pe=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var ui=null;function vy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),_n(e),o&4&&(Ps(3,e,e.return),il(3,e),Ps(5,e,e.return));break;case 1:yn(n,e),_n(e),o&512&&(Le||r===null||Vi(r,r.return)),o&64&&is&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ui;if(yn(n,e),_n(e),o&512&&(Le||r===null||Vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,r),f[De]=e,Oe(f),o=f;break t;case"link":var g=v_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;case"meta":if(g=v_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[De]=e,Oe(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,r.memoizedProps)}break;case 27:yn(n,e),_n(e),o&512&&(Le||r===null||Vi(r,r.return)),r!==null&&o&4&&Qf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,e),_n(e),o&512&&(Le||r===null||Vi(r,r.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(ot){se(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(yn(n,e),_n(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){se(e,e.return,ot)}}break;case 3:if(_c=null,h=ui,ui=pc(n.containerInfo),yn(n,e),ui=h,_n(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(ot){se(e,e.return,ot)}Xf&&(Xf=!1,Ey(e));break;case 4:o=ui,ui=pc(e.stateNode.containerInfo),yn(n,e),_n(e),ui=o;break;case 12:yn(n,e),_n(e);break;case 31:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:yn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=cn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=is,F=Le;if(is=P||h,Le=F||R,yn(n,e),Le=F,is=P,_n(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||is||Le||Fr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){se(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){se(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?u_(q,!0):u_(R.stateNode,!1)}catch(ot){se(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,nc(e,r))));break;case 19:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:yn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(hy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(e);ec(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(gn(g,""),r.flags&=-33);var E=Kf(e);ec(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Kf(e);Yf(e,P,R);break;default:throw Error(a(161))}}catch(F){se(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function Fr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Fr(n);break;case 1:Vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&uy(n,n.return,r),Fr(n);break;case 27:dl(n.stateNode);case 26:case 5:Vi(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}e=e.sibling}}function as(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,r),il(4,f);break;case 1:if(as(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){se(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zg(R[h],E)}catch(P){se(o,o.return,P)}}r&&g&64&&ly(f),sl(f,f.return);break;case 27:fy(f);case 26:case 5:as(h,f,r),r&&o===null&&g&4&&cy(f),sl(f,f.return);break;case 12:as(h,f,r);break;case 31:as(h,f,r),r&&g&4&&yy(h,f);break;case 13:as(h,f,r),r&&g&4&&_y(h,f);break;case 22:f.memoizedState===null&&as(h,f,r),sl(f,f.return);break;case 30:break;default:as(h,f,r)}n=n.sibling}}function $f(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Go(r))}function Zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function ci(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,r,o),n=n.sibling}function Ty(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(e,n,r,o),h&2048&&il(9,n);break;case 1:ci(e,n,r,o);break;case 3:ci(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){ci(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){se(n,n.return,R)}}else ci(e,n,r,o);break;case 31:ci(e,n,r,o);break;case 13:ci(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ci(e,n,r,o):rl(e,n):f._visibility&2?ci(e,n,r,o):(f._visibility|=2,Oa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(g,n);break;case 24:ci(e,n,r,o),h&2048&&Zf(n.alternate,n);break;default:ci(e,n,r,o)}}function Oa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,R,h),il(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Oa(f,g,E,R,h):rl(f,g):(F._visibility|=2,Oa(f,g,E,R,h)),h&&P&2048&&$f(g.alternate,g);break;case 24:Oa(f,g,E,R,h),h&&P&2048&&Zf(g.alternate,g);break;default:Oa(f,g,E,R,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:rl(r,o),h&2048&&$f(o.alternate,o);break;case 24:rl(r,o),h&2048&&Zf(o.alternate,o);break;default:rl(r,o)}n=n.sibling}}var al=8192;function Ma(e,n,r){if(e.subtreeFlags&al)for(e=e.child;e!==null;)by(e,n,r),e=e.sibling}function by(e,n,r){switch(e.tag){case 26:Ma(e,n,r),e.flags&al&&e.memoizedState!==null&&pb(r,ui,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,r);break;case 3:case 4:var o=ui;ui=pc(e.stateNode.containerInfo),Ma(e,n,r),ui=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Ma(e,n,r),al=o):Ma(e,n,r));break;default:Ma(e,n,r)}}function Sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,wy(o,e)}Sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&Ps(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):ol(e);break;default:ol(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Qe=o,wy(o,e)}Sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function wy(e,n){for(;Qe!==null;){var r=Qe;switch(r.tag){case 0:case 11:case 15:Ps(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Qe=o;else t:for(r=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(gy(o),o===r){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var D1={getCacheForType:function(e){var n=Ze(Ve),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ze(Ve).controller.signal}},O1=typeof WeakMap=="function"?WeakMap:Map,te=0,ce=null,Lt=null,Pt=0,ie=0,xn=null,js=!1,Va=!1,Jf=!1,os=0,be=0,Bs=0,Qr=0,Wf=0,Nn=0,ka=0,ll=null,vn=null,td=!1,sc=0,Ry=0,rc=1/0,ac=null,qs=null,Be=0,Hs=null,Ua=null,ls=0,ed=0,nd=null,Cy=null,ul=0,id=null;function Dn(){return(te&2)!==0&&Pt!==0?Pt&-Pt:G.T!==null?ud():ou()}function Iy(){if(Nn===0)if((Pt&536870912)===0||Ft){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Nn=e}else Nn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Nn}function En(e,n,r){(e===ce&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(La(e,0),Gs(e,Pt,Nn,!1)),Er(e,r),((te&2)===0||e!==ce)&&(e===ce&&((te&2)===0&&(Qr|=r),be===4&&Gs(e,Pt,Nn,!1)),ki(e))}function xy(e,n,r){if((te&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||ti(e,n),h=o?k1(e,n):rd(e,n,!0),f=o;do{if(h===0){Va&&!o&&Gs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!M1(r)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ll;var R=E.current.memoizedState.isDehydrated;if(R&&(La(E,g).flags|=256),g=rd(E,g,!1),g!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Gs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Nn,!js);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-cn(),10<h)){if(Gs(o,n,Nn,!js),yi(o,0,!0)!==0)break t;ls=n,o.timeoutHandle=a_(Ny.bind(null,o,r,vn,ac,td,n,Nn,Qr,ka,js,f,"Throttled",-0,0),h);break t}Ny(o,r,vn,ac,td,n,Nn,Qr,ka,js,f,null,-0,0)}}break}while(!0);ki(e)}function Ny(e,n,r,o,h,f,g,E,R,P,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},by(n,f,Y);var ot=(f&62914560)===f?sc-cn():(f&4194048)===f?Ry-cn():0;if(ot=yb(Y,ot),ot!==null){ls=f,e.cancelPendingCommit=ot(zy.bind(null,e,n,f,r,o,h,g,E,R,F,Y,null,j,q)),Gs(e,f,g,!P);return}}zy(e,n,f,r,o,h,g,E,R)}function M1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(e,n,r,o){n&=~Wf,n&=~Qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-we(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Tr(e,r,n)}function oc(){return(te&6)===0?(cl(0),!1):!0}function sd(){if(Lt!==null){if(ie===0)var e=Lt.return;else e=Lt,Zi=Lr=null,Ef(e),Ca=null,Qo=0,e=Lt;for(;e!==null;)oy(e.alternate,e),e=e.return;Lt=null}}function La(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,W1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ls=0,sd(),ce=e,Lt=r=Xi(e.current,null),Pt=n,ie=0,xn=null,js=!1,Va=ti(e,n),Jf=!1,ka=Nn=Wf=Qr=Bs=be=0,vn=ll=null,td=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-we(o),f=1<<h;n|=e[h],o&=~f}return os=n,Iu(),r}function Dy(e,n){Nt=null,G.H=tl,n===Ra||n===Uu?(n=Kg(),ie=3):n===lf?(n=Kg(),ie=4):ie=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Lt===null&&(be=1,$u(e,Hn(n,e.current)))}function Oy(){var e=Cn.current;return e===null?!0:(Pt&4194048)===Pt?Kn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Kn:!1}function My(){var e=G.H;return G.H=tl,e===null?tl:e}function Vy(){var e=G.A;return G.A=D1,e}function lc(){be=4,js||(Pt&4194048)!==Pt&&Cn.current!==null||(Va=!0),(Bs&134217727)===0&&(Qr&134217727)===0||ce===null||Gs(ce,Pt,Nn,!1)}function rd(e,n,r){var o=te;te|=2;var h=My(),f=Vy();(ce!==e||Pt!==n)&&(ac=null,La(e,n)),n=!1;var g=be;t:do try{if(ie!==0&&Lt!==null){var E=Lt,R=xn;switch(ie){case 8:sd(),g=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var P=ie;if(ie=0,xn=null,za(e,E,R,P),r&&Va){g=0;break t}break;default:P=ie,ie=0,xn=null,za(e,E,R,P)}}V1(),g=be;break}catch(F){Dy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Zi=Lr=null,te=o,G.H=h,G.A=f,Lt===null&&(ce=null,Pt=0,Iu()),g}function V1(){for(;Lt!==null;)ky(Lt)}function k1(e,n){var r=te;te|=2;var o=My(),h=Vy();ce!==e||Pt!==n?(ac=null,rc=cn()+500,La(e,n)):Va=ti(e,n);t:do try{if(ie!==0&&Lt!==null){n=Lt;var f=xn;e:switch(ie){case 1:ie=0,xn=null,za(e,n,f,1);break;case 2:case 9:if(Fg(f)){ie=0,xn=null,Uy(n);break}n=function(){ie!==2&&ie!==9||ce!==e||(ie=7),ki(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Fg(f)?(ie=0,xn=null,Uy(n)):(ie=0,xn=null,za(e,n,f,7));break;case 5:var g=null;switch(Lt.tag){case 26:g=Lt.memoizedState;case 5:case 27:var E=Lt;if(g?T_(g):E.stateNode.complete){ie=0,xn=null;var R=E.sibling;if(R!==null)Lt=R;else{var P=E.return;P!==null?(Lt=P,uc(P)):Lt=null}break e}}ie=0,xn=null,za(e,n,f,5);break;case 6:ie=0,xn=null,za(e,n,f,6);break;case 8:sd(),be=6;break t;default:throw Error(a(462))}}U1();break}catch(F){Dy(e,F)}while(!0);return Zi=Lr=null,G.H=o,G.A=h,te=r,Lt!==null?0:(ce=null,Pt=0,Iu(),be)}function U1(){for(;Lt!==null&&!kn();)ky(Lt)}function ky(e){var n=ry(e.alternate,e,os);e.memoizedProps=e.pendingProps,n===null?uc(e):Lt=n}function Uy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Wp(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=Wp(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Ef(n);default:oy(r,n),n=Lt=Vg(n,os),n=ry(r,n,os)}e.memoizedProps=e.pendingProps,n===null?uc(e):Lt=n}function za(e,n,r,o){Zi=Lr=null,Ef(n),Ca=null,Qo=0;var h=n.return;try{if(A1(e,h,n,r,Pt)){be=1,$u(e,Hn(r,e.current)),Lt=null;return}}catch(f){if(h!==null)throw Lt=h,f;be=1,$u(e,Hn(r,e.current)),Lt=null;return}n.flags&32768?(Ft||o===1?e=!0:Va||(Pt&536870912)!==0?e=!1:(js=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,js);return}e=n.return;var r=C1(n.alternate,n,os);if(r!==null){Lt=r;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=e}while(n!==null);be===0&&(be=5)}function Ly(e,n){do{var r=I1(e.alternate,e);if(r!==null){r.flags&=32767,Lt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=r}while(e!==null);be=6,Lt=null}function zy(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do cc();while(Be!==0);if((te&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,Lh(e,r,f,g,E,R),e===ce&&(Lt=ce=null,Pt=0),Ua=n,Hs=e,ls=r,ed=f,nd=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,j1(Es,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=et.p,et.p=2,g=te,te|=4;try{x1(e,n,r)}finally{te=g,et.p=h,G.T=o}}Be=1,Py(),jy(),By()}}function Py(){if(Be===1){Be=0;var e=Hs,n=Ua,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var h=te;te|=4;try{vy(n,e);var f=yd,g=wg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ag(E.ownerDocument.documentElement,E)){if(R!==null&&Bh(E)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,gt=Math.min(R.start,ot),ue=R.end===void 0?gt:Math.min(R.end,ot);!q.extend&&gt>ue&&(g=ue,ue=gt,gt=g);var U=Sg(E,gt),D=Sg(E,ue);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(U.node,U.offset),q.removeAllRanges(),gt>ue?(q.addRange(z),q.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),q.addRange(z))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}bc=!!pd,yd=pd=null}finally{te=h,et.p=o,G.T=r}}e.current=n,Be=2}}function jy(){if(Be===2){Be=0;var e=Hs,n=Ua,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=et.p;et.p=2;var h=te;te|=4;try{my(e,n.alternate,n)}finally{te=h,et.p=o,G.T=r}}Be=3}}function By(){if(Be===4||Be===3){Be=0,Un();var e=Hs,n=Ua,r=ls,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Ua=Hs=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qs=null),Fi(r),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=h}}(ls&3)!==0&&cc(),ki(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===id?ul++:(ul=0,id=e):ul=0,cl(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function cc(){return Py(),jy(),By(),Hy()}function Hy(){if(Be!==5)return!1;var e=Hs,n=ed;ed=0;var r=Fi(ls),o=G.T,h=et.p;try{et.p=32>r?32:r,G.T=null,r=nd,nd=null;var f=Hs,g=ls;if(Be=0,Ua=Hs=null,ls=0,(te&6)!==0)throw Error(a(331));var E=te;if(te|=4,Ay(f.current),Ty(f,f.current,g,r),te=E,cl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{et.p=h,G.T=o,qy(e,n)}}function Gy(e,n,r){n=Hn(r,n),n=kf(e.stateNode,n,2),e=Us(e,n,2),e!==null&&(Er(e,2),ki(e))}function se(e,n,r){if(e.tag===3)Gy(e,e,r);else for(;n!==null;){if(n.tag===3){Gy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){e=Hn(r,e),r=Fp(2),o=Us(n,r,2),o!==null&&(Qp(r,o,n,e),Er(o,2),ki(o));break}}n=n.return}}function ad(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new O1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Jf=!0,h.add(r),e=L1.bind(null,e,n,r),n.then(e,e))}function L1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ce===e&&(Pt&r)===r&&(be===4||be===3&&(Pt&62914560)===Pt&&300>cn()-sc?(te&2)===0&&La(e,0):Wf|=r,ka===Pt&&(ka=0)),ki(e)}function Fy(e,n){n===0&&(n=au()),e=Vr(e,n),e!==null&&(Er(e,n),ki(e))}function z1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Fy(e,r)}function P1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Fy(e,r)}function j1(e,n){return Yt(e,n)}var hc=null,Pa=null,od=!1,fc=!1,ld=!1,Fs=0;function ki(e){e!==Pa&&e.next===null&&(Pa===null?hc=Pa=e:Pa=Pa.next=e),fc=!0,od||(od=!0,q1())}function cl(e,n){if(!ld&&fc){ld=!0;do for(var r=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-we(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xy(o,f))}else f=Pt,f=yi(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ti(o,f)||(r=!0,Xy(o,f));o=o.next}while(r);ld=!1}}function B1(){Qy()}function Qy(){fc=od=!1;var e=0;Fs!==0&&J1()&&(e=Fs);for(var n=cn(),r=null,o=hc;o!==null;){var h=o.next,f=Ky(o,n);f===0?(o.next=null,r===null?hc=h:r.next=h,h===null&&(Pa=r)):(r=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Be!==0&&Be!==5||cl(e),Fs!==0&&(Fs=0)}function Ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-we(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Uh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ce,r=Pt,r=yi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&un(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ti(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&un(o),Fi(r)){case 2:case 8:r=Eo;break;case 32:r=Es;break;case 268435456:r=eu;break;default:r=Es}return o=Yy.bind(null,e),r=Yt(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&un(o),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var o=Pt;return o=yi(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(xy(e,o,n),Ky(e,cn()),e.callbackNode!=null&&e.callbackNode===r?Yy.bind(null,e):null)}function Xy(e,n){if(cc())return null;xy(e,n,!0)}function q1(){tb(function(){(te&6)!==0?Yt(vo,B1):Qy()})}function ud(){if(Fs===0){var e=Aa;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Fs=e}return Fs}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function Zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function H1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=$y((h[Ge]||null).action),g=o.submitter;g&&(n=(n=g[Ge]||null)?$y(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ii("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var R=g?Zy(h,g):new FormData(h);xf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Zy(h,g):new FormData(h),xf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var cd=0;cd<Fh.length;cd++){var hd=Fh[cd],G1=hd.toLowerCase(),F1=hd[0].toUpperCase()+hd.slice(1);li(G1,"on"+F1)}li(Ig,"onAnimationEnd"),li(xg,"onAnimationIteration"),li(Ng,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(o1,"onTransitionRun"),li(l1,"onTransitionStart"),li(u1,"onTransitionCancel"),li(Dg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=R}}}}function zt(e,n){var r=n[sa];r===void 0&&(r=n[sa]=new Set);var o=e+"__bubble";r.has(o)||(Wy(n,e,2,!1),r.add(o))}function fd(e,n,r){var o=0;n&&(o|=4),Wy(r,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[dc]){e[dc]=!0,So.forEach(function(r){r!=="selectionchange"&&(Q1.has(r)||fd(r,!1,e),fd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,fd("selectionchange",!1,n))}}function Wy(e,n,r,o){switch(I_(n)){case 2:var h=Eb;break;case 8:h=Tb;break;default:h=Id}r=h.bind(null,n,r,e),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function md(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ti(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Rs(function(){var P=f,F=Pn(r),Y=[];t:{var j=Og.get(e);if(j!==void 0){var q=Ii,ot=e;switch(e){case"keypress":if(Ir(r)===0)break t;case"keydown":case"keyup":q=Au;break;case"focusin":ot="focus",q=Nr;break;case"focusout":ot="blur",q=Nr;break;case"beforeblur":case"afterblur":q=Nr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ig:case xg:case Ng:q=yu;break;case Dg:q=T;break;case"scroll":case"scrollend":q=ko;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Yi;break;case"toggle":case"beforetoggle":q=xt}var gt=(n&4)!==0,ue=!gt&&(e==="scroll"||e==="scrollend"),U=gt?j!==null?j+"Capture":null:j;gt=[];for(var D=P,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||U===null||(Q=si(D,U),Q!=null&&gt.push(fl(D,Q,z))),ue)break;D=D.return}0<gt.length&&(j=new q(j,ot,null,r,F),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Oo&&(ot=r.relatedTarget||r.fromElement)&&(Ti(ot)||ot[vi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=r.relatedTarget||r.toElement,q=P,ot=ot?Ti(ot):null,ot!==null&&(ue=c(ot),gt=ot.tag,ot!==ue||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=P),q!==ot)){if(gt=Uo,Q="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Yi,Q="onPointerLeave",U="onPointerEnter",D="pointer"),ue=q==null?j:Sn(q),z=ot==null?j:Sn(ot),j=new gt(Q,D+"leave",q,r,F),j.target=ue,j.relatedTarget=z,Q=null,Ti(F)===P&&(gt=new gt(U,D+"enter",ot,r,F),gt.target=z,gt.relatedTarget=ue,Q=gt),ue=Q,q&&ot)e:{for(gt=K1,U=q,D=ot,z=0,Q=U;Q;Q=gt(Q))z++;Q=0;for(var dt=D;dt;dt=gt(dt))Q++;for(;0<z-Q;)U=gt(U),z--;for(;0<Q-z;)D=gt(D),Q--;for(;z--;){if(U===D||D!==null&&U===D.alternate){gt=U;break e}U=gt(U),D=gt(D)}gt=null}else gt=null;q!==null&&t_(Y,j,q,gt,!1),ot!==null&&ue!==null&&t_(Y,ue,ot,gt,!0)}}t:{if(j=P?Sn(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var $t=yg;else if(gg(j))if(_g)$t=s1;else{$t=n1;var ut=e1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&la(P.elementType)&&($t=yg):$t=i1;if($t&&($t=$t(e,P))){pg(Y,$t,r,F);break t}ut&&ut(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&xo(j,"number",j.value)}switch(ut=P?Sn(P):window,e){case"focusin":(gg(ut)||ut.contentEditable==="true")&&(pa=ut,qh=P,Bo=null);break;case"focusout":Bo=qh=pa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Rg(Y,r,F);break;case"selectionchange":if(a1)break;case"keydown":case"keyup":Rg(Y,r,F)}var Dt;if(Wt)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ga?Dr(e,r)&&(jt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(jt="onCompositionStart");jt&&(Di&&r.locale!=="ko"&&(ga||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ga&&(Dt=Vo()):(Ci=F,Mo="value"in Ci?Ci.value:Ci.textContent,ga=!0)),ut=mc(P,jt),0<ut.length&&(jt=new Ni(jt,e,null,r,F),Y.push({event:jt,listeners:ut}),Dt?jt.data=Dt:(Dt=ma(r),Dt!==null&&(jt.data=Dt)))),(Dt=Bn?ZT(e,r):JT(e,r))&&(jt=mc(P,"onBeforeInput"),0<jt.length&&(ut=new Ni("onBeforeInput","beforeinput",null,r,F),Y.push({event:ut,listeners:jt}),ut.data=Dt)),H1(Y,e,P,r,F)}Jy(Y,n)})}function fl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function mc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(e,r),h!=null&&o.unshift(fl(e,h,f)),h=si(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function K1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=si(r,f),P!=null&&g.unshift(fl(r,P,R))):h||(P=si(r,f),P!=null&&g.push(fl(r,P,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var Y1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(Y1,`
`).replace(X1,"")}function n_(e,n){return n=e_(n),e_(e)===n}function le(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,r,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&le(e,n,"name",h.name,h,null),le(e,n,"formEncType",h.formEncType,h,null),le(e,n,"formMethod",h.formMethod,h,null),le(e,n,"formTarget",h.formTarget,h,null)):(le(e,n,"encType",h.encType,h,null),le(e,n,"method",h.method,h,null),le(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ii);break;case"onScroll":o!=null&&zt("scroll",e);break;case"onScrollEnd":o!=null&&zt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":zt("beforetoggle",e),zt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,aa(e,r,o))}}function gd(e,n,r,o,h,f){switch(r){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&zt("scroll",e);break;case"onScrollEnd":o!=null&&zt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):aa(e,r,o)}}}function We(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",e),zt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,f,g,r,null)}}h&&le(e,n,"srcSet",r.srcSet,r,null),o&&le(e,n,"src",r.src,r,null);return;case"input":zt("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:le(e,n,o,F,r,null)}}hu(e,f,E,R,P,g,h,!1);return;case"select":zt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:le(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?bs(e,!!o,n,!1):r!=null&&bs(e,!!o,r,!0);return;case"textarea":zt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:le(e,n,g,E,r,null)}Ss(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:le(e,n,R,o,r,null)}return;case"dialog":zt("beforetoggle",e),zt("toggle",e),zt("cancel",e),zt("close",e);break;case"iframe":case"object":zt("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)zt(hl[o],e);break;case"image":zt("error",e),zt("load",e);break;case"details":zt("toggle",e);break;case"embed":case"source":case"link":zt("error",e),zt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,P,o,r,null)}return;default:if(la(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&gd(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&le(e,n,E,o,r,null))}function $1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,F=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||le(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&le(e,n,j,q,o,Y)}}oa(e,g,E,R,P,F,f,h);return;case"select":q=g=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||le(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&le(e,n,h,f,o,R)}n=E,r=g,o=q,j!=null?bs(e,!!r,j,!1):!!o!=!!r&&(n!=null?bs(e,!!r,n,!0):bs(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:le(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&le(e,n,g,h,o,f)}fu(e,j,q);return;case"option":for(var ot in r)if(j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:le(e,n,ot,null,o,j)}for(R in o)if(j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:le(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&le(e,n,gt,null,o,j);for(P in o)if(j=o[P],q=r[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:le(e,n,P,j,o,q)}return;default:if(la(n)){for(var ue in r)j=r[ue],r.hasOwnProperty(ue)&&j!==void 0&&!o.hasOwnProperty(ue)&&gd(e,n,ue,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||gd(e,n,F,j,o,q);return}}for(var U in r)j=r[U],r.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&le(e,n,U,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||le(e,n,Y,j,o,q)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&i_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var F=R.transferSize,Y=R.initiatorType;F&&i_(Y)&&(R=R.responseEnd,g+=F*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,yd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function _d(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function J1(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,W1=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(eb)}:a_;function eb(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function l_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")dl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,dl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&dl(e.ownerDocument.body);r=h}while(r);Ha(n)}function u_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),ra(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function nb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function ib(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$?"||e.data==="$~"}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sd=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Yn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,r){switch(n=gc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Xn=new Map,m_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var us=et.d;et.d={f:rb,r:ab,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function rb(){var e=us.f(),n=oc();return e||n}function ab(e){var n=zn(e);n!==null&&n.tag===5&&n.type==="form"?Dp(n):us.r(e)}var ja=typeof document>"u"?null:document;function g_(e,n,r){var o=ja;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),Oe(n),o.head.appendChild(n)))}}function ob(e){us.D(e),g_("dns-prefetch",e,null)}function lb(e,n){us.C(e,n),g_("preconnect",e,n)}function ub(e,n,r){us.L(e,n,r);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+mn(r.imageSizes)+'"]')):h+='[href="'+mn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Xn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),We(n,"link",e),Oe(n),o.head.appendChild(n)))}}function cb(e,n){us.m(e,n);var r=ja;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Xn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Xn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gl(f)))return}o=r.createElement("link"),We(o,"link",e),Oe(o),r.head.appendChild(o)}}}function hb(e,n,r){us.S(e,n,r);var o=ja;if(o&&e){var h=bi(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ml(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Xn.get(f))&&Ad(e,r);var R=g=o.createElement("link");Oe(R),We(R,"link",e),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function fb(e,n){us.X(e,n);var r=ja;if(r&&e){var o=bi(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(gl(h)),f||(e=S({src:e,async:!0},n),(n=Xn.get(h))&&wd(e,n),f=r.createElement("script"),Oe(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function db(e,n){us.M(e,n);var r=ja;if(r&&e){var o=bi(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Xn.get(h))&&wd(e,n),f=r.createElement("script"),Oe(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(e,n,r,o){var h=(h=Rt.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ba(r.href),r=bi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ba(r.href);var f=bi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ml(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Xn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(e,r),f||mb(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(r),r=bi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+mn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function mb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",r),Oe(n),e.head.appendChild(n))}function qa(e){return'[src="'+mn(e)+'"]'}function gl(e){return"script[async]"+e}function __(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+mn(r.href)+'"]');if(o)return n.instance=o,Oe(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Oe(o),We(o,"style",h),yc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ba(r.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Oe(f),f;o=y_(r),(h=Xn.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),Oe(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),We(f,"link",o),n.state.loading|=4,yc(f,r.precedence,e),n.instance=f;case"script":return f=qa(r.src),(h=e.querySelector(gl(f)))?(n.instance=h,Oe(h),h):(o=r,(h=Xn.get(f))&&(o=S({},r),wd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Oe(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,r.precedence,e));return n.instance}function yc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function v_(e,n,r){if(_c===null){var o=new Map,h=_c=new Map;h.set(r,o)}else h=_c,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Ei]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function E_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function gb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Oe(f);return}f=n.ownerDocument||n,o=y_(o),(h=Xn.get(h))&&Ad(o,h),f=f.createElement("link"),Oe(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),We(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=vc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function yb(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Rd===0&&(Rd=62500*Z1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(_b,e),Ec=null,vc.call(e))}function _b(e,n){if(!(n.state.loading&4)){var r=Ec.get(e);if(r)var o=r.get(null);else{r=new Map,Ec.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function vb(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function b_(e,n,r,o,h,f,g,E,R,P,F,Y){return e=new vb(e,n,r,g,R,P,F,Y,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},uf(f),e}function S_(e){return e?(e=va,e):va}function A_(e,n,r,o,h,f){h=S_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Us(e,o,n),r!==null&&(En(r,e,n),Yo(r,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Cd(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=Vr(e,67108864);n!==null&&En(n,e,67108864),Cd(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=Dn();n=br(n);var r=Vr(e,n);r!==null&&En(r,e,n),Cd(e,n)}}var bc=!0;function Eb(e,n,r,o){var h=G.T;G.T=null;var f=et.p;try{et.p=2,Id(e,n,r,o)}finally{et.p=f,G.T=h}}function Tb(e,n,r,o){var h=G.T;G.T=null;var f=et.p;try{et.p=8,Id(e,n,r,o)}finally{et.p=f,G.T=h}}function Id(e,n,r,o){if(bc){var h=xd(o);if(h===null)md(e,n,o,Sc,r),x_(e,o);else if(Sb(h,e,n,r,o))o.stopPropagation();else if(x_(e,o),n&4&&-1<bb.indexOf(e)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-we(g);E.entanglements[1]|=R,g&=~R}ki(f),(te&6)===0&&(rc=cn()+500,cl(0))}}break;case 31:case 13:E=Vr(f,2),E!==null&&En(E,f,2),oc(),Cd(f,2)}if(f=xd(o),f===null&&md(e,n,o,Sc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(e,n,o,null,r)}}function xd(e){return e=Pn(e),Nd(e)}var Sc=null;function Nd(e){if(Sc=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case vo:return 2;case Eo:return 8;case Es:case kh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Dd=!1,Ks=null,Ys=null,Xs=null,yl=new Map,_l=new Map,$s=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Sb(e,n,r,o,h){switch(n){case"focusin":return Ks=vl(Ks,e,n,r,o,h),!0;case"dragenter":return Ys=vl(Ys,e,n,r,o,h),!0;case"mouseover":return Xs=vl(Xs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,r,o,h)),!0}return!1}function N_(e){var n=Ti(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,ei(e.priority,function(){C_(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,ei(e.priority,function(){C_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=xd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Oo=o,r.target.dispatchEvent(o),Oo=null}else return n=zn(r),n!==null&&R_(n),e.blockedOn=r,!1;n.shift()}return!0}function D_(e,n,r){Ac(e)&&r.delete(n)}function Ab(){Dd=!1,Ks!==null&&Ac(Ks)&&(Ks=null),Ys!==null&&Ac(Ys)&&(Ys=null),Xs!==null&&Ac(Xs)&&(Xs=null),yl.forEach(D_),_l.forEach(D_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ab)))}var Rc=null;function O_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Nd(o||r)===null)continue;break}var f=zn(r);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ha(e){function n(R){return wc(R,e)}Ks!==null&&wc(Ks,e),Ys!==null&&wc(Ys,e),Xs!==null&&wc(Xs,e),yl.forEach(n),_l.forEach(n);for(var r=0;r<$s.length;r++){var o=$s[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)N_(r),r.blockedOn===null&&$s.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ge]||null;if(typeof f=="function")g||O_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ge]||null)E=g.formAction;else if(Nd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),O_(r)}}}function M_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Cc.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();A_(r,o,e,n,null,null)},Cc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A_(e.current,2,null,e,null,null),oc(),n[vi]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var r=0;r<$s.length&&n!==0&&n<$s[r].priority;r++);$s.splice(r,0,e),r===0&&N_(e)}};var V_=t.version;if(V_!=="19.2.3")throw Error(a(527,V_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Wn=Ic.inject(wb),Ye=Ic}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Bp,f=qp,g=Hp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=b_(e,1,!1,null,null,r,o,null,h,f,g,M_),e[vi]=n.current,dd(e),new Od(n)},Tl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Bp,g=qp,E=Hp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=b_(e,1,!0,n,r??null,o,h,R,f,g,E,M_),n.context=S_(null),r=n.current,o=Dn(),o=br(o),h=ks(o),h.callback=null,Us(r,h,o),r=o,n.current.lanes=r,Er(n,r),ki(n),e[vi]=n.current,dd(e),new Cc(n)},Tl.version="19.2.3",Tl}var G_;function kb(){if(G_)return kd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=Vb(),kd.exports}var Ub=kb();const Lb=()=>{};var F_={};const C0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},zb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,b=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,H=_&63;p||(H=64,d||(M=64)),a.push(i[b],i[S],i[M],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(C0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):zb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||S==null)throw new Pb;const M=c<<2|y>>4;if(a.push(M),_!==64){const H=y<<4&240|_>>2;if(a.push(H),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(s){const t=C0(s);return I0.encodeByteArray(t,!0)},Yc=function(s){return jb(s).replace(/\./g,"")},x0=function(s){try{return I0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qb=()=>Bb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Gb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&x0(s[1]);return t&&JSON.parse(t)},mh=()=>{try{return Lb()||qb()||Hb()||Gb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},N0=s=>mh()?.emulatorHosts?.[s],Fb=s=>{const t=N0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},D0=()=>mh()?.config,O0=s=>mh()?.[`_${s}`];class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M0(s){return(await fetch(s,{credentials:"include"})).ok}function Kb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Cl={};function Yb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function Xb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Q_=!1;function V0(s,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Cl[s]===t||Cl[s]||Q_)return;Cl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Yb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Q_=!0,d()},M}function b(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Xb(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),wt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;y(yt),b(tt,it);const Vt=_();p(wt,pt),yt.append(wt,J,tt,Vt),document.body.appendChild(yt)}c?(J.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Zb(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function nS(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const rS="FirebaseError";class vs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=rS,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?aS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new vs(l,y,a)}}function aS(s,t){return s.replace(oS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const oS=/\{\$([^}]+)}/g;function lS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ur(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(K_(c)&&K_(d)){if(!ur(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function K_(s){return s!==null&&typeof s=="object"}function Hl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function uS(s,t){const i=new cS(s,t);return i.subscribe.bind(i)}class cS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function dn(s){return s&&s._delegate?s._delegate:s}class $r{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Kr="[DEFAULT]";class fS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Qb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mS(t))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kr){return this.instances.has(t)}getOptions(t=Kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Kr){return this.component?this.component.multipleInstances?t:Kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(s){return s===Kr?void 0:s}function mS(s){return s.instantiationMode==="EAGER"}class gS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new fS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const pS={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},yS=Bt.INFO,_S={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},vS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=_S[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const ES=(s,t)=>t.some(i=>s instanceof i);let Y_,X_;function TS(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k0=new WeakMap,Wd=new WeakMap,U0=new WeakMap,jd=new WeakMap,Rm=new WeakMap;function SS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(sr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&k0.set(i,s)}).catch(()=>{}),Rm.set(t,s),t}function AS(s){if(Wd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,t)}let tm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Wd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||U0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function wS(s){tm=s(tm)}function RS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Bd(this),t,...i);return U0.set(a,t.sort?t.sort():[t]),sr(a)}:bS().includes(s)?function(...t){return s.apply(Bd(this),t),sr(k0.get(this))}:function(...t){return sr(s.apply(Bd(this),t))}}function CS(s){return typeof s=="function"?RS(s):(s instanceof IDBTransaction&&AS(s),ES(s,TS())?new Proxy(s,tm):s)}function sr(s){if(s instanceof IDBRequest)return SS(s);if(jd.has(s))return jd.get(s);const t=CS(s);return t!==s&&(jd.set(s,t),Rm.set(t,s)),t}const Bd=s=>Rm.get(s);function IS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),y=sr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(sr(d.result),p.oldVersion,p.newVersion,sr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const xS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],qd=new Map;function $_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=NS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||xS.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&p.done]))[0]};return qd.set(t,c),c}wS(s=>({...s,get:(t,i,a)=>$_(t,i)||s.get(t,i,a),has:(t,i)=>!!$_(t,i)||s.has(t,i)}));class DS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(s){return s.getComponent()?.type==="VERSION"}const em="@firebase/app",Z_="0.14.7";const ds=new wm("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",kS="@firebase/analytics",US="@firebase/app-check-compat",LS="@firebase/app-check",zS="@firebase/auth",PS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",KS="@firebase/messaging",YS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",tA="@firebase/storage-compat",eA="@firebase/firestore",nA="@firebase/ai",iA="@firebase/firestore-compat",sA="firebase",rA="12.8.0";const nm="[DEFAULT]",aA={[em]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[VS]:"fire-analytics-compat",[LS]:"fire-app-check",[US]:"fire-app-check-compat",[zS]:"fire-auth",[PS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[KS]:"fire-fcm",[YS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[tA]:"fire-gcs-compat",[eA]:"fire-fst",[iA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};const Xc=new Map,oA=new Map,im=new Map;function J_(s,t){try{s.container.addComponent(t)}catch(i){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function no(s){const t=s.name;if(im.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,s);for(const i of Xc.values())J_(i,s);for(const i of oA.values())J_(i,s);return!0}function Cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Zn(s){return s==null?!1:s.settings!==void 0}const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new ql("app","Firebase",lA);class uA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const ho=rA;function L0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:nm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=D0()),!i)throw rr.create("no-options");const c=Xc.get(l);if(c){if(ur(i,c.options)&&ur(a,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new gS(l);for(const p of im.values())d.addComponent(p);const y=new uA(i,a,d);return Xc.set(l,y),y}function z0(s=nm){const t=Xc.get(s);if(!t&&s===nm&&D0())return L0();if(!t)throw rr.create("no-app",{appName:s});return t}function ar(s,t,i){let a=aA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}no(new $r(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const cA="firebase-heartbeat-database",hA=1,Ml="firebase-heartbeat-store";let Hd=null;function P0(){return Hd||(Hd=IS(cA,hA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function fA(s){try{const i=(await P0()).transaction(Ml),a=await i.objectStore(Ml).get(j0(s));return await i.done,a}catch(t){if(t instanceof vs)ds.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});ds.warn(i.message)}}}async function W_(s,t){try{const a=(await P0()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(t,j0(s)),await a.done}catch(i){if(i instanceof vs)ds.warn(i.message);else{const a=rr.create("idb-set",{originalErrorMessage:i?.message});ds.warn(a.message)}}}function j0(s){return`${s.name}!${s.options.appId}`}const dA=1024,mA=30;class gA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mA){const l=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tv(),{heartbeatsToSend:i,unsentEntries:a}=pA(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ds.warn(t),""}}}function tv(){return new Date().toISOString().substring(0,10)}function pA(s,t=dA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ev(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ev(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function _A(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function vA(s){no(new $r("platform-logger",t=>new DS(t),"PRIVATE")),no(new $r("heartbeat",t=>new gA(t),"PRIVATE")),ar(em,Z_,s),ar(em,Z_,"esm2020"),ar("fire-js","")}vA("");var EA="firebase",TA="12.8.0";ar(EA,TA,"app");function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bA=B0,q0=new ql("auth","Firebase",B0());const $c=new wm("@firebase/auth");function SA(s,...t){$c.logLevel<=Bt.WARN&&$c.warn(`Auth (${ho}): ${s}`,...t)}function Lc(s,...t){$c.logLevel<=Bt.ERROR&&$c.error(`Auth (${ho}): ${s}`,...t)}function ms(s,...t){throw Im(s,...t)}function zi(s,...t){return Im(s,...t)}function H0(s,t,i){const a={...bA(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:s.name})}function fs(s){return H0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return q0.create(s,...t)}function Tt(s,t,...i){if(!s)throw Im(t,...i)}function cs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function gs(s,t){s||cs(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function AA(){return nv()==="http:"||nv()==="https:"}function nv(){return typeof self<"u"&&self.location?.protocol||null}function wA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AA()||Wb()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Gl{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=$b()||tS()}get(){return wA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xm(s,t){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class G0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xA=new Gl(3e4,6e4);function Fl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fo(s,t,i,a,l={}){return F0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=Hl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...c};return Jb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&co(s.emulatorConfig.host)&&(_.credentials="include"),G0.fetch()(await Q0(s,s.config.apiHost,i,y),_)})}async function F0(s,t,i){s._canInitEmulator=!1;const a={...CA,...t};try{const l=new NA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw xc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw xc(s,"user-disabled",d);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw H0(s,b,_);ms(s,b)}}catch(l){if(l instanceof vs)throw l;ms(s,"network-request-failed",{message:String(l)})}}async function Nm(s,t,i,a,l={}){const c=await fo(s,t,i,a,l);return"mfaPendingCredential"in c&&ms(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Q0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?xm(s.config,l):`${s.config.apiScheme}://${l}`;return IA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class NA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),xA.get())})}}function xc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=zi(s,t,a);return l.customData._tokenResponse=i,l}async function DA(s,t){return fo(s,"POST","/v1/accounts:delete",t)}async function Zc(s,t){return fo(s,"POST","/v1/accounts:lookup",t)}function Il(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OA(s,t=!1){const i=dn(s),a=await i.getIdToken(t),l=Dm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(Gd(l.auth_time)),issuedAtTime:Il(Gd(l.iat)),expirationTime:Il(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function Dm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=x0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function iv(s){const t=Dm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof vs&&MA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function MA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class VA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(s){const t=s.auth,i=await s.getIdToken(),a=await Vl(s,Zc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?K0(l.providerUserInfo):[],d=UA(s.providerData,c),y=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=y?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function kA(s){const t=dn(s);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UA(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function K0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LA(s,t){const i=await F0(s,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Q0(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return s.emulatorConfig&&co(s.emulatorConfig.host)&&(p.credentials="include"),G0.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zA(s,t){return fo(s,"POST","/v2/accounts:revokeToken",Fl(s,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await LA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return cs("not implemented")}}function Js(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new VA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OA(this,t)}reload(){return kA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await Vl(this,DA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:H,providerData:J,stsTokenManager:it}=i;Tt(S&&it,t,"internal-error");const tt=$a.fromJSON(this.name,it);Tt(typeof S=="string",t,"internal-error"),Js(a,t.name),Js(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof H=="boolean",t,"internal-error"),Js(c,t.name),Js(d,t.name),Js(y,t.name),Js(p,t.name),Js(_,t.name),Js(b,t.name);const pt=new hi({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:tt,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(pt.providerData=J.map(wt=>({...wt}))),p&&(pt._redirectEventId=p),pt}static async _fromIdTokenResponse(t,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?K0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new $a;y.updateFromIdToken(a);const p=new hi({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const sv=new Map;function hs(s){gs(s instanceof Function,"Expected a class definition");let t=sv.get(s);return t?(gs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,sv.set(s,t),t)}class Y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Y0.type="NONE";const rv=Y0;function zc(s,t,i){return`firebase:${s}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(hs(rv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||hs(rv);const d=zc(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const M=await Zc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await hi._fromGetAccountInfoResponse(t,M,b)}else S=hi._fromJSON(t,b);_!==c&&(y=S),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Za(c,t,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,a))}}function av(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(J0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(X0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tE(t))return"Blackberry";if(eE(t))return"Webos";if($0(t))return"Safari";if((t.includes("chrome/")||Z0(t))&&!t.includes("edge/"))return"Chrome";if(W0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function X0(s=ln()){return/firefox\//i.test(s)}function $0(s=ln()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Z0(s=ln()){return/crios\//i.test(s)}function J0(s=ln()){return/iemobile/i.test(s)}function W0(s=ln()){return/android/i.test(s)}function tE(s=ln()){return/blackberry/i.test(s)}function eE(s=ln()){return/webos/i.test(s)}function Om(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function PA(s=ln()){return Om(s)&&!!window.navigator?.standalone}function jA(){return eS()&&document.documentMode===10}function nE(s=ln()){return Om(s)||W0(s)||eE(s)||tE(s)||/windows phone/i.test(s)||J0(s)}function iE(s,t=[]){let i;switch(s){case"Browser":i=av(ln());break;case"Worker":i=`${av(ln())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}class BA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const p=t(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qA(s,t={}){return fo(s,"GET","/v2/passwordPolicy",Fl(s,t))}const HA=6;class GA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class FA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new BA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),a=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(fs(this));const i=t?dn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qA(this),i=new GA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await zA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&hs(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ql(s){return dn(s)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QA(s){Mm=s}function KA(s){return Mm.loadJS(s)}function YA(){return Mm.gapiScript}function XA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function $A(s,t){const i=Cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ur(c,t??{}))return l;ms(l,"already-initialized")}return i.initialize({options:t})}function ZA(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(hs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function JA(s,t,i){const a=Ql(s);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=sE(t),{host:d,port:y}=WA(t),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(ur(_,a.config.emulator)&&ur(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,co(d)?(M0(`${c}//${d}${p}`),V0("Auth",!0)):t2()}function sE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function WA(s){const t=sE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:lv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lv(d)}}}function lv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function t2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(t){return cs("not implemented")}_linkToIdToken(t,i){return cs("not implemented")}_getReauthenticationResolver(t){return cs("not implemented")}}async function Ja(s,t){return Nm(s,"POST","/v1/accounts:signInWithIdp",Fl(s,t))}const e2="http://localhost";class Zr extends rE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ms("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:e2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class aE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends aE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ws extends Kl{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class tr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class er extends Kl{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class nr extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";async function n2(s,t){return Nm(s,"POST","/v1/accounts:signUp",Fl(s,t))}class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await hi._fromIdTokenResponse(t,a,l),d=uv(a);return new ps({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=uv(a);return new ps({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function i2(s){if(Zn(s.app))return Promise.reject(fs(s));const t=Ql(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ps({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await n2(t,{returnSecureToken:!0}),a=await ps._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Wc extends vs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Wc(t,i,a,l)}}function oE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,t,a):c})}async function s2(s,t,i=!1){const a=await Vl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ps._forOperation(s,"link",a)}async function r2(s,t,i=!1){const{auth:a}=s;if(Zn(a.app))return Promise.reject(fs(a));const l="reauthenticate";try{const c=await Vl(s,oE(a,l,t,s),i);Tt(c.idToken,a,"internal-error");const d=Dm(c.idToken);Tt(d,a,"internal-error");const{sub:y}=d;return Tt(s.uid===y,a,"user-mismatch"),ps._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ms(a,"user-mismatch"),c}}async function a2(s,t,i=!1){if(Zn(s.app))return Promise.reject(fs(s));const a="signIn",l=await oE(s,a,t),c=await ps._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function o2(s,t){return Nm(s,"POST","/v1/accounts:signInWithCustomToken",Fl(s,t))}async function l2(s,t){if(Zn(s.app))return Promise.reject(fs(s));const i=Ql(s),a=await o2(i,{token:t,returnSecureToken:!0}),l=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function u2(s,t,i,a){return dn(s).onIdTokenChanged(t,i,a)}function c2(s,t,i){return dn(s).beforeAuthStateChanged(t,i)}function h2(s,t,i,a){return dn(s).onAuthStateChanged(t,i,a)}const th="__sak";class lE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const f2=1e3,d2=10;class uE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,d2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}uE.type="LOCAL";const m2=uE;class cE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}cE.type="SESSION";const hE=cE;function g2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new gh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await g2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Vm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class p2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Vm("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function y2(s){Pi().location.href=s}function fE(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function _2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v2(){return navigator?.serviceWorker?.controller||null}function E2(){return fE()?self:null}const dE="firebaseLocalStorageDb",T2=1,eh="firebaseLocalStorage",mE="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,t){return s.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function b2(){const s=indexedDB.deleteDatabase(dE);return new Yl(s).toPromise()}function am(){const s=indexedDB.open(dE,T2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:mE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await b2(),t(await am()))})})}async function cv(s,t,i){const a=ph(s,!0).put({[mE]:t,value:i});return new Yl(a).toPromise()}async function S2(s,t){const i=ph(s,!1).get(t),a=await new Yl(i).toPromise();return a===void 0?null:a.value}function hv(s,t){const i=ph(s,!0).delete(t);return new Yl(i).toPromise()}const A2=800,w2=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>w2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(E2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||v2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await am();return await cv(t,th,"1"),await hv(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>cv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>S2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const R2=gE;new Gl(3e4,6e4);function C2(s,t){return t?hs(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class km extends rE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function I2(s){return a2(s.auth,new km(s),s.bypassAuthState)}function x2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),r2(i,new km(s),s.bypassAuthState)}async function N2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),s2(i,new km(s),s.bypassAuthState)}class pE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return I2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return x2;default:ms(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const D2=new Gl(2e3,1e4);class Xa extends pE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,D2.get())};t()}}Xa.currentPopupAction=null;const O2="pendingRedirect",Pc=new Map;class M2 extends pE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await V2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V2(s,t){const i=L2(t),a=U2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function k2(s,t){Pc.set(s._key(),t)}function U2(s){return hs(s._redirectPersistence)}function L2(s){return zc(O2,s.config.apiKey,s.name)}async function z2(s,t,i=!1){if(Zn(s.app))return Promise.reject(fs(s));const a=Ql(s),l=C2(a,t),d=await new M2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const P2=600*1e3;class j2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!B2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!yE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=P2&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function yE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function B2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yE(s);default:return!1}}async function q2(s,t={}){return fo(s,"GET","/v1/projects",t)}const H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;async function F2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await q2(s);for(const i of t)try{if(Q2(i))return}catch{}ms(s,"unauthorized-domain")}function Q2(s){const t=sm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!G2.test(i))return!1;if(H2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const K2=new Gl(3e4,6e4);function dv(){const s=Pi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Y2(s){return new Promise((t,i)=>{function a(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),i(zi(s,"network-request-failed"))},timeout:K2.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const l=XA("iframefcb");return Pi()[l]=()=>{gapi.load?a():i(zi(s,"network-request-failed"))},KA(`${YA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function X2(s){return jc=jc||Y2(s),jc}const $2=new Gl(5e3,15e3),Z2="__/auth/iframe",J2="emulator/auth/iframe",W2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ew(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?xm(t,J2):`https://${s.config.authDomain}/${Z2}`,a={apiKey:t.apiKey,appName:s.name,v:ho},l=tw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function nw(s){const t=await X2(s),i=Pi().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:ew(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),y=Pi().setTimeout(()=>{c(d)},$2.get());function p(){Pi().clearTimeout(y),l(a)}a.ping(p).then(p,()=>{c(d)})}))}const iw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sw=500,rw=600,aw="_blank",ow="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lw(s,t,i,a=sw,l=rw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...iw,width:a.toString(),height:l.toString(),top:c,left:d},_=ln().toLowerCase();i&&(y=Z0(_)?aw:i),X0(_)&&(t=t||ow,p.scrollbars="yes");const b=Object.entries(p).reduce((M,[H,J])=>`${M}${H}=${J},`,"");if(PA(_)&&y!=="_self")return uw(t||"",y),new mv(null);const S=window.open(t||"",y,b);Tt(S,s,"popup-blocked");try{S.focus()}catch{}return new mv(S)}function uw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const cw="__/auth/handler",hw="emulator/auth/handler",fw=encodeURIComponent("fac");async function gv(s,t,i,a,l,c){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(t instanceof aE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",lS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Kl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const p=await s._getAppCheckToken(),_=p?`#${fw}=${encodeURIComponent(p)}`:"";return`${dw(s)}?${Hl(y).slice(1)}${_}`}function dw({config:s}){return s.emulator?xm(s,hw):`https://${s.authDomain}/${cw}`}const Fd="webStorageSupport";class mw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hE,this._completeRedirectFn=z2,this._overrideRedirectResult=k2}async _openPopup(t,i,a,l){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gv(t,i,a,sm(),l);return lw(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await gv(t,i,a,sm(),l);return y2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await nw(t),a=new j2(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Fd,{type:Fd},l=>{const c=l?.[0]?.[Fd];c!==void 0&&i(!!c),ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=F2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return nE()||$0()||Om()}}const gw=mw;var pv="@firebase/auth",yv="1.12.0";class pw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _w(s){no(new $r("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(s)},_=new FA(a,l,c,p);return ZA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),no(new $r("auth-internal",t=>{const i=Ql(t.getProvider("auth").getImmediate());return(a=>new pw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(pv,yv,yw(s)),ar(pv,yv,"esm2020")}const vw=300,Ew=O0("authIdTokenMaxAge")||vw;let _v=null;const Tw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Ew)return;const l=i?.token;_v!==l&&(_v=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bw(s=z0()){const t=Cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=$A(s,{popupRedirectResolver:gw,persistence:[R2,m2,hE]}),a=O0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Tw(c.toString());c2(i,d,()=>d(i.currentUser)),u2(i,y=>d(y))}}const l=N0("auth");return l&&JA(i,`http://${l}`),i}function Sw(){return document.getElementsByTagName("head")?.[0]??document}QA({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Sw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_w("Browser");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,_E;(function(){var s;function t(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,k){for(var w=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)w[Kt-2]=arguments[Kt];return A.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],N=I.g[2];let k=I.g[3],w;w=A+(k^x&(N^k))+V[0]+3614090360&4294967295,A=x+(w<<7&4294967295|w>>>25),w=k+(N^A&(x^N))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(x^k&(A^x))+V[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=x+(A^N&(k^A))+V[3]+3250441966&4294967295,x=N+(w<<22&4294967295|w>>>10),w=A+(k^x&(N^k))+V[4]+4118548399&4294967295,A=x+(w<<7&4294967295|w>>>25),w=k+(N^A&(x^N))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(x^k&(A^x))+V[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=x+(A^N&(k^A))+V[7]+4249261313&4294967295,x=N+(w<<22&4294967295|w>>>10),w=A+(k^x&(N^k))+V[8]+1770035416&4294967295,A=x+(w<<7&4294967295|w>>>25),w=k+(N^A&(x^N))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(x^k&(A^x))+V[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=x+(A^N&(k^A))+V[11]+2304563134&4294967295,x=N+(w<<22&4294967295|w>>>10),w=A+(k^x&(N^k))+V[12]+1804603682&4294967295,A=x+(w<<7&4294967295|w>>>25),w=k+(N^A&(x^N))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(x^k&(A^x))+V[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=x+(A^N&(k^A))+V[15]+1236535329&4294967295,x=N+(w<<22&4294967295|w>>>10),w=A+(N^k&(x^N))+V[1]+4129170786&4294967295,A=x+(w<<5&4294967295|w>>>27),w=k+(x^N&(A^x))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^x&(k^A))+V[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=x+(k^A&(N^k))+V[0]+3921069994&4294967295,x=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(x^N))+V[5]+3593408605&4294967295,A=x+(w<<5&4294967295|w>>>27),w=k+(x^N&(A^x))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^x&(k^A))+V[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=x+(k^A&(N^k))+V[4]+3889429448&4294967295,x=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(x^N))+V[9]+568446438&4294967295,A=x+(w<<5&4294967295|w>>>27),w=k+(x^N&(A^x))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^x&(k^A))+V[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=x+(k^A&(N^k))+V[8]+1163531501&4294967295,x=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(x^N))+V[13]+2850285829&4294967295,A=x+(w<<5&4294967295|w>>>27),w=k+(x^N&(A^x))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^x&(k^A))+V[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=x+(k^A&(N^k))+V[12]+2368359562&4294967295,x=N+(w<<20&4294967295|w>>>12),w=A+(x^N^k)+V[5]+4294588738&4294967295,A=x+(w<<4&4294967295|w>>>28),w=k+(A^x^N)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^x)+V[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=x+(N^k^A)+V[14]+4259657740&4294967295,x=N+(w<<23&4294967295|w>>>9),w=A+(x^N^k)+V[1]+2763975236&4294967295,A=x+(w<<4&4294967295|w>>>28),w=k+(A^x^N)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^x)+V[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=x+(N^k^A)+V[10]+3200236656&4294967295,x=N+(w<<23&4294967295|w>>>9),w=A+(x^N^k)+V[13]+681279174&4294967295,A=x+(w<<4&4294967295|w>>>28),w=k+(A^x^N)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^x)+V[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=x+(N^k^A)+V[6]+76029189&4294967295,x=N+(w<<23&4294967295|w>>>9),w=A+(x^N^k)+V[9]+3654602809&4294967295,A=x+(w<<4&4294967295|w>>>28),w=k+(A^x^N)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^x)+V[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=x+(N^k^A)+V[2]+3299628645&4294967295,x=N+(w<<23&4294967295|w>>>9),w=A+(N^(x|~k))+V[0]+4096336452&4294967295,A=x+(w<<6&4294967295|w>>>26),w=k+(x^(A|~N))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~x))+V[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=x+(k^(N|~A))+V[5]+4237533241&4294967295,x=N+(w<<21&4294967295|w>>>11),w=A+(N^(x|~k))+V[12]+1700485571&4294967295,A=x+(w<<6&4294967295|w>>>26),w=k+(x^(A|~N))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~x))+V[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=x+(k^(N|~A))+V[1]+2240044497&4294967295,x=N+(w<<21&4294967295|w>>>11),w=A+(N^(x|~k))+V[8]+1873313359&4294967295,A=x+(w<<6&4294967295|w>>>26),w=k+(x^(A|~N))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~x))+V[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=x+(k^(N|~A))+V[13]+1309151649&4294967295,x=N+(w<<21&4294967295|w>>>11),w=A+(N^(x|~k))+V[4]+4149444226&4294967295,A=x+(w<<6&4294967295|w>>>26),w=k+(x^(A|~N))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~x))+V[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=x+(k^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=x;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<A;)if(V[N++]=I[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[A++]=this.g[x]>>>V&255;return I};function c(I,A){var x=y;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function d(I,A){this.h=A;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==A||(x[N]=k,V=!1)}this.g=x}var y={};function p(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return tt(_(-I));const A=[];let x=1;for(let V=0;I>=x;V++)A[V]=I/x|0,x*=4294967296;return new d(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return tt(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let V=S;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(w))):(V=V.j(x),V=V.add(_(w)))}return V}var S=p(0),M=p(1),H=p(16777216);s=d.prototype,s.m=function(){if(it(this))return-tt(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(it(this))return"-"+tt(this).toString(I);const A=_(Math.pow(I,6));var x=this;let V="";for(;;){const N=Vt(x,A).g;x=pt(x,N.j(A));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,J(x))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}s.l=function(I){return I=pt(this,I),it(I)?-1:J(I)?0:1};function tt(I){const A=I.g.length,x=[];for(let V=0;V<A;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}s.abs=function(){return it(this)?tt(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=A;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,k&=65535,w&=65535,x[N]=w<<16|k}return new d(x,x[x.length-1]&-2147483648?-1:0)};function pt(I,A){return I.add(tt(A))}s.j=function(I){if(J(this)||J(I))return S;if(it(this))return it(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(it(I))return tt(this.j(tt(I)));if(this.l(H)<0&&I.l(H)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,w=this.i(V)&65535,Kt=I.i(N)>>>16,Se=I.i(N)&65535;x[2*V+2*N]+=w*Se,wt(x,2*V+2*N),x[2*V+2*N+1]+=k*Se,wt(x,2*V+2*N+1),x[2*V+2*N+1]+=w*Kt,wt(x,2*V+2*N+1),x[2*V+2*N+2]+=k*Kt,wt(x,2*V+2*N+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new d(x,0)};function wt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function yt(I,A){this.g=I,this.h=A}function Vt(I,A){if(J(A))throw Error("division by zero");if(J(I))return new yt(S,S);if(it(I))return A=Vt(tt(I),A),new yt(tt(A.g),tt(A.h));if(it(A))return A=Vt(I,tt(A)),new yt(tt(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=A;V.l(I)<=0;)x=re(x),V=re(V);var N=kt(x,1),k=kt(V,1);for(V=kt(V,2),x=kt(x,2);!J(V);){var w=k.add(V);w.l(I)<=0&&(N=N.add(x),k=w),V=kt(V,1),x=kt(x,1)}return A=pt(I,N.j(A)),new yt(N,A)}for(N=S;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(x),w=k.j(A);it(w)||w.l(I)>0;)x-=V,k=_(x),w=k.j(A);J(k)&&(k=M),N=N.add(k),I=pt(I,w)}return new yt(N,I)}s.B=function(I){return Vt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function re(I){const A=I.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function kt(I,A){const x=A>>5;A%=32;const V=I.g.length-x,N=[];for(let k=0;k<V;k++)N[k]=A>0?I.i(k+x)>>>A|I.i(k+x+1)<<32-A:I.i(k+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,_E=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,or=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vE,Sl,EE,Bc,om,TE,bE,SE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)W[xt-2]=arguments[xt];return m.prototype[L].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new it(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,kt=!1,I=new wt,A=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(x)}};function x(){for(var u;u=pt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Kt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Kt,N),Kt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Kt.Z.h.call(this)},Kt.prototype.h=function(){Kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Gt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Rt(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ae={};function Z(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Z(u,m[B],v,T,L);return null}return v=ye(v),u&&u[Se]?u.J(m,v,y(T)?!!T.capture:!1,L):st(u,m,v,!1,T,L)}function st(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const W=y(L)?!!L.capture:!!L;let xt=_t(u);if(xt||(u[Ut]=xt=new rt(u)),v=xt.add(m,v,T,W,B),v.proxy)return v;if(T=ct(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ot(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ct(){function u(v){return m.call(u.src,u.listener,v)}const m=lt;return u}function Ct(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ct(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=ye(v),u&&u[Se]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=_t(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,L)),(v=u>-1?m[u]:null)&&Jt(v))}function Jt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ot(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=_t(m))?(Et(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ft(u)}}}function Ot(u){return u in Ae?Ae[u]:Ae[u]="on"+u}function lt(u,m){if(u.da)u=!0;else{m=new Kt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Jt(u),u=v.call(T,m)}return u}function _t(u){return u=u[Ut],u instanceof rt?u:null}var Mt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ye(u){return typeof u=="function"?u:(u[Mt]||(u[Mt]=function(m){return u.handleEvent(m)}),u[Mt])}function It(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(It,V),It.prototype[Se]=!0,It.prototype.removeEventListener=function(u,m,v,T){Ct(this,u,m,v,T)};function Yt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=un(B,T,!0,m)&&L;if(B=m.g=u,L=un(B,T,!0,m)&&L,L=un(B,T,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=un(B,T,!1,m)&&L}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},It.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},It.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function un(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const xt=W.listener,Re=W.ha||W.src;W.fa&&Et(u.i,W),L=xt.call(Re,T)!==!1&&L}}return L&&!T.defaultPrevented}function kn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Un(u){u.g=kn(()=>{u.g=null,u.i&&(u.i=!1,Un(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class cn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){V.call(this),this.h=u,this.g={}}S(_r,V);var vo=[];function Eo(u){Gt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Jt(m)},u),u.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Eo(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,kh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){N.call(this,"d")}S(Ye,N);function Ln(){N.call(this,"c")}S(Ln,N);var we={},su=null;function ia(){return su=su||new It}we.Ia="serverreachability";function ru(u){N.call(this,we.Ia,u)}S(ru,N);function gi(u){const m=ia();Yt(m,new ru(m))}we.STAT_EVENT="statevent";function vr(u,m){N.call(this,we.STAT_EVENT,u),this.stat=m}S(vr,N);function Ne(u){const m=ia();Yt(m,new vr(m,u))}we.Ja="timingevent";function pi(u,m){N.call(this,we.Ja,u),this.size=m}S(pi,N);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Uh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var W="",xt=B.split("&");for(let Wt=0;Wt<xt.length;Wt++){var Re=xt[Wt].split("=");if(Re.length>1){const ge=Re[0];Re=Re[1];const Bn=ge.split("_");W=Bn.length>=2&&Bn[1]=="type"?W+(ge+"="+Re+"&"):W+(ge+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function au(u,m,v,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function _i(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(T?" "+T:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Es(B)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function br(){}S(br,nu),br.prototype.g=function(){return new XMLHttpRequest},bo=new br;function Fi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var De={},Ge={};function vi(u,m,v){u.M=1,u.A=Sr(Me(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),Ei(u),u.B=Me(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ni,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new cn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(vo[0]=L.toString()),L=vo);for(let B=0;B<L.length;B++){const W=Z(v,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)t:{const xt=ri(this.g),Re=this.g.ya(),Wt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||xt!=4||Re==7||(Re==8||Wt<=0?gi(3):gi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ne(12),Sn(this),zn(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<v.length;)if(ge=uu(this,v),ge==Ge){xt==4&&(this.m=4,Ne(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==De){this.m=4,Ne(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,ge,null),bi(this,ge);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(W),W.P=!0,Ne(11))}}else _i(this.i,this.l,v,null),bi(this,v);xt==4&&Sn(this),this.o&&!this.K&&(xt==4?_u(this.j,this):(this.o=!1,Ei(this)))}else Ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),Sn(this),zn(this)}}}catch{}};function zh(u){if(!lu(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let v="";const T=m.length,L=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),zn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ge:(v=Number(m.substring(v,T)),isNaN(v)?De:(T+=1,T+v>m.length?Ge:(m=m.slice(T,T+v),u.C=T+v,m)))}ei.prototype.cancel=function(){this.K=!0,Sn(this)};function Ei(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(gi(),Ne(17)),Sn(this),this.m=2,zn(this)):ra(this,this.T-u)};function zn(u){u.j.I==0||u.K||_u(u.j,u)}function Sn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),Is(v);else break t;Nr(v),Ne(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&da(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Wt=L[m];const ge=Wt[0];if(!(ge<=v.K))if(v.K=ge,Wt=Wt[1],v.I==2)if(Wt[0]=="c"){v.M=Wt[1],v.ba=Wt[2];const Bn=Wt[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Di=Wt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ai=Wt[5];ai!=null&&typeof ai=="number"&&ai>0&&(T=1.5*ai,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const oi=u.g;if(oi){const Dr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var B=T.h;B.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(T.G){const ma=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(T.wa=ma,ne(T.J,T.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Tu(T,T.L?T.ba:null,T.W),W.L){Ro(T.h,W);var xt=W,Re=T.O;Re&&(xt.H=Re),xt.D&&(Ti(xt),Ei(xt)),T.g=W}else pu(T);v.i.length>0&&xi(v)}else Wt[0]!="stop"&&Wt[0]!="close"||Ni(v,7);else v.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Ni(v,7):ko(v):Wt[0]!="noop"&&v.l&&v.l.qa(Wt),v.A=0)}}gi(4)}catch{}}var Oe=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Io(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Ts(this,m[4]),this.h=wi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ar(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ar(m,oa,!0),"@"),u.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ar(v,v.charAt(0)=="/"?xo:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ar(v,fu)),u.join("")},An.prototype.resolve=function(u){const m=Me(this);let v=!!u.j;v?Fe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const xt=L[W++];xt=="."?T&&W==L.length&&B.push(""):xt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(xt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Io(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Me(u){return new An(u)}function Fe(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof Ss?(u.i=m,ua(u.i,u.l)):(v||(m=Ar(m,bs)),u.i=new Ss(m,u.l))}function ne(u,m,v){u.i.set(m,v)}function Sr(u){return ne(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,hu=/[#\?:]/g,xo=/[#\?]/g,bs=/[#\?@]/g,fu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){gn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){gn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return gn(u),m=As(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Do(u,m){gn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return gn(this),this.i=null,u=As(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Fi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Fi(v[B])),u.push(W)}}return this.i=u.join("&")};function mu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(du(this,T),la(this,L,v))},u)),u.j=m}function ii(u,m){const v=new ti;if(d.Image){const T=new Image;T.onload=b(Pn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Pn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Pn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Pn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new ti,T=new AbortController,L=setTimeout(()=>{T.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ws(){this.g=new eu}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ri,nu),Ri.prototype.g=function(){return new wr(this.i,this.h)};function wr(u,m){It.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(wr,It),s=wr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):si(this),this.readyState==3&&ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return Gt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Rr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=jn(v),typeof u=="string"?v!=null&&Fi(v):ne(u,m,v))}function ae(u){It.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ae,It);var Ci=/^https?$/i,Mo=["POST","PUT"];s=ae.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Cr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Cr(this,B)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),Qi(u)}function Vo(u){u.A||(u.A=!0,Yt(u,"complete"),Yt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Yt(this,"complete"),Yt(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),ae.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},s.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(Yt(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(cu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ci.test(W?W.toLowerCase():"")}v=T}if(v)Yt(u,"complete"),Yt(u,"success");else{u.o=6;try{var L=ri(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vo(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Yt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kh(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=ou(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ne(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Tu(this,null,this.W),xi(this)};function ko(u){if(ha(u),u.I==3){var m=u.V++,v=Me(u.J);if(ne(v,"SID",u.M),ne(v,"RID",m),ne(v,"TYPE","terminate"),xr(u,v),m=new ei(u,u.j,m),m.M=2,m.A=Sr(Me(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Eu(u)}function Is(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function ha(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||A(),kt||(re(),kt=!0),I.add(m,u),u.D=0}}function fa(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ei(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=Me(this.J),ne(v,"RID",u),ne(v,"CVER",22),this.G&&ne(v,"X-HTTP-Session-Id",this.G),xr(this,v),B&&(this.R?m="headers="+Fi(jn(B))+"&"+m:this.u&&Rr(v,this.u,B)),wo(this.h,L),this.Ra&&ne(v,"TYPE","init"),this.S?(ne(v,"$req",m),ne(v,"SID","null"),L.U=!0,vi(L,v,null)):vi(L,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ao(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=Me(u.J);ne(T,"SID",u.M),ne(T,"RID",v),ne(T,"AID",u.K),xr(u,T),u.u&&u.o&&Rr(T,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),vi(v,T,m)}function xr(u,m){u.H&&Gt(u.H,function(v,T){ne(m,T,v)}),u.l&&Gt({},function(v,T){ne(m,T,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let xt=-1;for(;;){const Re=["count="+v];xt==-1?v>0?(xt=L[0].g,Re.push("ofs="+xt)):xt=0:Re.push("ofs="+xt);let Wt=!0;for(let ge=0;ge<v;ge++){var B=L[ge].g;const Bn=L[ge].map;if(B-=xt,B<0)xt=Math.max(0,L[ge].g-100),Wt=!1;else try{B="req"+B+"_"||"";try{var W=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Di,ai]of W){let oi=ai;y(ai)&&(oi=Es(ai)),Re.push(B+Di+"="+encodeURIComponent(oi))}}catch(Di){throw Re.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(Bn)}}if(Wt){W=Re.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||A(),kt||(re(),kt=!0),I.add(m,u),u.A=0}}function Nr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Is(this),yu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Me(u.na);ne(m,"RID","rpc"),ne(m,"SID",u.M),ne(m,"AID",u.K),ne(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ne(m,"TO",u.ia),ne(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&Rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Sr(Me(m)),v.u=null,v.R=!0,sa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Nr(this),Ne(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){da(u),Lo(u),u.g=null;var T=2}else if(Ai(u.h,m))v=m.G,Ro(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ia(),Yt(T,new pi(T,v)),xi(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&fa(u,m)||T==2&&Nr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new An(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(T,"https"),Sr(T),L?ii(T.toString(),v):Oo(T.toString(),v)}else Ne(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ha(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var T=v instanceof An?Me(v):new An(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);T&&Fe(B,T),m&&(B.g=m),L&&Ts(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&ne(T,v,m),ne(T,"VER",u.ka),xr(u,T),T}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ae(new Ri({ab:v})):new ae(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){It.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}S(hn,It),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){ko(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Es(u),u=v);m.i.push(new Oe(m.Ya++,u)),m.I==3&&xi(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,hn.Z.N.call(this)};function Au(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Au,Ye);function wu(){Ln.call(this),this.status=1}S(wu,Ln);function Yi(u){this.g=u}S(Yi,Su),Yi.prototype.ra=function(){Yt(this.g,"a")},Yi.prototype.qa=function(u){Yt(this.g,new Au(u))},Yi.prototype.pa=function(u){Yt(this.g,new wu)},Yi.prototype.oa=function(){Yt(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,SE=function(){return new xs},bE=function(){return ia()},TE=we,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Bc=Tr,To.COMPLETE="complete",EE=To,iu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",It.prototype.listen=It.prototype.J,Sl=iu,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,vE=ae}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});let an=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let mo="12.8.0";function Aw(s){mo=s}const Jr=new wm("@firebase/firestore");function Fa(){return Jr.logLevel}function at(s,...t){if(Jr.logLevel<=Bt.DEBUG){const i=t.map(Um);Jr.debug(`Firestore (${mo}): ${s}`,...i)}}function ys(s,...t){if(Jr.logLevel<=Bt.ERROR){const i=t.map(Um);Jr.error(`Firestore (${mo}): ${s}`,...i)}}function io(s,...t){if(Jr.logLevel<=Bt.WARN){const i=t.map(Um);Jr.warn(`Firestore (${mo}): ${s}`,...i)}}function Um(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,AE(s,a,i)}function AE(s,t,i){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ys(a),new Error(a)}function ee(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||AE(t,l,a)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends vs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class wE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class Rw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cw{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ee(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new lr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},y=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ee(typeof a.accessToken=="string",31837,{l:a}),new wE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class Iw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Iw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ee(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ee(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Dw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function qt(s,t){return s<t?-1:s>t?1:0}function lm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Qd(l)===Qd(c)?qt(l,c):Qd(l)?1:-1}return qt(s.length,t.length)}const Ow=55296,Mw=57343;function Qd(s){const t=s.charCodeAt(0);return t>=Ow&&t<=Mw}function so(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Tv="__name__";class Li{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return qt(t.length,i.length)}static compareSegments(t,i){const a=Li.isNumericId(t),l=Li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):lm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class _e extends Li{construct(t,i,a){return new _e(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const Vw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Li{construct(t,i,a){return new en(t,i,a)}static isValidIdentifier(t){return Vw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new en([Tv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(_e.fromString(t))}static fromName(t){return new mt(_e.fromString(t).popFirst(5))}static empty(){return new mt(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new _e(t.slice()))}}function kw(s,t,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Uw(s,t,i,a){if(t===!0&&a===!0)throw new ht($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function bv(s){if(!mt.isDocumentKey(s))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function RE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function fi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(s);throw new ht($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Pe(s,t){const i={typeString:s};return t&&(i.value=t),i}function Xl(s,t){if(!RE(s))throw new ht($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht($.INVALID_ARGUMENT,i);return!0}const Sv=-62135596800,Av=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Av);return new me(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Sv)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Pe("string",me._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new me(0,0))}static max(){return new bt(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function Lw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new me(i+1,0):new me(i,a));return new cr(l,mt.empty(),t)}function zw(s){return new cr(s.readTime,s.key,kl)}class cr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new cr(bt.min(),mt.empty(),kl)}static max(){return new cr(bt.max(),mt.empty(),kl)}}function Pw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:qt(s.largestBatchId,t.largestBatchId))}const jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==jw)throw s;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(p=>a(p)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((b=>{d[_]=b,++y,y===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function qw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const Pm=-1;function _h(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function Hw(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const CE="";function Gw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=wv(t)),t=Fw(s.get(i),t);return wv(t)}function Fw(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case CE:i+="";break;default:i+=c}}return i}function wv(s){return s+CE+""}function Rv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function pr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function IE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new tn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(t){return new Cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class Cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new He(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class xE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Qw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(ee(!!s,39018),typeof s=="string"){let t=0;const i=Qw.exec(s);if(ee(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:xe(s.seconds),nanos:xe(s.nanos)}}function xe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const NE="server_timestamp",DE="__type__",OE="__previous_value__",ME="__local_write_time__";function jm(s){return(s?.mapValue?.fields||{})[DE]?.stringValue===NE}function vh(s){const t=s.mapValue.fields[OE];return jm(t)?vh(t):t}function Ul(s){const t=hr(s.mapValue.fields[ME].timestampValue);return new me(t.seconds,t.nanos)}class Kw{constructor(t,i,a,l,c,d,y,p,_,b,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=S}}const ih="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}function Yw(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(s.options.projectId,t)}const VE="__type__",Xw="__max__",Oc={mapValue:{}},kE="__vector__",sh="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?jm(s)?4:Zw(s)?9007199254740991:$w(s)?10:11:vt(28295,{value:s})}function Hi(s,t){if(s===t)return!0;const i=dr(s);if(i!==dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ul(s).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=hr(l.timestampValue),y=hr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return xe(l.geoPointValue.latitude)===xe(c.geoPointValue.latitude)&&xe(l.geoPointValue.longitude)===xe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return xe(l.integerValue)===xe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=xe(l.doubleValue),y=xe(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(s,t);case 9:return so(s.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(Rv(d)!==Rv(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Hi(d[p],y[p])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function zl(s,t){return(s.values||[]).find((i=>Hi(i,t)))!==void 0}function ro(s,t){if(s===t)return 0;const i=dr(s),a=dr(t);if(i!==a)return qt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=xe(c.integerValue||c.doubleValue),p=xe(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(s,t);case 3:return Iv(s.timestampValue,t.timestampValue);case 4:return Iv(Ul(s),Ul(t));case 5:return lm(s.stringValue,t.stringValue);case 6:return(function(c,d){const y=fr(c),p=fr(d);return y.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const b=qt(y[_],p[_]);if(b!==0)return b}return qt(y.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=qt(xe(c.latitude),xe(d.latitude));return y!==0?y:qt(xe(c.longitude),xe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return xv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[sh]?.arrayValue,b=p[sh]?.arrayValue,S=qt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:xv(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const M=lm(p[S],b[S]);if(M!==0)return M;const H=ro(y[p[S]],_[b[S]]);if(H!==0)return H}return qt(p.length,b.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function Iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return qt(s,t);const i=hr(s),a=hr(t),l=qt(i.seconds,a.seconds);return l!==0?l:qt(i.nanos,a.nanos)}function xv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ro(i[l],a[l]);if(c)return c}return qt(i.length,a.length)}function ao(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=hr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return fr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function qc(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(s);return t?16+qc(t):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return pr(a.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function cm(s){return!!s&&"integerValue"in s}function Bm(s){return!!s&&"arrayValue"in s}function Nv(s){return!!s&&"nullValue"in s}function Dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function $w(s){return(s?.mapValue?.fields||{})[VE]?.stringValue===kE}function xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=xl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=xl(s.arrayValue.values[i]);return t}return{...s}}function Zw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(i)}setAll(t){let i=en.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=xl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){pr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new bn(xl(this.value))}}function UE(s){const t=[];return pr(s.fields,((i,a)=>{const l=new en([i]);if(Hc(a)){const c=UE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Vn(t)}class on{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),bn.empty(),0)}static newFoundDocument(t,i,a,l){return new on(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new on(t,2,i,bt.min(),bt.min(),bn.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,bt.min(),bt.min(),bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function Ov(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function Jw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class LE{}class qe extends LE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new tR(t,i,a):i==="array-contains"?new iR(t,a):i==="in"?new sR(t,a):i==="not-in"?new rR(t,a):i==="array-contains-any"?new aR(t,a):new qe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new eR(t,a):new nR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends LE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Gi(t,i)}matches(t){return zE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zE(s){return s.op==="and"}function PE(s){return Ww(s)&&zE(s)}function Ww(s){for(const t of s.filters)if(t instanceof Gi)return!1;return!0}function hm(s){if(s instanceof qe)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(PE(s))return s.filters.map((t=>hm(t))).join(",");{const t=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${t})`}}function jE(s,t){return s instanceof qe?(function(a,l){return l instanceof qe&&a.op===l.op&&a.field.isEqual(l.field)&&Hi(a.value,l.value)})(s,t):s instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&jE(d,l.filters[y])),!0):!1})(s,t):void vt(19439)}function BE(s){return s instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(BE).join(" ,")+"}"})(s):"Filter"}class tR extends qe{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class eR extends qe{constructor(t,i){super(t,"in",i),this.keys=qE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class nR extends qe{constructor(t,i){super(t,"not-in",i),this.keys=qE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function qE(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class iR extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&zl(i.arrayValue,this.value)}}class sR extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class rR extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class aR extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>zl(this.value.arrayValue,a)))}}class oR{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Vv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new oR(s,t,i,a,l,c,d)}function qm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ao(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ao(a))).join(",")),t.Te=i}return t.Te}function Hm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Jw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!jE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Mv(s.startAt,t.startAt)&&Mv(s.endAt,t.endAt)}function fm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function lR(s,t,i,a,l,c,d,y){return new Eh(s,t,i,a,l,c,d,y)}function Th(s){return new Eh(s)}function kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uR(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function cR(s){return s.collectionGroup!==null}function Nl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new He(en.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(en.keyField().canonicalString())||t.Ie.push(new ah(en.keyField(),a))}return t.Ie}function ji(s){const t=At(s);return t.Ee||(t.Ee=hR(t,Nl(s))),t.Ee}function hR(s,t){if(s.limitType==="F")return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function dm(s,t,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function bh(s,t){return Hm(ji(s),ji(t))&&s.limitType===t.limitType}function HE(s){return`${qm(ji(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>BE(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${a})`})(ji(s))}; limitType=${s.limitType})`}function Sh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Nl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,p){const _=Ov(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,Nl(a),l)||a.endAt&&!(function(d,y,p){const _=Ov(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,Nl(a),l))})(s,t)}function fR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function GE(s){return(t,i)=>{let a=!1;for(const l of Nl(s)){const c=dR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function dR(s,t,i){const a=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?ro(p,_):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){pr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const mR=new ve(mt.comparator);function _s(){return mR}const FE=new ve(mt.comparator);function Al(...s){let t=FE;for(const i of s)t=t.insert(i.key,i);return t}function QE(s){let t=FE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Yr(){return Dl()}function KE(){return Dl()}function Dl(){return new ea((s=>s.toString()),((s,t)=>s.isEqual(t)))}const gR=new ve(mt.comparator),pR=new He(mt.comparator);function Ht(...s){let t=pR;for(const i of s)t=t.add(i);return t}const yR=new He(qt);function _R(){return yR}function Gm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function YE(s){return{integerValue:""+s}}function vR(s,t){return Hw(t)?YE(t):Gm(s,t)}class Ah{constructor(){this._=void 0}}function ER(s,t,i){return s instanceof oh?(function(l,c){const d={fields:{[DE]:{stringValue:NE},[ME]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=vh(c)),c&&(d.fields[OE]=c),{mapValue:d}})(i,t):s instanceof oo?$E(s,t):s instanceof Pl?ZE(s,t):(function(l,c){const d=XE(l,c),y=Uv(d)+Uv(l.Ae);return cm(d)&&cm(l.Ae)?YE(y):Gm(l.serializer,y)})(s,t)}function TR(s,t,i){return s instanceof oo?$E(s,t):s instanceof Pl?ZE(s,t):i}function XE(s,t){return s instanceof lh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class oh extends Ah{}class oo extends Ah{constructor(t){super(),this.elements=t}}function $E(s,t){const i=JE(t);for(const a of s.elements)i.some((l=>Hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends Ah{constructor(t){super(),this.elements=t}}function ZE(s,t){let i=JE(t);for(const a of s.elements)i=i.filter((l=>!Hi(l,a)));return{arrayValue:{values:i}}}class lh extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Uv(s){return xe(s.integerValue||s.doubleValue)}function JE(s){return Bm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class bR{constructor(t,i){this.field=t,this.transform=i}}function SR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof oo&&l instanceof oo||a instanceof Pl&&l instanceof Pl?so(a.elements,l.elements,Hi):a instanceof lh&&l instanceof lh?Hi(a.Ae,l.Ae):a instanceof oh&&l instanceof oh})(s.transform,t.transform)}class AR{constructor(t,i){this.version=t,this.transformResults=i}}class di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class wh{}function WE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Fm(s.key,di.none()):new $l(s.key,s.data,di.none());{const i=s.data,a=bn.empty();let l=new He(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new yr(s.key,a,new Vn(l.toArray()),di.none())}}function wR(s,t,i){s instanceof $l?(function(l,c,d){const y=l.value.clone(),p=zv(l.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):s instanceof yr?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=zv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(tT(l)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(s,t,i,a){return s instanceof $l?(function(c,d,y,p){if(!Gc(c.precondition,d))return y;const _=c.value.clone(),b=Pv(c.fieldTransforms,p,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof yr?(function(c,d,y,p){if(!Gc(c.precondition,d))return y;const _=Pv(c.fieldTransforms,p,d),b=d.data;return b.setAll(tT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,y){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,t,i)}function RR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=XE(a.transform,l||null);c!=null&&(i===null&&(i=bn.empty()),i.set(a.field,c))}return i||null}function Lv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&so(a,l,((c,d)=>SR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class $l extends wh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yr extends wh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function zv(s,t,i){const a=new Map;ee(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,TR(d,y,i[l]))}return a}function Pv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,ER(c,d,t))}return a}class Fm extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CR extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&wR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=KE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const p=WE(d,y);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,a)=>Lv(i,a)))&&so(this.baseMutations,t.baseMutations,((i,a)=>Lv(i,a)))}}class Qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){ee(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return gR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(t,i,a,l)}}class xR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NR{constructor(t,i){this.count=t,this.unchangedNames=i}}var ze,Qt;function DR(s){switch(s){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function eT(s){if(s===void 0)return ys("GRPC error has no .code"),$.UNKNOWN;switch(s){case ze.OK:return $.OK;case ze.CANCELLED:return $.CANCELLED;case ze.UNKNOWN:return $.UNKNOWN;case ze.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ze.INTERNAL:return $.INTERNAL;case ze.UNAVAILABLE:return $.UNAVAILABLE;case ze.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ze.NOT_FOUND:return $.NOT_FOUND;case ze.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ze.ABORTED:return $.ABORTED;case ze.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ze.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:s})}}(Qt=ze||(ze={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function OR(){return new TextEncoder}const MR=new or([4294967295,4294967295],0);function jv(s){const t=OR().encode(s),i=new _E;return i.update(t),new Uint8Array(i.digest())}function Bv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new or([i,a],0),new or([l,c],0)]}class Km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=or.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(or.fromNumber(a)));return l.compare(MR)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=jv(t),[a,l]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Km(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=jv(t),[a,l]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Zl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Rh(bt.min(),l,new ve(qt),_s(),Ht())}}class Zl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Zl(a,i,Ht(),Ht(),Ht())}}class Fc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class nT{constructor(t,i){this.targetId=t,this.Ce=i}}class iT{constructor(t,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),a=Ht();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Zl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Hv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class VR{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=Mc(),this.Je=Mc(),this.Ze=new ve(qt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(a===0){const d=new mt(c.path);this.et(i,d,on.newNoDocument(d,bt.min()))}else ee(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),p=y?this.ct(y,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=fr(a).toUint8Array()}catch(p){if(p instanceof xE)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new Km(d,l,c)}catch(p){return io(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const p=new mt(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,on.newNoDocument(p,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ht();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ze,this.je,a);return this.je=_s(),this.He=Mc(),this.Je=Mc(),this.Ze=new ve(qt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new qv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new He(qt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new He(qt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new qv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new ve(mt.comparator)}function Hv(){return new ve(mt.comparator)}const kR={asc:"ASCENDING",desc:"DESCENDING"},UR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LR={and:"AND",or:"OR"};class zR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mm(s,t){return s.useProto3Json||_h(t)?t:{value:t}}function uh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function PR(s,t){return uh(s,t.toTimestamp())}function Bi(s){return ee(!!s,49232),bt.fromTimestamp((function(i){const a=hr(i);return new me(a.seconds,a.nanos)})(s))}function Ym(s,t){return gm(s,t).canonicalString()}function gm(s,t){const i=(function(l){return new _e(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function rT(s){const t=_e.fromString(s);return ee(cT(t),10190,{key:t.toString()}),t}function pm(s,t){return Ym(s.databaseId,t.path)}function Kd(s,t){const i=rT(t);if(i.get(1)!==s.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(oT(i))}function aT(s,t){return Ym(s.databaseId,t)}function jR(s){const t=rT(s);return t.length===4?_e.emptyPath():oT(t)}function ym(s){return new _e(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function oT(s){return ee(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Gv(s,t,i){return{name:pm(s,t),fields:i.value.mapValue.fields}}function BR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(ee(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(ee(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:eT(_.code);return new ht(b,_.message||"")})(d);i=new iT(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Kd(s,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):bt.min(),y=new bn({mapValue:{fields:a.document.fields}}),p=on.newFoundDocument(l,c,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Fc(_,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Kd(s,a.document),c=a.readTime?Bi(a.readTime):bt.min(),d=on.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Fc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Kd(s,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new NR(l,c),y=a.targetId;i=new nT(y,d)}}return i}function qR(s,t){let i;if(t instanceof $l)i={update:Gv(s,t.key,t.value)};else if(t instanceof Fm)i={delete:pm(s,t.key)};else if(t instanceof yr)i={update:Gv(s,t.key,t.data),updateMask:ZR(t.fieldMask)};else{if(!(t instanceof CR))return vt(16599,{dt:t.type});i={verify:pm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof lh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:PR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function HR(s,t){return s&&s.length>0?(ee(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(bt.min())&&(d=Bi(c)),new AR(d,l.transformResults||[])})(i,t)))):[]}function GR(s,t){return{documents:[aT(s,t.path)]}}function FR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aT(s,l);const c=(function(_){if(_.length!==0)return uT(Gi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:Ka(M.field),direction:YR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(s,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function QR(s){let t=jR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ee(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=lT(S);return M instanceof Gi&&PE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new ah(Ya(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,_h(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(S){const M=!!S.before,H=S.values||[];return new rh(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,H=S.values||[];return new rh(H,M)})(i.endAt)),lR(t,l,d,c,y,"F",p,_)}function KR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ya(i.unaryFilter.field);return qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qe.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>lT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function YR(s){return kR[s]}function XR(s){return UR[s]}function $R(s){return LR[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Ya(s){return en.fromServerFormat(s.fieldPath)}function uT(s){return s instanceof qe?(function(i){if(i.op==="=="){if(Dv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(Nv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(Nv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:XR(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const a=i.getFilters().map((l=>uT(l)));return a.length===1?a[0]:{compositeFilter:{op:$R(i.op),filters:a}}})(s):vt(54877,{filter:s})}function ZR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function hT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ir{constructor(t,i,a,l,c=bt.min(),d=bt.min(),y=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class JR{constructor(t){this.yt=t}}function WR(s){const t=QR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(t,t.limit,"L"):t}class tC{constructor(){this.Sn=new eC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(cr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class eC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new He(_e.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(_e.comparator)).toArray()}}const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(fT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const Qv="LruGarbageCollector",nC=1048576;function Kv([s,t],[i,a]){const l=qt(s,i);return l===0?qt(t,a):l}class iC{constructor(t){this.Pr=t,this.buffer=new He(Kv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?at(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Ar(3e5)}))}}class rC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(yh.ce);const a=new iC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Fv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,y,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Fa()<=Bt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function aC(s,t){return new rC(s,t)}class oC{constructor(){this.changes=new ea((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class uC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,Vn.empty(),me.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ht()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ht()){const l=Yr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Yr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ht())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=_s();const d=Dl(),y=(function(){return Dl()})();return i.forEach(((p,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof yr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Ol(b.mutation,_,b.mutation.getFieldMask(),me.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new lC(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=Dl();let l=new ve(((d,y)=>d-y)),c=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let b=a.get(p)||Vn.empty();b=y.applyToLocalView(_,b),a.set(p,b);const S=(l.get(y.batchId)||Ht()).add(p);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,b=p.value,S=KE();b.forEach((M=>{if(!c.has(M)){const H=WE(i.get(M),a.get(M));H!==null&&S.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return uR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Yr());let y=kl,p=c;return d.next((_=>X.forEach(_,((b,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{p=p.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,Ht()))).next((b=>({batchId:y,changes:QE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(p=>{const _=(function(S,M){return new Eh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((p,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,on.newInvalidDocument(b)))}));let y=Al();return d.forEach(((p,_)=>{const b=c.get(p);b!==void 0&&Ol(b.mutation,_,Vn.empty(),me.now()),Sh(i,_)&&(y=y.insert(p,_))})),y}))}}class cC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:WR(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),X.resolve()}}class hC{constructor(){this.overlays=new ve(mt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Yr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Yr(),c=i.length+1,d=new mt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ve(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Yr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=Yr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=l)););return X.resolve(y)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new xR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ht(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class fC{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Xm{constructor(){this.kr=new He(Ke.Kr),this.qr=new He(Ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ke(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ke(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new mt(new _e([])),a=new Ke(i,t),l=new Ke(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new mt(new _e([])),a=new Ke(i,t),l=new Ke(i,t+1);let c=Ht();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ke(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return mt.comparator(t.key,i.key)||qt(t.Hr,i.Hr)}static Ur(t,i){return qt(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}class dC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new He(Ke.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Ke(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ke(i,0),l=new Ke(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new He(qt);return i.forEach((l=>{const c=new Ke(l,0),d=new Ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Ke(new mt(c),0);let y=new He(qt);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(p.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ee(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ke(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mC{constructor(t){this.ti=t,this.docs=(function(){return new ve(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let a=_s();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=_s();const d=i.path,y=new mt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Pw(zw(b),a)<=0||(l.has(b.key)||Sh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new gC(this)}getSize(t){return X.resolve(this.size)}}class gC extends oC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class pC{constructor(t){this.persistence=t,this.ri=new ea((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new Xm,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new lo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class dT{constructor(t,i){this._i={},this.overlays={},this.ai=new yh(0),this.ui=!1,this.ui=!0,this.ci=new fC,this.referenceDelegate=t(this),this.li=new pC(this),this.indexManager=new tC,this.remoteDocumentCache=(function(l){return new mC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new JR(i),this.Pi=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new hC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new dC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new yC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class yC extends Bw{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Ai=null}static Vi(t){return new $m(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=mt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.fi=new ea((a=>Gw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=aC(this,i)}static Vi(t,i){return new ch(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((y=>{y||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ht(),l=Ht();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(t,i.fromCache,a,l)}}class _C{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return nS()?8:qw(ln())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _C;return this.ys(t,i,d).next((y=>{if(c.result=y,this.As)return this.ws(t,i,d,y.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Fa()<=Bt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Fa()<=Bt.DEBUG&&at("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Fa()<=Bt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(i))):X.resolve())}gs(t,i){if(kv(i))return X.resolve(null);let a=ji(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ht(...c);return this.fs.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((p=>{const _=this.bs(i,y);return this.Ss(i,_,d,p.readTime)?this.gs(t,dm(i,null,"F")):this.Ds(t,_,i,p)}))))})))))}ps(t,i,a,l){return kv(i)||l.isEqual(bt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Fa()<=Bt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.Ds(t,d,i,Lw(l,kl)).next((y=>y)))}))}bs(t,i){let a=new He(GE(t));return i.forEach(((l,c)=>{Sh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Fa()<=Bt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.fs.getDocumentsMatchingQuery(t,i,cr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",EC=3e8;class TC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ve(qt),this.Fs=new ea((c=>qm(c)),Hm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function bC(s,t,i,a){return new TC(s,t,i,a)}async function mT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=Ht();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of c){y.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function SC(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,b){const S=_.batch,M=S.keys();let H=X.resolve();return M.forEach((J=>{H=H.next((()=>b.getEntry(p,J))).next((it=>{const tt=_.docVersions.get(J);ee(tt!==null,48541),it.version.compareTo(tt)<0&&(S.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),b.addEntry(it)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(p,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=Ht();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function gT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function AC(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];t.targetChanges.forEach(((b,S)=>{const M=l.get(S);if(!M)return;y.push(i.li.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,S))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(nn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),l=l.insert(S,H),(function(it,tt,pt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=EC?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(M,H,b)&&y.push(i.li.updateTargetData(c,H))}));let p=_s(),_=Ht();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(wC(c,d,t.documentUpdates).next((b=>{p=b.Bs,_=b.Ls}))),!a.isEqual(bt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.vs=l,c)))}function wC(s,t,i){let a=Ht(),l=Ht();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=_s();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(y,p)):at(Jm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{Bs:d,Ls:l}}))}function RC(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function CC(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new ir(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function _m(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;at(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Yv(s,t,i){const a=At(s);let l=bt.min(),c=Ht();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,b){const S=At(p),M=S.Fs.get(b);return M!==void 0?X.resolve(S.vs.get(M)):S.li.getTargetData(_,b)})(a,d,ji(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Ht()))).next((y=>(IC(a,fR(t),y),{documents:y,ks:c})))))}function IC(s,t,i){let a=s.Ms.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Xv{constructor(){this.activeTargetIds=_R()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xC{constructor(){this.vo=new Xv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Xv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class NC{Mo(t){}shutdown(){}}const $v="ConnectivityMonitor";class Zv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at($v,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function vm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Yd="RestConnection",DC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class OC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=vm(),y=this.Qo(t,i.toUriEncodedString());at(Yd,`Sending RPC '${t}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,l,c);const{host:_}=new URL(y),b=co(_);return this.zo(t,y,p,a,b).then((S=>(at(Yd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw io(Yd,`RPC '${t}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=DC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class MC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",bl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends OC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Wa.c_){const t=bE();bl(t,TE.STAT_EVENT,(i=>{i.stat===om.PROXY?at(rn,"STAT_EVENT: detected buffering proxy"):i.stat===om.NOPROXY&&at(rn,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(t,i,a,l,c){const d=vm();return new Promise(((y,p)=>{const _=new vE;_.setWithCredentials(!0),_.listenOnce(EE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const S=_.getResponseJson();at(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),y(S);break;case Bc.TIMEOUT:at(rn,`RPC '${t}' ${d} timed out`),p(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=_.getStatus();if(at(rn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const it=(function(pt){const wt=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(wt)>=0?wt:$.UNKNOWN})(J.status);p(new ht(it,J.message))}else p(new ht($.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ht($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(rn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(rn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=vm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");at(rn,`Creating RPC '${t}' stream ${l}: ${_}`,y);const b=d.createWebChannel(_,y);this.I_(b);let S=!1,M=!1;const H=new MC({Ho:J=>{M?at(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(at(rn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),S=!0),at(rn,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Jo:()=>b.close()});return bl(b,Sl.EventType.OPEN,(()=>{M||(at(rn,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),bl(b,Sl.EventType.CLOSE,(()=>{M||(M=!0,at(rn,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(b))})),bl(b,Sl.EventType.ERROR,(J=>{M||(M=!0,io(rn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.o_(new ht($.UNAVAILABLE,"The operation could not be completed")))})),bl(b,Sl.EventType.MESSAGE,(J=>{if(!M){const it=J.data[0];ee(!!it,16349);const tt=it,pt=tt?.error||tt[0]?.error;if(pt){at(rn,`RPC '${t}' stream ${l} received error:`,pt);const wt=pt.status;let yt=(function(kt){const I=ze[kt];if(I!==void 0)return eT(I)})(wt),Vt=pt.message;yt===void 0&&(yt=$.INTERNAL,Vt="Unknown error status: "+wt+" with message "+pt.message),M=!0,H.o_(new ht(yt,Vt)),b.close()}else at(rn,`RPC '${t}' stream ${l} received:`,it),H.__(it)}})),Wa.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return SE()}}function VC(s){return new Wa(s)}function Xd(){return typeof document<"u"?document:null}function Ch(s){return new zR(s,!0)}Wa.c_=!1;class pT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Jv="PersistentStream";class yT{constructor(t,i,a,l,c,d,y,p){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kC extends yT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=BR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Bi(d.readTime):bt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=fm(p)?{documents:GR(c,p)}:{query:FR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=sT(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const a=KR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=ym(this.serializer),i.removeTarget=t,this.K_(i)}}class UC extends yT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=HR(t.writeResults,t.commitTime),a=Bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=ym(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>qR(this.serializer,a)))};this.K_(i)}}class LC{}class zC extends LC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,gm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(t,gm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PC(s,t,i,a){return new zC(s,t,i,a)}class jC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class BC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{na(this)&&(at(Wr,"Restarting streams for network reachability change."),await(async function(p){const _=At(p);_.Ea.add(4),await Jl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Va=new jC(a,l)}}async function Ih(s){if(na(s))for(const t of s.Ra)await t(!0)}async function Jl(s){for(const t of s.Ra)await t(!1)}function _T(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ng(i)?eg(i):yo(i).O_()&&tg(i,t))}function Wm(s,t){const i=At(s),a=yo(i);i.Ia.delete(t),a.O_()&&vT(i,t),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Va.set("Unknown"))}function tg(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}yo(s).Z_(t)}function vT(s,t){s.da.$e(t),yo(s).X_(t)}function eg(s){s.da=new VR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.Va.ua()}function ng(s){return na(s)&&!yo(s).x_()&&s.Ia.size>0}function na(s){return At(s).Ea.size===0}function ET(s){s.da=void 0}async function qC(s){s.Va.set("Online")}async function HC(s){s.Ia.forEach(((t,i)=>{tg(s,t)}))}async function GC(s,t){ET(s),ng(s)?(s.Va.ha(t),eg(s)):s.Va.set("Unknown")}async function FC(s,t,i){if(s.Va.set("Online"),t instanceof iT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,t)}catch(a){at(Wr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await hh(s,a)}else if(t instanceof Fc?s.da.Xe(t):t instanceof nT?s.da.st(t):s.da.tt(t),!i.isEqual(bt.min()))try{const a=await gT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),vT(c,p);const S=new ir(b.target,p,_,b.sequenceNumber);tg(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){at(Wr,"Failed to raise snapshot:",a),await hh(s,a)}}async function hh(s,t,i){if(!po(t))throw t;s.Ea.add(1),await Jl(s),s.Va.set("Offline"),i||(i=()=>gT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Wr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function TT(s,t){return t().catch((i=>hh(s,i,t)))}async function xh(s){const t=At(s),i=mr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;QC(t);)try{const l=await RC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,KC(t,l)}catch(l){await hh(t,l)}bT(t)&&ST(t)}function QC(s){return na(s)&&s.Ta.length<10}function KC(s,t){s.Ta.push(t);const i=mr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function bT(s){return na(s)&&!mr(s).x_()&&s.Ta.length>0}function ST(s){mr(s).start()}async function YC(s){mr(s).ra()}async function XC(s){const t=mr(s);for(const i of s.Ta)t.ea(i.mutations)}async function $C(s,t,i){const a=s.Ta.shift(),l=Qm.from(a,t,i);await TT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await xh(s)}async function ZC(s,t){t&&mr(s).Y_&&await(async function(a,l){if((function(d){return DR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();mr(a).B_(),await TT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(s,t),bT(s)&&ST(s)}async function Wv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(Wr,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await Jl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function JC(s,t){const i=At(s);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await Jl(i),i.Va.set("Unknown"))}function yo(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new kC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:qC.bind(null,s),Yo:HC.bind(null,s),t_:GC.bind(null,s),J_:FC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),ng(s)?eg(s):s.Va.set("Unknown")):(await s.ma.stop(),ET(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new UC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YC.bind(null,s),t_:ZC.bind(null,s),ta:XC.bind(null,s),na:$C.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Wr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ig{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new ig(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(s,t){if(ys("AsyncQueue",`${t}: ${s}`),po(s))return new ht($.UNAVAILABLE,`${t}: ${s}`);throw s}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class t0{constructor(){this.ga=new ve(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class uo{constructor(t,i,a,l,c,d,y,p,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new uo(t,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class WC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class tI{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=e0(),c.forEach(((d,y)=>{for(const p of y.ba)p.onError(a)}))})(this,new ht($.ABORTED,"Firestore shutting down"))}}function e0(){return new ea((s=>HE(s)),bh)}async function AT(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new WC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=sg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&rg(i)}async function wT(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eI(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&rg(i)}function nI(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function rg(s){s.Ca.forEach((t=>{t.next()}))}var Em,n0;(n0=Em||(Em={})).Ma="default",n0.Cache="cache";class RT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new uo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class CT{constructor(t){this.key=t}}class IT{constructor(t){this.key=t}}class iI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ht(),this.mutatedKeys=Ht(),this.eu=GE(t),this.tu=new to(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new t0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const M=l.get(b),H=Sh(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),it=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;M&&H?M.data.isEqual(H.data)?J!==it&&(a.track({type:3,doc:H}),tt=!0):this.su(M,H)||(a.track({type:2,doc:H}),tt=!0,(p&&this.eu(H,p)>0||_&&this.eu(H,_)<0)&&(y=!0)):!M&&H?(a.track({type:0,doc:H}),tt=!0):M&&!H&&(a.track({type:1,doc:M}),tt=!0,(p||_)&&(y=!0)),tt&&(H?(d=d.add(H),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(H,J){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:tt})}};return it(H)-it(J)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Xa;return this.Xa=p,d.length!==0||_?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ht(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new IT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new CT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ag="SyncEngine";class sI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class rI{constructor(t){this.key=t,this.hu=!1}}class aI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((y=>HE(y)),bh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ve(mt.comparator),this.Au=new Map,this.Vu=new Xm,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(s,t,i=!0){const a=VT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await xT(a,t,i,!0),l}async function lI(s,t){const i=VT(s);await xT(i,t,!0,!1)}async function xT(s,t,i,a){const l=await CC(s.localStore,ji(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await uI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&_T(s.remoteStore,l),y}async function uI(s,t,i,a,l){s.pu=(S,M,H)=>(async function(it,tt,pt,wt){let yt=tt.view.ru(pt);yt.Ss&&(yt=await Yv(it.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,yt))));const Vt=wt&&wt.targetChanges.get(tt.targetId),re=wt&&wt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(yt,it.isPrimaryClient,Vt,re);return s0(it,tt.targetId,kt.au),kt.snapshot})(s,S,M,H);const c=await Yv(s.localStore,t,!0),d=new iI(t,c.ks),y=d.ru(c.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,p);s0(s,i,_.au);const b=new sI(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function cI(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!bh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),Tm(a,l.targetId)})).catch(go)):(Tm(a,l.targetId),await _m(a.localStore,l.targetId,!0))}async function hI(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function fI(s,t,i){const a=vI(s);try{const l=await(function(d,y){const p=At(d),_=me.now(),b=y.reduce(((H,J)=>H.add(J.key)),Ht());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=_s(),it=Ht();return p.xs.getEntries(H,b).next((tt=>{J=tt,J.forEach(((pt,wt)=>{wt.isValidDocument()||(it=it.add(pt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,J))).next((tt=>{S=tt;const pt=[];for(const wt of y){const yt=RR(wt,S.get(wt.key).overlayedDocument);yt!=null&&pt.push(new yr(wt.key,yt,UE(yt.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,pt,y)})).next((tt=>{M=tt;const pt=tt.applyToLocalDocumentSet(S,it);return p.documentOverlayCache.saveOverlays(H,tt.batchId,pt)}))})).then((()=>({batchId:M.batchId,changes:QE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,p){let _=d.du[d.currentUser.toKey()];_||(_=new ve(qt)),_=_.insert(y,p),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Wl(a,l.changes),await xh(a.remoteStore)}catch(l){const c=sg(l,"Failed to persist write");i.reject(c)}}async function NT(s,t){const i=At(s);try{const a=await AC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ee(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ee(d.hu,14607):l.removedDocuments.size>0&&(ee(d.hu,42227),d.hu=!1))})),await Wl(i,a,t)}catch(a){await go(a)}}function i0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const p=At(d);p.onlineState=y;let _=!1;p.queries.forEach(((b,S)=>{for(const M of S.ba)M.va(y)&&(_=!0)})),_&&rg(p)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function dI(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ve(mt.comparator);d=d.insert(c,on.newNoDocument(c,bt.min()));const y=Ht().add(c),p=new Rh(bt.min(),new Map,new ve(qt),d,y);await NT(a,p),a.Ru=a.Ru.remove(c),a.Au.delete(t),og(a)}else await _m(a.localStore,t,!1).then((()=>Tm(a,t,i))).catch(go)}async function mI(s,t){const i=At(s),a=t.batch.batchId;try{const l=await SC(i.localStore,t);OT(i,a,null),DT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wl(i,l)}catch(l){await go(l)}}async function gI(s,t,i){const a=At(s);try{const l=await(function(d,y){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,y).next((S=>(ee(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);OT(a,t,i),DT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Wl(a,l)}catch(l){await go(l)}}function DT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function OT(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Tm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||MT(s,a)}))}function MT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Wm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),og(s))}function s0(s,t,i){for(const a of i)a instanceof CT?(s.Vu.addReference(a.key,t),pI(s,a)):a instanceof IT?(at(ag,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||MT(s,a.key)):vt(19791,{wu:a})}function pI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(ag,"New document in limbo: "+i),s.Eu.add(a),og(s))}function og(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(_e.fromString(t)),a=s.fu.next();s.Au.set(a,new rI(i)),s.Ru=s.Ru.insert(i,a),_T(s.remoteStore,new ir(ji(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function Wl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Zm.Es(p.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(p,_){const b=At(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(M=>X.forEach(M.Ts,(H=>b.persistence.referenceDelegate.addReference(S,M.targetId,H))).next((()=>X.forEach(M.Is,(H=>b.persistence.referenceDelegate.removeReference(S,M.targetId,H)))))))))}catch(S){if(!po(S))throw S;at(Jm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const H=b.vs.get(M),J=H.snapshotVersion,it=H.withLastLimboFreeSnapshotVersion(J);b.vs=b.vs.insert(M,it)}}})(a.localStore,c))}async function yI(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){at(ag,"User change. New user:",t.toKey());const a=await mT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new ht($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Wl(i,a.Ns)}}function _I(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Ht().add(a.key);{let l=Ht();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function VT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dI.bind(null,t),t.Pu.J_=eI.bind(null,t.eventManager),t.Pu.yu=nI.bind(null,t.eventManager),t}function vI(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bC(this.persistence,new vC,t.initialUser,this.serializer)}Cu(t){return new dT($m.Vi,this.serializer)}Du(t){return new xC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class EI extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ee(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new dT((a=>ch.Vi(a,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>i0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await JC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tI})()}createDatastore(t){const i=Ch(t.databaseInfo.databaseId),a=VC(t.databaseInfo);return PC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new BC(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>i0(this.syncEngine,i,0)),(function(){return Zv.v()?new Zv:new NC})())}createSyncEngine(t,i){return(function(l,c,d,y,p,_,b){const S=new aI(l,c,d,y,p,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Wr,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class kT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const gr="FirestoreClient";class TI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function $d(s,t){s.asyncQueue.verifyOperationInProgress(),at(gr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await mT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function r0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await bI(s);at(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Wv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Wv(t.remoteStore,l))),s._onlineComponents=t}async function bI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(gr,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;io("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new fh)}}else at(gr,"Using default OfflineComponentProvider"),await $d(s,new EI(void 0));return s._offlineComponents}async function UT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(gr,"Using user provided OnlineComponentProvider"),await r0(s,s._uninitializedComponentsProvider._online)):(at(gr,"Using default OnlineComponentProvider"),await r0(s,new bm))),s._onlineComponents}function SI(s){return UT(s).then((t=>t.syncEngine))}async function Sm(s){const t=await UT(s),i=t.eventManager;return i.onListen=oI.bind(null,t.syncEngine),i.onUnlisten=cI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hI.bind(null,t.syncEngine),i}function AI(s,t,i,a){const l=new kT(a),c=new RT(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>AT(await Sm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>wT(await Sm(s),c)))}}function wI(s,t,i={}){const a=new lr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const b=new kT({next:M=>{b.Nu(),d.enqueueAndForget((()=>wT(c,S)));const H=M.docs.has(y);!H&&M.fromCache?_.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&p&&p.source==="server"?_.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new RT(Th(y.path),b,{includeMetadataChanges:!0,Ka:!0});return AT(c,S)})(await Sm(s),s.asyncQueue,t,i,a))),a.promise}function RI(s,t){const i=new lr;return s.asyncQueue.enqueueAndForget((async()=>fI(await SI(s),t,i))),i.promise}function LT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const CI="ComponentProvider",a0=new Map;function II(s,t,i,a,l){return new Kw(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,LT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const zT="firestore.googleapis.com",o0=!0;class l0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=o0}else this.host=t.host,this.ssl=t.ssl??o0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nC)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Uw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ww;switch(a.type){case"firstParty":return new xw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=a0.get(i);a&&(at(CI,"Removing Datastore"),a0.delete(i),a.terminate())})(this),Promise.resolve()}}function xI(s,t,i,a={}){s=fi(s,lg);const l=co(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${t}:${i}`;l&&(M0(`https://${y}`),V0("Firestore",!0)),c.host!==zT&&c.host!==y&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:l,emulatorOptions:a};if(!ur(p,d)&&(s._setSettings(p),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=an.MOCK_USER;else{_=Kb(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(S)}s._authCredentials=new Rw(new wE(_,b))}}class Nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Nh(this.firestore,t,this._query)}}class je{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Xl(i,je._jsonSchema))return new je(t,a||null,new mt(_e.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Pe("string",je._jsonSchemaVersion),referencePath:Pe("string")};class jl extends Nh{constructor(t,i,a){super(t,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new mt(t))}withConverter(t){return new jl(this.firestore,t,this._path)}}function On(s,t,...i){if(s=dn(s),arguments.length===1&&(t=Lm.newId()),kw("doc","path",t),s instanceof lg){const a=_e.fromString(t,...i);return bv(a),new je(s,null,new mt(a))}{if(!(s instanceof je||s instanceof jl))throw new ht($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_e.fromString(t,...i));return bv(a),new je(s.firestore,s instanceof jl?s.converter:null,new mt(a))}}const u0="AsyncQueue";class c0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&at(u0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;at(u0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",h0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ig.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:h0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function h0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ta extends lg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new c0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c0(t),this._firestoreClient=void 0,await t}}}function NI(s,t){const i=typeof s=="object"?s:z0(),a=typeof s=="string"?s:ih,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Fb("firestore");c&&xI(l,...c)}return l}function ug(s){if(s._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DI(s),s._firestoreClient}function DI(s){const t=s._freezeSettings(),i=II(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new TI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(nn.fromBase64String(t))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Jn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pe("string",Jn._jsonSchemaVersion),bytes:Pe("string")};class cg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dh{constructor(t){this._methodName=t}}class qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Pe("string",qi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class mi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new mi(t.vectorValues);throw new ht($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Pe("string",mi._jsonSchemaVersion),vectorValues:Pe("object")};const OI=/^__.*__$/;class MI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,i,this.fieldTransforms):new $l(t,this.data,i,this.fieldTransforms)}}class PT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new yr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function jT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class Oh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Oh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(jT(this.dataSource)&&OI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class VI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(t)}createContext(t,i,a,l=!1){return new Oh({dataSource:t,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BT(s){const t=s._freezeSettings(),i=Ch(s._databaseId);return new VI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function kI(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);fg("Data must be an object, but it was:",d,a);const y=qT(a,d);let p,_;if(c.merge)p=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=Bl(t,S,i);if(!d.contains(M))throw new ht($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);FT(b,M)||b.push(M)}p=new Vn(b),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new MI(new bn(y),p,_)}class Mh extends Dh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}function UI(s,t,i){return new Oh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class hg extends Dh{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=UI(this,t,!0),a=this.Ac.map((c=>tu(c,i))),l=new oo(a);return new bR(t.path,l)}isEqual(t){return t instanceof hg&&ur(this.Ac,t.Ac)}}function LI(s,t,i,a){const l=s.createContext(1,t,i);fg("Data must be an object, but it was:",l,a);const c=[],d=bn.empty();pr(a,((p,_)=>{const b=GT(t,p,i);_=dn(_);const S=l.childContextForFieldPath(b);if(_ instanceof Mh)c.push(b);else{const M=tu(_,S);M!=null&&(c.push(b),d.set(b,M))}}));const y=new Vn(c);return new PT(d,y,l.fieldTransforms)}function zI(s,t,i,a,l,c){const d=s.createContext(1,t,i),y=[Bl(t,a,i)],p=[l];if(c.length%2!=0)throw new ht($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Bl(t,c[M])),p.push(c[M+1]);const _=[],b=bn.empty();for(let M=y.length-1;M>=0;--M)if(!FT(_,y[M])){const H=y[M];let J=p[M];J=dn(J);const it=d.childContextForFieldPath(H);if(J instanceof Mh)_.push(H);else{const tt=tu(J,it);tt!=null&&(_.push(H),b.set(H,tt))}}const S=new Vn(_);return new PT(b,S,d.fieldTransforms)}function tu(s,t){if(HT(s=dn(s)))return fg("Unsupported field value:",t,s),qT(s,t);if(s instanceof Dh)return(function(a,l){if(!jT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let p=tu(y,l.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=dn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=me.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof me){const c=new me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jn)return{bytesValue:sT(l.serializer,a._byteString)};if(a instanceof je){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof mi)return(function(d,y){const p=d instanceof mi?d.toArray():d;return{mapValue:{fields:{[VE]:{stringValue:kE},[sh]:{arrayValue:{values:p.map((b=>{if(typeof b!="number")throw y.createError("VectorValues must only contain numeric values.");return Gm(y.serializer,b)}))}}}}}})(a,l);if(hT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${zm(a)}`)})(s,t)}function qT(s,t){const i={};return IE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pr(s,((a,l)=>{const c=tu(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function HT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof me||s instanceof qi||s instanceof Jn||s instanceof je||s instanceof Dh||s instanceof mi||hT(s))}function fg(s,t,i){if(!HT(i)||!RE(i)){const a=zm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Bl(s,t,i){if((t=dn(t))instanceof cg)return t._internalPath;if(typeof t=="string")return GT(s,t);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const PI=new RegExp("[~\\*/\\[\\]]");function GT(s,t,i){if(t.search(PI)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new cg(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ht($.INVALID_ARGUMENT,y+s+p)}function FT(s,t){return s.some((i=>i.isEqual(t)))}class jI{convertValue(t,i="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return pr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>xe(a.doubleValue)));return new mi(i)}convertGeoPoint(t){return new qi(xe(t.latitude),xe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=hr(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=_e.fromString(t);ee(cT(a),9688,{name:t});const l=new Ll(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class QT extends jI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function Ga(...s){return new hg("arrayUnion",s)}const f0="@firebase/firestore",d0="4.10.0";function m0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class KT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Bl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class BI extends KT{data(){return super.data()}}function qI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ht($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function HI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xr extends KT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Bl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Xr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:Pe("string",Xr._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Qc extends Xr{data(t={}){return super.data(t)}}class eo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const p=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Rl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Rl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:GI(y.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Pe("string",eo._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function g0(s){s=fi(s,je);const t=fi(s.firestore,ta),i=ug(t);return wI(i,s._key).then((a=>YT(t,s,a)))}function FI(s,t,i){s=fi(s,je);const a=fi(s.firestore,ta),l=HI(s.converter,t),c=BT(a);return dg(a,[kI(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,di.none())])}function Ui(s,t,i,...a){s=fi(s,je);const l=fi(s.firestore,ta),c=BT(l);let d;return d=typeof(t=dn(t))=="string"||t instanceof cg?zI(c,"updateDoc",s._key,t,i,a):LI(c,"updateDoc",s._key,t),dg(l,[d.toMutation(s._key,di.exists(!0))])}function QI(s){return dg(fi(s.firestore,ta),[new Fm(s._key,di.none())])}function p0(s,...t){s=dn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||m0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof je)d=fi(s.firestore,ta),y=Th(s._key.path),c={next:_=>{t[a]&&t[a](YT(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=fi(s,Nh);d=fi(_.firestore,ta),y=_._query;const b=new QT(d);c={next:S=>{t[a]&&t[a](new eo(d,b,_,S))},error:t[a+1],complete:t[a+2]},qI(s._query)}const p=ug(d);return AI(p,y,l,c)}function dg(s,t){const i=ug(s);return RI(i,t)}function YT(s,t,i){const a=i.docs.get(t._key),l=new QT(s);return new Xr(s,l,t._key,a,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){Aw(ho),no(new $r("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ta(new Cw(a.getProvider("auth-internal")),new Nw(d,a.getProvider("app-check-internal")),Yw(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),ar(f0,d0,t),ar(f0,d0,"esm2020")})();const XT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const KI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const YI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const y0=s=>{const t=YI(s);return t.charAt(0).toUpperCase()+t.slice(1)};var XI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $I=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const ZI=he.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},p)=>he.createElement("svg",{ref:p,...XI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:XT("lucide",l),...!c&&!$I(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>he.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ee=(s,t)=>{const i=he.forwardRef(({className:a,...l},c)=>he.createElement(ZI,{ref:c,iconNode:t,className:XT(`lucide-${KI(y0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=y0(s),i};const JI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WI=Ee("arrow-right",JI);const tx=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_0=Ee("ban",tx);const ex=[["circle",{cx:"12",cy:"11.9",r:"2",key:"e8h31w"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6",key:"17bolr"}],["path",{d:"m8.9 10.1 1.4.8",key:"15ezny"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5",key:"wtwa5u"}],["path",{d:"m15.1 10.1-1.4.8",key:"1r0b28"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2",key:"m7qszh"}],["path",{d:"M12 13.9v1.6",key:"zfyyim"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0",key:"1bi9q0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5",key:"1rhjqw"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5",key:"8gsud3"}]],Vh=Ee("biohazard",ex);const nx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],v0=Ee("book-open",nx);const ix=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kc=Ee("circle-check-big",ix);const sx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rx=Ee("copy",sx);const ax=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],E0=Ee("crown",ax);const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],lx=Ee("crosshair",ox);const ux=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],cx=Ee("hammer",ux);const hx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fx=Ee("history",hx);const dx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mx=Ee("house",dx);const gx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],px=Ee("loader",gx);const yx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kc=Ee("log-out",yx);const _x=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],vx=Ee("pill",_x);const Ex=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Tx=Ee("play",Ex);const bx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sx=Ee("rotate-ccw",bx);const Ax=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],_o=Ee("skull",Ax);const wx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],T0=Ee("sparkles",wx);const Rx=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],mg=Ee("syringe",Rx);const Cx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ix=Ee("trash-2",Cx);const xx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nx=Ee("user",xx);const Dx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ox=Ee("users",Dx);const Mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vx=Ee("x",Mx),kx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:36417135068764fe6aa637"},$T=L0(kx),Zd=bw($T),Mn=NI($T),$n=typeof __app_id<"u"?__app_id:"last-of-us-game",Ux="22",Lx={2:14,3:12,4:11,5:10,6:9},zx=()=>{const s=[];return Object.entries({1:2,3:4,5:6,7:8,9:6,11:4,13:2}).forEach(([a,l])=>{for(let c=0;c<l;c++)s.push({val:parseInt(a),type:"ZOMBIE"})}),Object.entries({2:3,4:5,6:7,8:7,10:5,12:3}).forEach(([a,l])=>{for(let c=0;c<l;c++)s.push({val:parseInt(a),type:"ANTIDOTE"})}),s},Px=s=>{let t=s.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[s[t],s[i]]=[s[i],s[t]];return s},Jd=()=>C.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[C.jsx(_o,{size:12,className:"text-red-600"}),C.jsx("span",{className:"text-[10px] font-black tracking-widest text-red-600 uppercase",children:"LAST OF US"})]}),b0=()=>C.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[C.jsx(_o,{size:22,className:"text-red-600"}),C.jsx("span",{className:"text-[20px] font-black tracking-widest text-red-600 uppercase",children:"LAST OF US"})]}),S0={1:Vh,2:vx,3:lx,4:_o,5:mg},Uc=({isShaking:s})=>C.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900/40 via-gray-950 to-black"}),C.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((t,i)=>{const a=Object.keys(S0),l=a[i%a.length],c=S0[l];return C.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:C.jsx(c,{size:32})},i)})}),C.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),A0=({val:s,type:t,count:i=1,size:a="md",selected:l=!1,onClick:c,disabled:d=!1,faded:y=!1,isBoard:p=!1})=>{const _=t==="ZOMBIE";let b="";p?b=_?"bg-red-900 border-red-600 shadow-red-900/40":"bg-lime-900 border-lime-500 shadow-lime-900/40":b=_?"bg-linear-to-b from-red-800 to-stone-900 border-red-600":"bg-linear-to-b from-lime-700 to-stone-900 border-lime-500";const S=_?"text-red-100":"text-lime-100",M=_?"text-red-500/30":"text-lime-400/30",H=a==="lg"?64:a==="md"?48:24,J=a==="lg"?"w-20 h-32 md:w-28 md:h-40 text-3xl md:text-5xl":a==="sm"?"w-10 h-14 text-xs":"w-16 h-24 md:w-20 md:h-28 text-xl md:text-2xl";return C.jsxs("div",{onClick:d?void 0:c,className:`
        ${J} rounded-xl border-2 flex flex-col items-center justify-center shadow-xl relative overflow-hidden transition-all duration-200 shrink-0
        ${b}
        ${l?"ring-4 ring-yellow-400 -translate-y-4 z-20 scale-110":""}
        ${d?y?"opacity-40 grayscale":"cursor-default":"cursor-pointer hover:scale-105"}
        ${!d&&!l?"hover:-translate-y-1":""}
      `,children:[C.jsx("div",{className:`absolute top-1 left-2 font-black opacity-70 text-[10px] ${S}`,children:_?"ZMB":"ANT"}),C.jsx("div",{className:`font-black ${S} z-10`,children:s}),_?C.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:C.jsx(_o,{size:H,strokeWidth:2.5})}):C.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:C.jsx(mg,{size:H,strokeWidth:2.5})}),i>1&&C.jsxs("div",{className:"absolute top-[-5px] right-[-5px] bg-yellow-500 text-black font-bold rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-md border border-yellow-600 z-20",children:["x",i]})]})},w0=({onConfirmLeave:s,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>C.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:C.jsxs("div",{className:"bg-stone-900 rounded-xl border border-red-900/50 p-6 max-w-sm w-full text-center shadow-2xl relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-linear-to-r from-red-600 to-transparent"}),C.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center justify-center gap-2",children:[C.jsx(Vh,{className:"text-red-500"})," Abandon Zone?"]}),C.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Host, leaving will disband the group and return everyone to the menu.":l?"Leaving now will disrupt the survival effort.":"Disconnect from the safe house?"}),C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx("button",{onClick:i,className:"bg-gray-800 hover:bg-gray-700 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),a&&l&&C.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-700 hover:bg-blue-600 text-white shadow-lg",children:[C.jsx(mx,{size:18})," Return Group to Lobby"]}),C.jsxs("button",{onClick:s,className:"bg-red-700 hover:bg-red-600 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 shadow-lg",children:[C.jsx(Kc,{size:18})," ",a?"Disband Group":"Leave Game"]})]})]})}),R0=({onClose:s})=>C.jsx("div",{className:"fixed inset-0 bg-black/95 z-150 flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-stone-900 rounded-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden border border-red-900/30 flex flex-col",children:[C.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-black/50",children:[C.jsxs("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-widest flex items-center gap-2",children:[C.jsx(_o,{})," Survival Guide"]}),C.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:C.jsx(Vx,{})})]}),C.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-300 text-left",children:[C.jsxs("section",{children:[C.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[C.jsx(Vh,{className:"text-green-500",size:20})," The Basics"]}),C.jsxs("p",{className:"text-sm",children:["Get rid of your cards. Be the last survivor. ",C.jsx("br",{})," Odd cards are"," ",C.jsx("strong",{children:"Zombies"}),". Even cards are ",C.jsx("strong",{children:"Antidotes"}),"."]})]}),C.jsxs("section",{children:[C.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[C.jsx(WI,{className:"text-blue-400",size:20})," Placement Rules"]}),C.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[C.jsxs("li",{children:["Cards on the board are arranged in"," ",C.jsx("strong",{children:"Ascending Order"}),"."]}),C.jsxs("li",{children:["You can play cards ",C.jsx("strong",{children:"Lower"})," than the minimum or"," ",C.jsx("strong",{children:"Higher"})," than the maximum."]}),C.jsx("li",{children:"You CANNOT play inside the cage (between min and max)."}),C.jsxs("li",{children:[C.jsx("strong",{children:"The Twist:"})," Two cards of the same type (Zombie/Zombie or Antidote/Antidote) CANNOT sit next to each other horizontally."]}),C.jsx("li",{children:"You CAN stack a matching card on top of an existing one."})]})]}),C.jsxs("section",{children:[C.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[C.jsx(Ox,{className:"text-yellow-400",size:20})," Multi-Play & Quarantine"]}),C.jsxs("p",{className:"text-sm mb-2",children:["If you play on the edges, you must play ",C.jsx("strong",{children:"at least"})," as many cards as are currently on that edge stack. If you stack on top, just follow the same rule."]}),C.jsxs("p",{className:"text-sm border-l-4 border-red-600 pl-3 py-1 bg-red-900/10",children:[C.jsx("strong",{children:"Stuck?"})," Select ",C.jsx("strong",{children:"QUARANTINE"})," mode, then click a card on the board to take it as a penalty. You are out for the round."]})]})]}),C.jsx("div",{className:"p-4 bg-black/50 border-t border-gray-800 text-center",children:C.jsx("button",{onClick:s,className:"bg-red-700 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-bold",children:"Survive"})})]})});function jx(){const[s,t]=he.useState(null),[i,a]=he.useState("menu"),[l,c]=he.useState(""),[d,y]=he.useState(""),[p,_]=he.useState(null),[b,S]=he.useState(""),[M,H]=he.useState(!1),[J,it]=he.useState(!1),[tt,pt]=he.useState(!1),[wt,yt]=he.useState(!1),[Vt,re]=he.useState([]),[kt,I]=he.useState(!1),[A,x]=he.useState(!1),[V,N]=he.useState(!1),[k,w]=he.useState(()=>localStorage.getItem("gameHub_playerName")||"");he.useEffect(()=>{k&&localStorage.setItem("gameHub_playerName",k)},[k]);const Kt=Z=>{S(Z),setTimeout(()=>S(""),3e3)};he.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await l2(Zd,__initial_auth_token):await i2(Zd))(),h2(Zd,t)},[]),he.useEffect(()=>{const Z=localStorage.getItem("lastofus_roomId");Z&&c(Z)},[]),he.useEffect(()=>{const Z=p0(On(Mn,"game_hub_settings","config"),st=>{st.exists()&&st.data()[Ux]?.maintenance?x(!0):x(!1)});return()=>Z()},[]),he.useEffect(()=>{if(!l||!s)return;const Z=p0(On(Mn,"artifacts",$n,"public","data","rooms",l),st=>{if(st.exists()){const ct=st.data();if(ct.players&&!ct.players.find(Ct=>Ct.id===s.uid)){c(""),a("menu"),localStorage.removeItem("lastofus_roomId"),Kt("You have been kicked from the safe house.");return}_(ct),ct.status==="playing"||ct.status==="finished"?a("game"):ct.status==="lobby"&&a("lobby"),ct.turnIndex!==void 0&&ct.players&&ct.players[ct.turnIndex]&&s&&(ct.players[ct.turnIndex].id===s.uid||I(!1))}else c(""),a("menu"),localStorage.removeItem("lastofus_roomId"),Kt("Safe house compromised (Room closed).")});return()=>Z()},[l,s]);const Se=(Z,st)=>{if(Z.length===0)return{valid:!1,msg:"Select cards."};const ct=Z[0].val,Ct=Z[0].type,Jt=Z.length;if(!Z.every(Mt=>Mt.val===ct))return{valid:!1,msg:"Must play identical cards."};if(st.length===0)return{valid:!0};const Ot=st[0],lt=st[st.length-1],_t=st.findIndex(Mt=>Mt.val===ct);if(_t!==-1){if(!(_t===0||_t===st.length-1))return{valid:!1,msg:"Cannot play inside the cage (even to stack)."};const ye=st[_t];return Jt<ye.count?{valid:!1,msg:`Must play at least ${ye.count} cards to stack on this edge.`}:{valid:!0,action:"STACK",index:_t}}return ct>Ot.val&&ct<lt.val?{valid:!1,msg:"Cannot play inside the cage."}:ct<Ot.val?Ct===Ot.type?{valid:!1,msg:`Cannot place ${Ct} next to ${Ot.type}.`}:Jt<Ot.count?{valid:!1,msg:`Must play at least ${Ot.count} cards here (matches edge stack).`}:{valid:!0,action:"LEFT"}:ct>lt.val?Ct===lt.type?{valid:!1,msg:`Cannot place ${Ct} next to ${lt.type}.`}:Jt<lt.count?{valid:!1,msg:`Must play at least ${lt.count} cards here (matches edge stack).`}:{valid:!0,action:"RIGHT"}:{valid:!1,msg:"Invalid move."}},G=async()=>{if(!k)return Kt("Name required");H(!0);const Z="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let st="";for(let ct=0;ct<6;ct++)st+=Z.charAt(Math.floor(Math.random()*Z.length));await FI(On(Mn,"artifacts",$n,"public","data","rooms",st),{roomId:st,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:k,hand:[],quarantined:!1,ready:!1}],board:[],deck:[],turnIndex:0,activeRoundPlayers:[],logs:[],winner:null}),localStorage.setItem("lastofus_roomId",st),c(st),H(!1)},et=async()=>{if(!d||!k)return Kt("Details required");H(!0);const Z=On(Mn,"artifacts",$n,"public","data","rooms",d),st=await g0(Z);if(!st.exists()){Kt("Room not found"),H(!1);return}const ct=st.data();if(ct.status!=="lobby"){Kt("Game in progress"),H(!1);return}if(ct.players.length>=6){Kt("Room full"),H(!1);return}ct.players.find(Ct=>Ct.id===s.uid)||await Ui(Z,{players:Ga({id:s.uid,name:k,hand:[],quarantined:!1,ready:!1})}),localStorage.setItem("lastofus_roomId",d),c(d),H(!1)},ft=async Z=>{if(p.hostId!==s.uid)return;const st=p.players.filter(ct=>ct.id!==Z);await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{players:st})},Gt=()=>{const Z=p.roomId,st=()=>{N(!0),setTimeout(()=>N(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",kc)};try{navigator.clipboard.writeText(Z),st()}catch{const Ct=document.createElement("textarea");Ct.value=Z,document.body.appendChild(Ct),Ct.select(),document.execCommand("copy"),document.body.removeChild(Ct),st()}},Xt=async()=>{if(p.hostId!==s.uid)return;const Z=p.players.length,st=Px(zx()),ct=Lx[Z]||10,Ct=p.players.map(lt=>{const _t=st.splice(0,ct).sort((Mt,ye)=>Mt.val-ye.val);return{...lt,hand:_t,quarantined:!1,ready:!1}}),Jt=Ct.map(lt=>lt.id),Ot=Math.floor(Math.random()*Ct.length);await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{status:"playing",players:Ct,deck:st,board:[],activeRoundPlayers:Jt,turnIndex:Ot,logs:[{text:"Survival begins. Good luck.",type:"neutral"}]})},O=async()=>{p.hostId===s.uid&&await Xt()},K=async()=>{if(p.hostId!==s.uid)return;const Z=p.players.map(st=>({...st,hand:[],quarantined:!1,ready:!1}));await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{status:"lobby",players:Z,board:[],logs:[],activeRoundPlayers:[]}),yt(!1)},nt=async()=>{if(!l||!s)return;const Z=p.players.map(st=>st.id===s.uid?{...st,ready:!st.ready}:st);await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{players:Z})},rt=async()=>{const Z=p.players.findIndex(kn=>kn.id===s.uid),st=p.players[Z],ct=Vt.map(kn=>st.hand[kn]),Ct=Se(ct,p.board);if(!Ct.valid){Kt(Ct.msg);return}const Jt=[...p.board],Ot=ct[0].val,lt=ct[0].type,_t=ct.length;Ct.action==="STACK"?Jt[Ct.index].count+=_t:Ct.action==="LEFT"?Jt.unshift({val:Ot,type:lt,count:_t}):Ct.action==="RIGHT"?Jt.push({val:Ot,type:lt,count:_t}):Jt.push({val:Ot,type:lt,count:_t});const Mt=[...p.players],ye=[];let It=0;for(let kn of st.hand)kn.val===Ot&&It<_t?It++:ye.push(kn);if(Mt[Z].hand=ye,ye.length===0){await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{players:Mt,board:Jt,status:"finished",winner:st,logs:Ga({text:`${st.name} survived! Game Over.`,type:"success"})}),re([]);return}let Yt=(p.turnIndex+1)%Mt.length,un=0;for(;(!p.activeRoundPlayers.includes(Mt[Yt].id)||Mt[Yt].quarantined)&&(Yt=(Yt+1)%Mt.length,un++,!(un>Mt.length)););await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{players:Mt,board:Jt,turnIndex:Yt,logs:Ga({text:`${st.name} played ${_t}x ${Ot}.`,type:"neutral"})}),re([])},Et=()=>{I(!0)},Rt=async Z=>{if(!kt)return;const st=p.players.findIndex(It=>It.id===s.uid),ct=p.players[st],Ct=[...p.board];if(Ct.length===0)return;const Jt=Ct[Z],Ot={val:Jt.val,type:Jt.type};Jt.count>1?Ct[Z].count-=1:Ct.splice(Z,1);const lt=[...ct.hand,Ot].sort((It,Yt)=>It.val-Yt.val),_t=[...p.players];_t[st].hand=lt,_t[st].quarantined=!0;const Mt=p.activeRoundPlayers.filter(It=>It!==s.uid),ye=[{text:`${ct.name} quarantined and took ${Ot.val}.`,type:"danger"}];if(Mt.length===1){const It=Mt[0],Yt=_t.find(Un=>Un.id===It);ye.push({text:`${Yt.name} won the round! Board cleared.`,type:"success"});const un=_t.map(Un=>({...Un,quarantined:!1})),kn=un.findIndex(Un=>Un.id===It);await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{players:un,board:[],activeRoundPlayers:un.map(Un=>Un.id),turnIndex:kn,logs:Ga(...ye)})}else{let It=(p.turnIndex+1)%_t.length;for(;!Mt.includes(_t[It].id)||_t[It].quarantined;)It=(It+1)%_t.length;await Ui(On(Mn,"artifacts",$n,"public","data","rooms",l),{players:_t,board:Ct,activeRoundPlayers:Mt,turnIndex:It,logs:Ga(...ye)})}I(!1),S("")},Ut=async()=>{if(!(!l||!s)){try{const Z=On(Mn,"artifacts",$n,"public","data","rooms",l),st=await g0(Z);if(st.exists()){const ct=st.data();if(ct.hostId===s.uid)await QI(Z);else{const Jt=ct.players.filter(Mt=>Mt.id!==s.uid);let Ot=ct.status,lt=ct.winner;ct.status==="playing"&&Jt.length<2&&(Ot="finished",Jt.length>0&&(lt=Jt[0]));const _t={players:Jt,status:Ot,logs:Ga({text:`${k} fled.`,type:"danger"})};lt&&(_t.winner=lt),await Ui(Z,_t)}}}catch(Z){console.error("Error leaving room:",Z)}localStorage.removeItem("lastofus_roomId"),c(""),a("menu"),_(null),yt(!1)}},Ae=(Z,st)=>{if(Vt.includes(st))re(Vt.filter(ct=>ct!==st));else{if(Vt.length>0){const ct=Vt[0];if(p.players.find(Ot=>Ot.id===s.uid).hand[ct].val!==Z.val){re([st]);return}}re([...Vt,st])}};if(A)return C.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[C.jsx(b0,{}),C.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[C.jsx(cx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),C.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),C.jsx("p",{className:"text-gray-400",children:"Zombies are lurking around. Wait for the sunlight to scare them away."})]}),C.jsx("div",{className:"h-8"}),C.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:C.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:C.jsx("div",{className:"text-center pb-12 animate-pulse",children:C.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[C.jsx(T0,{size:16})," Visit Gamehub...Try our other releases..."," ",C.jsx(T0,{size:16})]})})})}),C.jsx(Jd,{})]});if(!s)return C.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-red-500 animate-pulse",children:"Vital boost incoming..."});if(l&&!p&&!b)return C.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[C.jsx(Uc,{}),C.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[C.jsx(px,{size:48,className:"text-red-500 animate-spin"}),C.jsxs("div",{className:"text-center",children:[C.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),C.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return C.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[C.jsx(Uc,{}),C.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700 w-full px-4",children:[C.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[C.jsx(_o,{size:50,className:"text-red-600 animate-bounce"}),C.jsx(mg,{size:50,className:"text-lime-500 animate-bounce delay-75"})]}),C.jsx("h1",{className:"text-4xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-500 to-stone-500 uppercase tracking-tighter",children:"Last of Us"}),C.jsx("p",{className:"text-stone-500 tracking-[0.5em] uppercase mt-2 font-bold text-xs md:text-sm",children:"Survive the Horde"})]}),C.jsxs("div",{className:"bg-stone-900/80 backdrop-blur border border-red-900/30 p-6 md:p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 mx-4",children:[b&&C.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:b}),C.jsx("input",{className:"w-full bg-black/50 border border-stone-700 p-3 rounded-xl mb-4 text-white focus:border-red-500 outline-none text-sm",placeholder:"Survivor Name",value:k,onChange:Z=>w(Z.target.value)}),C.jsxs("button",{onClick:G,disabled:M,className:"w-full bg-red-800 hover:bg-red-700 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 transition-all shadow-lg text-sm md:text-base",children:[C.jsx(Tx,{size:20})," New Survival Zone"]}),C.jsxs("div",{className:"flex gap-2 mb-4",children:[C.jsx("input",{className:"flex-1 bg-black/50 border border-stone-700 p-3 rounded-xl text-white focus:border-red-500 outline-none uppercase text-sm",placeholder:"CODE",value:d,onChange:Z=>y(Z.target.value.toUpperCase())}),C.jsx("button",{onClick:et,disabled:M,className:"bg-stone-700 hover:bg-stone-600 px-6 rounded-xl font-bold transition-all text-sm",children:"Join"})]}),C.jsxs("button",{onClick:()=>it(!0),className:"w-full text-center text-stone-500 hover:text-stone-300 text-sm flex items-center justify-center gap-2",children:[C.jsx(v0,{size:14})," Survival Guide"]})]}),J&&C.jsx(R0,{onClose:()=>it(!1)}),C.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by I'm Out. A tribute game.",C.jsx("br",{}),"Developed by ",C.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",C.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-red-500 underline hover:text-red-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const Z=p.hostId===s.uid;return C.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-6 relative",children:[C.jsx(Uc,{}),C.jsx(b0,{}),wt&&C.jsx(w0,{onConfirmLeave:Ut,onConfirmLobby:null,onCancel:()=>yt(!1),isHost:Z,inGame:!1}),C.jsxs("div",{className:"z-10 w-full max-w-lg bg-stone-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/30 shadow-2xl",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-stone-800",children:[C.jsx("div",{children:C.jsxs("div",{children:[C.jsx("h2",{className:"text-lg md:text-xl text-red-600 font-bold uppercase",children:"Safe Zone"}),C.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[C.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:p.roomId}),C.jsxs("div",{className:"relative",children:[C.jsx("button",{onClick:Gt,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:V?C.jsx(kc,{size:16,className:"text-green-500"}):C.jsx(rx,{size:16})}),V&&C.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-red-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]})}),C.jsx("button",{onClick:()=>yt(!0),className:"p-2 bg-red-900/30 text-red-400 rounded-full hover:bg-red-900/50",children:C.jsx(Kc,{size:20})})]}),C.jsxs("div",{className:"space-y-3 mb-8",children:[p.players.map(st=>C.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-xl border border-stone-800",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 rounded-full bg-stone-800",children:C.jsx(Nx,{size:18,className:"text-stone-400"})}),C.jsx("span",{className:`font-bold ${st.id===s.uid?"text-red-500":"text-stone-400"}`,children:st.name})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[st.id===p.hostId&&C.jsx(E0,{size:16,className:"text-yellow-500"}),Z&&st.id!==s.uid&&C.jsx("button",{onClick:()=>ft(st.id),className:"text-stone-600 hover:text-red-500 p-1 transition-colors",title:"Kick Player",children:C.jsx(Ix,{size:18})})]})]},st.id)),p.players.length<2&&C.jsx("div",{className:"text-center text-stone-600 py-4 italic",children:"Need at least 2 survivors..."})]}),Z?C.jsx("button",{onClick:Xt,disabled:p.players.length<2,className:"w-full py-4 rounded-xl font-black text-xl uppercase tracking-widest bg-red-700 hover:bg-red-600 text-white shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Survival"}):C.jsx("div",{className:"w-full py-4 rounded-xl font-bold text-center text-stone-500 bg-stone-800/50 border border-stone-700 animate-pulse",children:"Waiting for Host..."})]}),C.jsx(Jd,{})]})}if(i==="game"&&p){const Z=p.players.find(lt=>lt.id===s.uid);if(!Z)return C.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center text-white",children:"Loading..."});const ct=p.players[p.turnIndex]?.id===s.uid,Ct=p.players.filter(lt=>lt.id!==s.uid),Jt=p.logs.slice(-2).reverse(),Ot=p.players.filter(lt=>lt.id!==p.hostId).every(lt=>lt.ready);return C.jsxs("div",{className:"h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden font-sans",children:[C.jsx(Uc,{}),wt&&C.jsx(w0,{onConfirmLeave:Ut,onConfirmLobby:K,onCancel:()=>yt(!1),isHost:p.hostId===s.uid,inGame:!0}),J&&C.jsx(R0,{onClose:()=>it(!1)}),C.jsxs("div",{className:"h-14 bg-stone-900/90 border-b border-stone-800 flex items-center justify-between px-4 z-160 sticky top-0 backdrop-blur-md",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Vh,{className:"text-red-600",size:24}),C.jsx("span",{className:"font-black uppercase hidden md:block",children:"Last of Us"})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>it(!0),className:"p-2 text-stone-400 hover:bg-stone-800 rounded-full",children:C.jsx(v0,{size:20})}),C.jsx("button",{onClick:()=>pt(!tt),className:`p-2 rounded-full ${tt?"bg-red-900/50 text-red-200":"text-stone-400 hover:bg-stone-800"}`,children:C.jsx(fx,{size:20})}),C.jsx("button",{onClick:()=>yt(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:C.jsx(Kc,{size:20})})]})]}),tt&&C.jsx("div",{className:"fixed top-16 right-4 z-155 bg-stone-900/95 border border-stone-700 p-2 rounded-xl max-h-60 overflow-y-auto w-64 shadow-2xl",children:[...p.logs].reverse().map((lt,_t)=>C.jsx("div",{className:`text-xs p-2 mb-1 rounded border-l-2 ${lt.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":"bg-stone-800 border-stone-600 text-gray-400"}`,children:lt.text},_t))}),p.status==="finished"&&C.jsxs("div",{className:"fixed inset-0 top-14 z-150 bg-black/95 flex flex-col items-center justify-center p-6 text-center animate-in zoom-in",children:[C.jsx(E0,{size:80,className:"text-yellow-500 mb-6 animate-bounce"}),C.jsx("h1",{className:"text-5xl font-black text-white mb-4",children:"Survivor Found!"}),C.jsxs("p",{className:"text-2xl text-stone-300 mb-8",children:[p.winner?p.winner.name:"Unknown Survivor"," ","cleared their hand!"]}),C.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full mb-8",children:p.players.map(lt=>C.jsx("div",{className:"bg-stone-800 p-4 rounded-xl flex justify-between items-center border border-stone-700",children:C.jsxs("div",{className:"flex items-center gap-2",children:[lt.ready&&C.jsx(kc,{size:16,className:"text-green-500"}),C.jsx("span",{className:lt.id===p.winner?.id?"text-yellow-400 font-bold":"text-gray-400",children:lt.name})]})},lt.id))}),C.jsx("div",{className:"flex flex-col gap-4 items-center w-full max-w-md",children:p.hostId!==s.uid?Z.ready?C.jsxs("div",{className:"w-full py-3 bg-stone-800 rounded-xl font-bold text-green-400 border border-green-500/50 flex items-center justify-center gap-2",children:[C.jsx(kc,{size:20})," Waiting for host..."]}):C.jsx("button",{onClick:nt,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white shadow-lg animate-pulse transition-all hover:scale-105",children:"Ready for Next Game"}):C.jsxs("div",{className:"flex flex-col w-full gap-3",children:[C.jsxs("div",{className:"flex gap-4 w-full",children:[C.jsxs("button",{onClick:K,disabled:!Ot,className:`flex-1 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${Ot?"bg-stone-700 hover:bg-stone-600 text-white hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[C.jsx(Kc,{size:18})," Lobby"]}),C.jsxs("button",{onClick:O,disabled:!Ot,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2 ${Ot?"bg-red-700 hover:bg-red-600 hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[C.jsx(Sx,{size:18})," Restart"]})]}),!Ot&&C.jsx("p",{className:"text-stone-500 text-sm animate-pulse",children:"Waiting for survivors to report in..."})]})})]}),C.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-6xl mx-auto p-2 gap-2 overflow-hidden relative",children:[C.jsx("div",{className:"flex-none h-24 md:h-28 flex items-start justify-center gap-2 overflow-x-auto no-scrollbar px-2 py-2",children:Ct.map(lt=>C.jsxs("div",{className:`flex flex-col items-center min-w-[80px] md:min-w-[100px] p-2 rounded-xl border ${lt.quarantined?"border-red-900 bg-red-900/20 opacity-50":"border-stone-700 bg-stone-900/50"} ${p.players[p.turnIndex]?.id===lt.id?"ring-2 ring-yellow-500 animate-pulse":""}`,children:[C.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[lt.quarantined&&C.jsx(_0,{size:12,className:"text-red-500"}),C.jsx("span",{className:"text-xs font-bold truncate max-w-[60px] md:max-w-[70px]",children:lt.name})]}),C.jsx("div",{className:"flex gap-1 overflow-hidden h-8 md:h-12 w-full justify-center",children:lt.hand.length>0?C.jsx("div",{className:"flex -space-x-2",children:lt.hand.map((_t,Mt)=>C.jsx("div",{className:"w-4 md:w-6 h-6 md:h-8 bg-stone-700 rounded border border-stone-600 shadow-sm"},Mt))}):C.jsx("span",{className:"text-[10px] text-green-500",children:"Safe"})}),C.jsxs("span",{className:"text-[10px] text-stone-500",children:[lt.hand.length," Cards"]})]},lt.id))}),C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0 bg-stone-900/30 rounded-2xl border border-stone-800/30 mx-2",children:[C.jsxs("div",{className:"absolute top-4 left-0 right-0 flex flex-col items-center pointer-events-none z-10 w-full space-y-2",children:[!tt&&Jt.map((lt,_t)=>C.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] md:text-xs font-bold shadow-lg backdrop-blur-md border animate-in fade-in zoom-in duration-300 ${lt.type==="danger"?"bg-red-900/50 border-red-500 text-red-100":"bg-stone-800/50 border-stone-600 text-stone-300"}`,children:lt.text},_t)),b&&C.jsx("div",{className:"px-6 py-2 rounded-full text-sm font-bold bg-red-600 text-white shadow-xl animate-bounce whitespace-nowrap border-4 border-red-800",children:b})]}),p.board.length===0?C.jsx("div",{className:"text-stone-600 text-sm font-bold border-2 border-dashed border-stone-800 rounded-xl p-8",children:"Board Empty"}):C.jsx("div",{className:"flex items-center gap-1 md:gap-2 overflow-x-auto p-4 w-full justify-start md:justify-center no-scrollbar h-full",children:p.board.map((lt,_t)=>C.jsx("div",{className:"transform hover:scale-105 transition-transform shrink-0",children:C.jsx(A0,{val:lt.val,type:lt.type,count:lt.count,size:"lg",isBoard:!0,disabled:!kt,selected:kt,onClick:()=>Rt(_t)})},_t))}),ct&&!Z.quarantined&&C.jsx("div",{className:"absolute bottom-4 flex gap-4 z-20",children:kt?C.jsxs("div",{className:"flex flex-col items-center gap-2 animate-in slide-in-from-bottom-2",children:[C.jsx("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 text-sm font-bold border border-red-500 shadow-xl",children:"Tap a card to take penalty"}),C.jsx("button",{onClick:()=>I(!1),className:"px-6 py-2 rounded-xl font-bold bg-gray-700 hover:bg-gray-600 text-gray-200 shadow-lg",children:"Cancel"})]}):C.jsxs(C.Fragment,{children:[C.jsxs("button",{onClick:rt,disabled:Vt.length===0,className:`px-6 md:px-8 py-3 rounded-xl font-black text-lg md:text-xl shadow-xl flex items-center gap-2 transition-all ${Vt.length>0?"bg-yellow-500 hover:bg-yellow-400 text-black hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed"}`,children:["PLAY"," ",Vt.length>0&&`(${Vt.length})`]}),C.jsxs("button",{onClick:Et,className:"px-4 md:px-6 py-3 rounded-xl font-bold bg-red-900/50 hover:bg-red-800 text-red-200 border border-red-800 flex items-center gap-2 transition-all",children:[C.jsx(_0,{size:18})," ",C.jsx("span",{className:"inline",children:"QUARANTINE"})]})]})}),ct&&Z.quarantined&&C.jsx("div",{className:"absolute bottom-4 text-red-500 font-bold animate-pulse bg-black/50 px-4 py-2 rounded-xl",children:"You are Quarantined. Skip turn."}),!ct&&C.jsx("div",{className:"absolute bottom-4 px-4 py-2 bg-stone-900 rounded-full text-stone-500 text-sm border border-stone-800 animate-pulse",children:"Waiting for survivors..."})]}),C.jsxs("div",{className:"flex-none bg-stone-900/95 p-2 md:p-4 rounded-t-3xl border-t border-red-900/30 shadow-2xl relative z-30 w-full overflow-hidden",children:[C.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[C.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-stone-400 uppercase tracking-widest",children:["Inventory (",Z.hand.length,")"]}),C.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-stone-500",children:"Match count on edges"})]}),C.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-2 px-2 no-scrollbar",children:(()=>{const lt=[];let _t=[];for(let Mt=0;Mt<Z.hand.length;Mt++){const ye=Z.hand[Mt];Mt>0&&Z.hand[Mt-1].val!==ye.val&&(lt.push(_t),_t=[]),_t.push({card:ye,index:Mt})}return _t.length>0&&lt.push(_t),lt.map((Mt,ye)=>C.jsx("div",{className:"flex -space-x-6 md:-space-x-8 hover:space-x-1 transition-all duration-300 pr-4 shrink-0",children:Mt.map(({card:It,index:Yt})=>C.jsx("div",{children:C.jsx(A0,{val:It.val,type:It.type,size:"md",selected:Vt.includes(Yt),onClick:()=>Ae(It,Yt)})},Yt))},ye))})()})]})]}),C.jsx(Jd,{})]})}return null}Ub.createRoot(document.getElementById("root")).render(C.jsx(he.StrictMode,{children:C.jsx(jx,{})}));
