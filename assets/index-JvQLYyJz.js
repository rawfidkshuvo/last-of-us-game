(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},pl={};var O_;function bb(){if(O_)return pl;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var M_;function Ab(){return M_||(M_=1,Id.exports=bb()),Id.exports}var O=Ab(),xd={exports:{}},wt={};var V_;function Sb(){if(V_)return wt;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,tt={};function mt(D,Y,st){this.props=D,this.context=Y,this.refs=tt,this.updater=st||W}mt.prototype.isReactComponent={},mt.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},mt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=mt.prototype;function _t(D,Y,st){this.props=D,this.context=Y,this.refs=tt,this.updater=st||W}var Yt=_t.prototype=new Tt;Yt.constructor=_t,nt(Yt,mt.prototype),Yt.isPureReactComponent=!0;var Gt=Array.isArray;function At(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(D,Y,st){var rt=st.ref;return{$$typeof:r,type:D,key:Y,ref:rt!==void 0?rt:null,props:st}}function V(D,Y){return R(D.type,Y,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function ue(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):Y.toString(36)}function Ee(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(At,At):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function G(D,Y,st,rt,Et){var Z=typeof D;(Z==="undefined"||Z==="boolean")&&(D=null);var J=!1;if(D===null)J=!0;else switch(Z){case"bigint":case"string":case"number":J=!0;break;case"object":switch(D.$$typeof){case r:case t:J=!0;break;case T:return J=D._init,G(J(D._payload),Y,st,rt,Et)}}if(J)return Et=Et(D),J=rt===""?"."+ue(D,0):rt,Gt(Et)?(st="",J!=null&&(st=J.replace(w,"$&/")+"/"),G(Et,Y,st,"",function(qt){return qt})):Et!=null&&(x(Et)&&(Et=V(Et,st+(Et.key==null||D&&D.key===Et.key?"":(""+Et.key).replace(w,"$&/")+"/")+J)),Y.push(Et)),1;J=0;var ot=rt===""?".":rt+":";if(Gt(D))for(var gt=0;gt<D.length;gt++)rt=D[gt],Z=ot+ue(rt,gt),J+=G(rt,Y,st,Z,Et);else if(gt=H(D),typeof gt=="function")for(D=gt.call(D),gt=0;!(rt=D.next()).done;)rt=rt.value,Z=ot+ue(rt,gt++),J+=G(rt,Y,st,Z,Et);else if(Z==="object"){if(typeof D.then=="function")return G(Ee(D),Y,st,rt,Et);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return J}function it(D,Y,st){if(D==null)return D;var rt=[],Et=0;return G(D,rt,"","",function(Z){return Y.call(st,Z,Et++)}),rt}function ft(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var Vt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Kt={map:it,forEach:function(D,Y,st){it(D,function(){Y.apply(this,arguments)},st)},count:function(D){var Y=0;return it(D,function(){Y++}),Y},toArray:function(D){return it(D,function(Y){return Y})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return wt.Activity=A,wt.Children=Kt,wt.Component=mt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=_t,wt.StrictMode=a,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(D,Y,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=nt({},D.props),Et=D.key;if(Y!=null)for(Z in Y.key!==void 0&&(Et=""+Y.key),Y)!S.call(Y,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&Y.ref===void 0||(rt[Z]=Y[Z]);var Z=arguments.length-2;if(Z===1)rt.children=st;else if(1<Z){for(var J=Array(Z),ot=0;ot<Z;ot++)J[ot]=arguments[ot+2];rt.children=J}return R(D.type,Et,rt)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},wt.createElement=function(D,Y,st){var rt,Et={},Z=null;if(Y!=null)for(rt in Y.key!==void 0&&(Z=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=Y[rt]);var J=arguments.length-2;if(J===1)Et.children=st;else if(1<J){for(var ot=Array(J),gt=0;gt<J;gt++)ot[gt]=arguments[gt+2];Et.children=ot}if(D&&D.defaultProps)for(rt in J=D.defaultProps,J)Et[rt]===void 0&&(Et[rt]=J[rt]);return R(D,Z,Et)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:p,render:D}},wt.isValidElement=x,wt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ft}},wt.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},wt.startTransition=function(D){var Y=I.T,st={};I.T=st;try{var rt=D(),Et=I.S;Et!==null&&Et(st,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(At,Vt)}catch(Z){Vt(Z)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),I.T=Y}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(D){return I.H.use(D)},wt.useActionState=function(D,Y,st){return I.H.useActionState(D,Y,st)},wt.useCallback=function(D,Y){return I.H.useCallback(D,Y)},wt.useContext=function(D){return I.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,Y){return I.H.useDeferredValue(D,Y)},wt.useEffect=function(D,Y){return I.H.useEffect(D,Y)},wt.useEffectEvent=function(D){return I.H.useEffectEvent(D)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(D,Y,st){return I.H.useImperativeHandle(D,Y,st)},wt.useInsertionEffect=function(D,Y){return I.H.useInsertionEffect(D,Y)},wt.useLayoutEffect=function(D,Y){return I.H.useLayoutEffect(D,Y)},wt.useMemo=function(D,Y){return I.H.useMemo(D,Y)},wt.useOptimistic=function(D,Y){return I.H.useOptimistic(D,Y)},wt.useReducer=function(D,Y,st){return I.H.useReducer(D,Y,st)},wt.useRef=function(D){return I.H.useRef(D)},wt.useState=function(D){return I.H.useState(D)},wt.useSyncExternalStore=function(D,Y,st){return I.H.useSyncExternalStore(D,Y,st)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.3",wt}var k_;function Em(){return k_||(k_=1,xd.exports=Sb()),xd.exports}var ge=Em(),Nd={exports:{}},yl={},Dd={exports:{}},Od={};var U_;function wb(){return U_||(U_=1,(function(r){function t(G,it){var ft=G.length;G.push(it);t:for(;0<ft;){var Vt=ft-1>>>1,Kt=G[Vt];if(0<l(Kt,it))G[Vt]=it,G[ft]=Kt,ft=Vt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ft=G.pop();if(ft!==it){G[0]=ft;t:for(var Vt=0,Kt=G.length,D=Kt>>>1;Vt<D;){var Y=2*(Vt+1)-1,st=G[Y],rt=Y+1,Et=G[rt];if(0>l(st,ft))rt<Kt&&0>l(Et,st)?(G[Vt]=Et,G[rt]=ft,Vt=rt):(G[Vt]=st,G[Y]=ft,Vt=Y);else if(rt<Kt&&0>l(Et,ft))G[Vt]=Et,G[rt]=ft,Vt=rt;else break t}}return it}function l(G,it){var ft=G.sortIndex-it.sortIndex;return ft!==0?ft:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,A=null,M=3,H=!1,W=!1,nt=!1,tt=!1,mt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Yt(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function Gt(G){if(nt=!1,Yt(G),!W)if(i(_)!==null)W=!0,At||(At=!0,k());else{var it=i(y);it!==null&&Ee(Gt,it.startTime-G)}}var At=!1,I=-1,S=5,R=-1;function V(){return tt?!0:!(r.unstable_now()-R<S)}function x(){if(tt=!1,At){var G=r.unstable_now();R=G;var it=!0;try{t:{W=!1,nt&&(nt=!1,Tt(I),I=-1),H=!0;var ft=M;try{e:{for(Yt(G),A=i(_);A!==null&&!(A.expirationTime>G&&V());){var Vt=A.callback;if(typeof Vt=="function"){A.callback=null,M=A.priorityLevel;var Kt=Vt(A.expirationTime<=G);if(G=r.unstable_now(),typeof Kt=="function"){A.callback=Kt,Yt(G),it=!0;break e}A===i(_)&&a(_),Yt(G)}else a(_);A=i(_)}if(A!==null)it=!0;else{var D=i(y);D!==null&&Ee(Gt,D.startTime-G),it=!1}}break t}finally{A=null,M=ft,H=!1}it=void 0}}finally{it?k():At=!1}}}var k;if(typeof _t=="function")k=function(){_t(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ue=w.port2;w.port1.onmessage=x,k=function(){ue.postMessage(null)}}else k=function(){mt(x,0)};function Ee(G,it){I=mt(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ft=M;M=it;try{return G()}finally{M=ft}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return it()}finally{M=ft}},r.unstable_scheduleCallback=function(G,it,ft){var Vt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Vt+ft:Vt):ft=Vt,G){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=ft+Kt,G={id:T++,callback:it,priorityLevel:G,startTime:ft,expirationTime:Kt,sortIndex:-1},ft>Vt?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(nt?(Tt(I),I=-1):nt=!0,Ee(Gt,ft-Vt))):(G.sortIndex=Kt,t(_,G),W||H||(W=!0,At||(At=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var it=M;return function(){var ft=M;M=it;try{return G.apply(this,arguments)}finally{M=ft}}}})(Od)),Od}var L_;function Rb(){return L_||(L_=1,Dd.exports=wb()),Dd.exports}var Md={exports:{}},en={};var P_;function Cb(){if(P_)return en;P_=1;var r=Em();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},en.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:H}):T==="script"&&a.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},en.requestFormReset=function(_){a.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var z_;function Ib(){if(z_)return Md.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Cb(),Md.exports}var j_;function xb(){if(j_)return yl;j_=1;var r=Rb(),t=Em(),i=Ib();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case mt:return"Profiler";case tt:return"StrictMode";case Gt:return"Suspense";case At:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case _t:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Yt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var Ee=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Vt=[],Kt=-1;function D(e){return{current:e}}function Y(e){0>Kt||(e.current=Vt[Kt],Vt[Kt]=null,Kt--)}function st(e,n){Kt++,Vt[Kt]=e.current,e.current=n}var rt=D(null),Et=D(null),Z=D(null),J=D(null);function ot(e,n){switch(st(Z,n),st(Et,e),st(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),st(rt,e)}function gt(){Y(rt),Y(Et),Y(Z)}function qt(e){e.memoizedState!==null&&st(J,e);var n=rt.current,s=n_(n,e.type);n!==s&&(st(Et,e),st(rt,s))}function lt(e){Et.current===e&&(Y(rt),Y(Et)),J.current===e&&(Y(J),fl._currentValue=ft)}var Dt,Ct;function kt(e){if(Dt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Dt=n&&n[1]||"",Ct=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+e+Ct}var Re=!1;function Jt(e,n){if(!e||Re)return"";Re=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Re=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?kt(s):""}function on(e,n){switch(e.tag){case 26:case 27:case 5:return kt(e.type);case 16:return kt("Lazy");case 13:return e.child!==n&&n!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Jt(e.type,!1);case 11:return Jt(e.type.render,!1);case 1:return Jt(e.type,!0);case 31:return kt("Activity");default:return""}}function Mn(e){try{var n="",s=null;do n+=on(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Wt=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ys=r.unstable_cancelCallback,xh=r.unstable_shouldYield,Xl=r.unstable_requestPaint,ln=r.unstable_now,pr=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,$l=r.unstable_IdlePriority,Zl=r.log,Jl=r.unstable_setDisableYieldValue,$n=null,Qe=null;function Vn(e){if(typeof Zl=="function"&&Jl(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode($n,e)}catch{}}var Te=Math.clz32?Math.clz32:tu,Wl=Math.log,ea=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/ea|0)|0}var hi=256,yr=262144,Ce=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fi(o):(g&=E,g!==0?h=fi(g):s||(s=E&~e,s!==0&&(h=fi(s))))):(E=o&~f,E!==0?h=fi(E):g!==0?h=fi(g):s||(s=o&~e,s!==0&&(h=fi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function mi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-Te(s),K=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function vr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Te(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function yo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Te(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function _o(e,n){var s=n&-n;return s=(s&42)!==0?1:Er(s),(s&(e.suspendedLanes|n))!==0?0:s}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Jn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Wn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Wn,qe="__reactProps$"+Wn,gi="__reactContainer$"+Wn,na="__reactEvents$"+Wn,Mh="__reactListeners$"+Wn,iu="__reactHandles$"+Wn,su="__reactResources$"+Wn,pi="__reactMarker$"+Wn;function ia(e){delete e[Ie],delete e[qe],delete e[na],delete e[Mh],delete e[iu]}function yi(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[gi]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u_(e);e!==null;){if(s=e[Ie])return s;e=u_(e)}return n}e=s,s=e.parentNode}return null}function kn(e){if(e=e[Ie]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function _i(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[pi]=!0}var vo=new Set,Eo={};function vi(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ao={};function ru(e){return Wt.call(Ao,e)?!0:Wt.call(bo,e)?!1:To.test(e)?Ao[e]=!0:(bo[e]=!0,!1)}function sa(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function te(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function Tr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function fn(e){return e.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,He(n)):s!=null?wo(e,g,He(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+He(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(e);return}s=s!=null?""+He(s):"",n=n!=null?""+He(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),te(e)}function wo(e,n,s){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+He(s):""}function Ts(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ee(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=He(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),te(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Co(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return bs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var Io=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,bi=null;function Ar(e){var n=kn(e);if(n&&(e=n.stateNode)){var s=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[qe]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Tr(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var la=!1;function Ss(e,n,s){if(la)return e(n,s);la=!0;try{var o=e(n);return o}finally{if(la=!1,(As!==null||bi!==null)&&(nc(),As&&(n=As,e=bi,bi=As=null,Ar(n),e)))for(n=0;n<e.length;n++)Ar(e[n])}}function ei(e,n){var s=e.stateNode;if(s===null)return null;var o=s[qe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Ln)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Sr=!1}var Ai=null,xo=null,wr=null;function No(){if(wr)return wr;var e,n=xo,s=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function ni(){return!1}function Ye(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ni,this.isPropagationStopped=ni,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ye(Gi),ws=A({},Gi,{view:0,detail:0}),Do=Ye(ws),Rs,ua,wi,ca=A({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Rs=e.screenX-wi.screenX,ua=e.screenY-wi.screenY):ua=Rs=0,wi=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Oo=Ye(ca),Cr=A({},ca,{dataTransfer:0}),cu=Ye(Cr),hu=A({},ws,{relatedTarget:0}),Ir=Ye(hu),Mo=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Ye(Mo),ha=A({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Ye(ha),mu=A({},Gi,{data:0}),Ri=Ye(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function Cs(){return _u}var un=A({},ws,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Ye(un),Eu=A({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ye(Eu),u=A({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Ye(u),v=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(v),L=A({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(L),et=A({},Gi,{newState:0,oldState:0}),It=Ye(et),be=[9,13,27,32],Xt=Ln&&"CompositionEvent"in window,de=null;Ln&&"documentMode"in document&&(de=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!de,Ci=Ln&&(!Xt||de&&8<de&&11>=de),ii=" ",si=!1;function xr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function QT(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function YT(e,n){if(da)return e==="compositionend"||!Xt&&xr(e,n)?(e=No(),wr=xo=Ai=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KT[e.type]:n==="textarea"}function dg(e,n,s,o){As?bi?bi.push(o):bi=[o]:As=o,n=uc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,ko=null;function XT(e){Xy(e,0)}function Tu(e){var n=Tn(e);if(Tr(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(Ln){var Vh;if(Ln){var kh="oninput"in document;if(!kh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),kh=typeof pg.oninput=="function"}Vh=kh}else Vh=!1;gg=Vh&&(!document.documentMode||9<document.documentMode)}function yg(){Vo&&(Vo.detachEvent("onpropertychange",_g),ko=Vo=null)}function _g(e){if(e.propertyName==="value"&&Tu(ko)){var n=[];dg(n,ko,e,Un(e)),Ss(XT,n)}}function $T(e,n,s){e==="focusin"?(yg(),Vo=n,ko=s,Vo.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function ZT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(ko)}function JT(e,n){if(e==="click")return Tu(n)}function WT(e,n){if(e==="input"||e==="change")return Tu(n)}function t1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:t1;function Uo(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Wt.call(n,h)||!An(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vg(s)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ti(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var e1=Ln&&"documentMode"in document&&11>=document.documentMode,ma=null,Lh=null,Lo=null,Ph=!1;function Ag(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||ma==null||ma!==Ti(o)||(o=ma,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Uo(Lo,o)||(Lo=o,o=uc(Lh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ma)))}function Nr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ga={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},zh={},Sg={};Ln&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Dr(e){if(zh[e])return zh[e];if(!ga[e])return e;var n=ga[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sg)return zh[e]=n[s];return e}var wg=Dr("animationend"),Rg=Dr("animationiteration"),Cg=Dr("animationstart"),n1=Dr("transitionrun"),i1=Dr("transitionstart"),s1=Dr("transitioncancel"),Ig=Dr("transitionend"),xg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function ri(e,n){xg.set(e,n),vi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],pa=0,Bh=0;function Au(){for(var e=pa,n=Bh=pa=0;n<e;){var s=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ng(s,h,f)}}function Su(e,n,s,o){zn[pa++]=e,zn[pa++]=n,zn[pa++]=s,zn[pa++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return Su(e,n,s,o),wu(e)}function Or(e,n){return Su(e,null,null,n),wu(e)}function Ng(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Te(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<rl)throw rl=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function r1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,s,o){return new r1(e,n,s,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=Sn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=cb(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Sn(31,s,n,h),e.elementType=R,e.lanes=f,e;case nt:return Mr(s.children,h,f,n);case tt:g=8,h|=24;break;case mt:return e=Sn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Gt:return e=Sn(13,s,n,h),e.elementType=Gt,e.lanes=f,e;case At:return e=Sn(19,s,n,h),e.elementType=At,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case Tt:g=9;break t;case Yt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Mr(e,n,s,o){return e=Sn(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=Sn(6,e,null,n),e.lanes=s,e}function Og(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Mn(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:Mn(n)}}var _a=[],va=0,Cu=null,Po=0,Bn=[],qn=0,Is=null,Ii=1,xi="";function Yi(e,n){_a[va++]=Po,_a[va++]=Cu,Cu=e,Po=n}function Vg(e,n,s){Bn[qn++]=Ii,Bn[qn++]=xi,Bn[qn++]=Is,Is=e;var o=Ii;e=xi;var h=32-Te(o)-1;o&=~(1<<h),s+=1;var f=32-Te(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ii=1<<32-Te(n)+h|s<<h|o,xi=f+e}else Ii=1<<f|s<<h|o,xi=e}function Qh(e){e.return!==null&&(Yi(e,1),Vg(e,1,0))}function Yh(e){for(;e===Cu;)Cu=_a[--va],_a[va]=null,Po=_a[--va],_a[va]=null;for(;e===Is;)Is=Bn[--qn],Bn[qn]=null,xi=Bn[--qn],Bn[qn]=null,Ii=Bn[--qn],Bn[qn]=null}function kg(e,n){Bn[qn++]=Ii,Bn[qn++]=xi,Bn[qn++]=Is,Ii=n.id,xi=n.overflow,Is=e}var Ke=null,ce=null,Bt=!1,xs=null,Hn=!1,Kh=Error(a(519));function Ns(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(jn(n,e)),Kh}function Ug(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[qe]=o,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<ol.length;s++)Mt(ol[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Wy(n.textContent,s)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Ns(e,!0)}function Lg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ke=Ke.return}}function Ea(e){if(e!==Ke)return!1;if(!Bt)return Lg(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&ce&&Ns(e),Lg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=l_(e)}else n===27?(n=ce,Gs(e.type)?(e=_d,_d=null,ce=e):ce=n):ce=Ke?Fn(e.stateNode.nextSibling):null;return!0}function Vr(){ce=Ke=null,Bt=!1}function Xh(){var e=xs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),xs=null),e}function zo(e){xs===null?xs=[e]:xs.push(e)}var $h=D(null),kr=null,Ki=null;function Ds(e,n,s){st($h,n._currentValue),n._currentValue=s}function Xi(e){e._currentValue=$h.current,Y($h)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===J.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){kr=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Pg(kr,e)}function xu(e,n){return kr===null&&Ur(e),Pg(e,n)}function Pg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ki===null){if(e===null)throw Error(a(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return s}var a1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},o1=r.unstable_scheduleCallback,l1=r.unstable_NormalPriority,De={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new a1,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&o1(l1,function(){e.controller.abort()})}var Bo=null,tf=0,ba=0,Aa=null;function u1(e,n){if(Bo===null){var s=Bo=[];tf=0,ba=sd(),Aa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(zg,zg),n}function zg(){if(--tf===0&&Bo!==null){Aa!==null&&(Aa.status="fulfilled");var e=Bo;Bo=null,ba=0,Aa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function c1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var jg=G.S;G.S=function(e,n){Ay=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&u1(e,n),jg!==null&&jg(e,n)};var Lr=D(null);function ef(){var e=Lr.current;return e!==null?e:le.pooledCache}function Nu(e,n){n===null?st(Lr,Lr.current):st(Lr,n.pool)}function Bg(){var e=ef();return e===null?null:{parent:De._currentValue,pool:e}}var Sa=Error(a(460)),nf=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ti,ti),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw zr=n,Sa}}function Pr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zr=s,Sa):s}}var zr=null;function Gg(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function Fg(e){if(e===Sa||e===Du)throw Error(a(483))}var wa=null,qo=0;function Mu(e){var n=qo;return qo+=1,wa===null&&(wa=[]),Hg(wa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(U,N){if(e){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function s(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Qi(U,N),U.index=0,U.sibling=null,U}function f(U,N,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,P,Q){return N===null||N.tag!==6?(N=Gh(P,U.mode,Q),N.return=U,N):(N=h(N,P),N.return=U,N)}function C(U,N,P,Q){var dt=P.type;return dt===nt?F(U,N,P.props.children,Q,P.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Pr(dt)===N.type)?(N=h(N,P.props),Ho(N,P),N.return=U,N):(N=Ru(P.type,P.key,P.props,null,U.mode,Q),Ho(N,P),N.return=U,N)}function z(U,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Fh(P,U.mode,Q),N.return=U,N):(N=h(N,P.children||[]),N.return=U,N)}function F(U,N,P,Q,dt){return N===null||N.tag!==7?(N=Mr(P,U.mode,Q,dt),N.return=U,N):(N=h(N,P),N.return=U,N)}function K(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Gh(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=Ru(N.type,N.key,N.props,null,U.mode,P),Ho(P,N),P.return=U,P;case W:return N=Fh(N,U.mode,P),N.return=U,N;case S:return N=Pr(N),K(U,N,P)}if(Ee(N)||k(N))return N=Mr(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return K(U,Mu(N),P);if(N.$$typeof===_t)return K(U,xu(U,N),P);Vu(U,N)}return null}function j(U,N,P,Q){var dt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(U,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===dt?C(U,N,P,Q):null;case W:return P.key===dt?z(U,N,P,Q):null;case S:return P=Pr(P),j(U,N,P,Q)}if(Ee(P)||k(P))return dt!==null?null:F(U,N,P,Q,null);if(typeof P.then=="function")return j(U,N,Mu(P),Q);if(P.$$typeof===_t)return j(U,N,xu(U,P),Q);Vu(U,P)}return null}function q(U,N,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(N,U,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return U=U.get(Q.key===null?P:Q.key)||null,C(N,U,Q,dt);case W:return U=U.get(Q.key===null?P:Q.key)||null,z(N,U,Q,dt);case S:return Q=Pr(Q),q(U,N,P,Q,dt)}if(Ee(Q)||k(Q))return U=U.get(P)||null,F(N,U,Q,dt,null);if(typeof Q.then=="function")return q(U,N,P,Mu(Q),dt);if(Q.$$typeof===_t)return q(U,N,P,xu(N,Q),dt);Vu(N,Q)}return null}function ut(U,N,P,Q){for(var dt=null,Ft=null,ct=N,Nt=N=0,Lt=null;ct!==null&&Nt<P.length;Nt++){ct.index>Nt?(Lt=ct,ct=null):Lt=ct.sibling;var Qt=j(U,ct,P[Nt],Q);if(Qt===null){ct===null&&(ct=Lt);break}e&&ct&&Qt.alternate===null&&n(U,ct),N=f(Qt,N,Nt),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt,ct=Lt}if(Nt===P.length)return s(U,ct),Bt&&Yi(U,Nt),dt;if(ct===null){for(;Nt<P.length;Nt++)ct=K(U,P[Nt],Q),ct!==null&&(N=f(ct,N,Nt),Ft===null?dt=ct:Ft.sibling=ct,Ft=ct);return Bt&&Yi(U,Nt),dt}for(ct=o(ct);Nt<P.length;Nt++)Lt=q(ct,U,Nt,P[Nt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ct.delete(Lt.key===null?Nt:Lt.key),N=f(Lt,N,Nt),Ft===null?dt=Lt:Ft.sibling=Lt,Ft=Lt);return e&&ct.forEach(function(Xs){return n(U,Xs)}),Bt&&Yi(U,Nt),dt}function yt(U,N,P,Q){if(P==null)throw Error(a(151));for(var dt=null,Ft=null,ct=N,Nt=N=0,Lt=null,Qt=P.next();ct!==null&&!Qt.done;Nt++,Qt=P.next()){ct.index>Nt?(Lt=ct,ct=null):Lt=ct.sibling;var Xs=j(U,ct,Qt.value,Q);if(Xs===null){ct===null&&(ct=Lt);break}e&&ct&&Xs.alternate===null&&n(U,ct),N=f(Xs,N,Nt),Ft===null?dt=Xs:Ft.sibling=Xs,Ft=Xs,ct=Lt}if(Qt.done)return s(U,ct),Bt&&Yi(U,Nt),dt;if(ct===null){for(;!Qt.done;Nt++,Qt=P.next())Qt=K(U,Qt.value,Q),Qt!==null&&(N=f(Qt,N,Nt),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt);return Bt&&Yi(U,Nt),dt}for(ct=o(ct);!Qt.done;Nt++,Qt=P.next())Qt=q(ct,U,Nt,Qt.value,Q),Qt!==null&&(e&&Qt.alternate!==null&&ct.delete(Qt.key===null?Nt:Qt.key),N=f(Qt,N,Nt),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt);return e&&ct.forEach(function(Tb){return n(U,Tb)}),Bt&&Yi(U,Nt),dt}function ae(U,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var dt=P.key;N!==null;){if(N.key===dt){if(dt=P.type,dt===nt){if(N.tag===7){s(U,N.sibling),Q=h(N,P.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Pr(dt)===N.type){s(U,N.sibling),Q=h(N,P.props),Ho(Q,P),Q.return=U,U=Q;break t}s(U,N);break}else n(U,N);N=N.sibling}P.type===nt?(Q=Mr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Ru(P.type,P.key,P.props,null,U.mode,Q),Ho(Q,P),Q.return=U,U=Q)}return g(U);case W:t:{for(dt=P.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(U,N.sibling),Q=h(N,P.children||[]),Q.return=U,U=Q;break t}else{s(U,N);break}else n(U,N);N=N.sibling}Q=Fh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case S:return P=Pr(P),ae(U,N,P,Q)}if(Ee(P))return ut(U,N,P,Q);if(k(P)){if(dt=k(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),yt(U,N,P,Q)}if(typeof P.then=="function")return ae(U,N,Mu(P),Q);if(P.$$typeof===_t)return ae(U,N,xu(U,P),Q);Vu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(U,N.sibling),Q=h(N,P),Q.return=U,U=Q):(s(U,N),Q=Gh(P,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,N)}return function(U,N,P,Q){try{qo=0;var dt=ae(U,N,P,Q);return wa=null,dt}catch(ct){if(ct===Sa||ct===Du)throw ct;var Ft=Sn(29,ct,null,U.mode);return Ft.lanes=Q,Ft.return=U,Ft}}}var jr=Qg(!0),Yg=Qg(!1),Os=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Ng(e,null,s),n}return Su(e,o,n,s),wu(e)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Fo(){if(of){var e=Aa;if(e!==null)throw e}}function Qo(e,n,s,o){of=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;g=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===ba&&(of=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,yt=E;j=n;var ae=s;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){K=ut.call(ae,K,j);break t}K=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,j=typeof ut=="function"?ut.call(ae,K,j):ut,j==null)break t;K=A({},K,j);break t;case 2:Os=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,C=K):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=K}}function Kg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Kg(s[e],n)}var Ra=D(null),ku=D(0);function $g(e,n){e=ss,st(ku,e),st(Ra,n),ss=e|n.baseLanes}function lf(){st(ku,ss),st(Ra,Ra.current)}function uf(){ss=ku.current,Y(Ra),Y(ku)}var wn=D(null),Gn=null;function ks(e){var n=e.alternate;st(Ae,Ae.current&1),st(wn,e),Gn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Gn=e)}function cf(e){st(Ae,Ae.current),st(wn,e),Gn===null&&(Gn=e)}function Zg(e){e.tag===22?(st(Ae,Ae.current),st(wn,e),Gn===null&&(Gn=e)):Us()}function Us(){st(Ae,Ae.current),st(wn,wn.current)}function Rn(e){Y(wn),Gn===e&&(Gn=null),Y(Ae)}var Ae=D(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,xt=null,se=null,Oe=null,Lu=!1,Ca=!1,Br=!1,Pu=0,Yo=0,Ia=null,h1=0;function _e(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return $i=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Vp:Cf,Br=!1,f=s(o,h),Br=!1,Ca&&(f=Wg(n,s,o,h)),Jg(e),f}function Jg(e){G.H=$o;var n=se!==null&&se.next!==null;if($i=0,Oe=se=xt=null,Lu=!1,Yo=0,Ia=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Iu(e)&&(Me=!0))}function Wg(e,n,s,o){xt=e;var h=0;do{if(Ca&&(Ia=null),Yo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,Oe=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=kp,f=n(s,o)}while(Ca);return f}function f1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(xt.flags|=1024),n}function df(){var e=Pu!==0;return Pu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}$i=0,Oe=se=xt=null,Ca=!1,Yo=Pu=0,Ia=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?xt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Se(){if(se===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Oe===null?xt.memoizedState:Oe.next;if(n!==null)Oe=n,se=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Oe===null?xt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Yo;return Yo+=1,Ia===null&&(Ia=[]),e=Hg(Ia,e,n),n=xt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Vp:Cf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===_t)return Xe(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Zi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=Se();return yf(n,se,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ut&K)===K:($i&K)===K){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ba&&(F=!0);else if(($i&j)===j){z=z.next,j===ba&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=K,g=f):C=C.next=K,xt.lanes|=j,zs|=j;K=z.action,Br&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,xt.lanes|=K,zs|=K;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!An(f,e.memoizedState)&&(Me=!0,F&&(s=Aa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tp(e,n,s){var o=xt,h=Se(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!An((se||h).memoizedState,s);if(g&&(h.memoizedState=s,Me=!0),h=h.queue,Tf(ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},np.bind(null,o,h,s,n),null),le===null)throw Error(a(349));f||($i&127)!==0||ep(o,n,s)}return s}function ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=zu(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function np(e,n,s,o){n.value=s,n.getSnapshot=o,sp(n)&&rp(e)}function ip(e,n,s){return s(function(){sp(n)&&rp(e)})}function sp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function rp(e){var n=Or(e,2);n!==null&&_n(n,e,2)}function vf(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Br){Vn(!0);try{s()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function ap(e,n,s,o){return e.baseState=s,yf(e,se,typeof o=="function"?o:Zi)}function d1(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),lp(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),lp(e,n,f)}catch(z){Ef(e,n,z)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){up(e,n,o)},function(o){return Ef(e,n,o)}):up(e,n,s)}function up(e,n,s){n.status="fulfilled",n.value=s,cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,op(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==o)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function fp(e,n){if(Bt){var s=le.formState;if(s!==null){t:{var o=xt;if(Bt){if(ce){e:{for(var h=ce,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Fn(h.nextSibling),o=h.data==="F!";break t}}Ns(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},s.queue=o,s=Dp.bind(null,xt,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,xt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=d1.bind(null,xt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function dp(e){var n=Se();return mp(n,se,e)}function mp(e,n,s){if(n=yf(e,n,hp)[0],e=Bu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===Sa?Du:g}else o=n;n=Se();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,xa(9,{destroy:void 0},m1.bind(null,h,s),null)),[o,f,e]}function m1(e,n){e.action=n}function gp(e){var n=Se(),s=se;if(s!==null)return mp(n,s,e);Se(),n=n.memoizedState,s=Se();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function xa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=zu(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pp(){return Se().memoizedState}function qu(e,n,s,o){var h=cn();xt.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&hf(o,se.memoizedState.deps)?h.memoizedState=xa(n,f,s,o):(xt.flags|=e,h.memoizedState=xa(1|n,f,s,o))}function yp(e,n){qu(8390656,8,e,n)}function Tf(e,n){Hu(2048,8,e,n)}function g1(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=zu(),xt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function _p(e){var n=Se().memoizedState;return g1({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return Hu(4,2,e,n)}function Ep(e,n){return Hu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bp(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,Tp.bind(null,n,e),s)}function bf(){}function Ap(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Sp(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Br){Vn(!0);try{e()}finally{Vn(!1)}}return s.memoizedState=[o,n],o}function Af(e,n,s){return s===void 0||($i&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=wy(),xt.lanes|=e,zs|=e,s)}function wp(e,n,s,o){return An(s,n)?s:Ra.current!==null?(e=Af(e,s,o),An(e,n)||(Me=!0),e):($i&42)===0||($i&1073741824)!==0&&(Ut&261930)===0?(Me=!0,e.memoizedState=s):(e=wy(),xt.lanes|=e,zs|=e,n)}function Rp(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rf(e,!1,n,s);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=c1(C,o);Xo(e,n,F,xn(e))}else Xo(e,n,o,xn(e))}catch(K){Xo(e,n,{then:function(){},status:"rejected",reason:K},xn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function p1(){}function Sf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Cp(e).queue;Rp(e,h,n,ft,s===null?p1:function(){return Ip(e),s(o)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ip(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},xn())}function wf(){return Xe(fl)}function xp(){return Se().memoizedState}function Np(){return Se().memoizedState}function y1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=xn();e=Ms(s);var o=Vs(n,e,s);o!==null&&(_n(o,n,s),Go(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function _1(e,n,s){var o=xn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Op(n,s):(s=qh(e,n,s,o),s!==null&&(_n(s,e,o),Mp(s,n,o)))}function Dp(e,n,s){var o=xn();Xo(e,n,s,o)}function Xo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Op(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return Su(e,n,h,0),le===null&&Au(),!1}catch{}if(s=qh(e,n,h,o),s!==null)return _n(s,e,o),Mp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&_n(n,e,2)}function Gu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Op(e,n){Ca=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}var $o={readContext:Xe,use:ju,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};$o.useEffectEvent=_e;var Vp={readContext:Xe,use:ju,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:yp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,Tp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Br){Vn(!0);try{e()}finally{Vn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Br){Vn(!0);try{s(n)}finally{Vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=_1.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Dp.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=cn();return Af(s,e,n)},useTransition:function(){var e=vf(!1);return e=Rp.bind(null,xt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=xt,h=cn();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),le===null)throw Error(a(349));(Ut&127)!==0||ep(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,yp(ip.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},np.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=le.identifierPrefix;if(Bt){var s=xi,o=Ii;s=(o&~(1<<32-Te(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=h1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return cn().memoizedState=y1.bind(null,xt)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if(($t&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Xe,use:ju,useCallback:Ap,useContext:Xe,useEffect:Tf,useImperativeHandle:bp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Sp,useReducer:Bu,useRef:pp,useState:function(){return Bu(Zi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Se();return wp(s,se.memoizedState,e,n)},useTransition:function(){var e=Bu(Zi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:tp,useId:xp,useHostTransitionStatus:wf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=Se();return ap(s,se,e,n)},useMemoCache:pf,useCacheRefresh:Np};Cf.useEffectEvent=_p;var kp={readContext:Xe,use:ju,useCallback:Ap,useContext:Xe,useEffect:Tf,useImperativeHandle:bp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Sp,useReducer:_f,useRef:pp,useState:function(){return _f(Zi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Se();return se===null?Af(s,e,n):wp(s,se.memoizedState,e,n)},useTransition:function(){var e=_f(Zi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:tp,useId:xp,useHostTransitionStatus:wf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=Se();return se!==null?ap(s,se,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Np};kp.useEffectEvent=_p;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=xn(),h=Ms(o);h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=xn(),h=Ms(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=xn(),o=Ms(s);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,s),n!==null&&(_n(n,e,s),Go(n,e,s))}};function Up(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(s,o)||!Uo(h,f):!0}function Lp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function qr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Pp(e){bu(e)}function zp(e){console.error(e)}function jp(e){bu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function qp(e){return e=Ms(e),e.tag=3,e}function Hp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Bp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Bp(n,s,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function v1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ta(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return Gn===null?ic():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),ic(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),zo(jn(e,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),zo(jn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=jn(o,s),h=Nf(e.stateNode,o,h),af(e,h),ve!==4&&(ve=2)),!1;var f=Error(a(520),{cause:o});if(f=jn(f,s),sl===null?sl=[f]:sl.push(f),ve!==4&&(ve=2),n===null)return!0;o=jn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qp(h),Hp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),Me=!1;function $e(e,n,s,o){n.child=e===null?Yg(n,null,s,o):jr(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ur(n),o=ff(e,n,s,g,f,h),E=df(),e!==null&&!Me?(mf(e,n,h),Ji(e,n,h)):(Bt&&E&&Qh(n),n.flags|=1,$e(e,n,o,h),n.child)}function Fp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return Of(e,n,s,o,h)}function Yp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Kp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?$g(n,f):lf(),Zg(n);else return o=n.lanes=536870912,Kp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),$g(n,f),Us(),n.memoizedState=null):(e!==null&&Nu(n,null),lf(),Us());return $e(e,n,h,s),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),lf(),Zg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,s){return jr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function E1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Zo(null,e);if(cf(n),(e=ce)?(e=o_(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=Og(e),s.return=n,n.child=s,Ke=n,ce=null)):e=null,e===null)throw Ns(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||Ta(e,n,s,!1),h=(s&e.childLanes)!==0,Me||h){if(o=le,o!==null&&(g=_o(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Or(e,g),_n(o,e,g),Df;ic(),n=Xp(e,n,s)}else e=f.treeContext,ce=Fn(g.nextSibling),Ke=n,Bt=!0,xs=null,Hn=!1,e!==null&&kg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return Ur(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!Me?(mf(e,n,h),Ji(e,n,h)):(Bt&&o&&Qh(n),n.flags|=1,$e(e,n,s,h),n.child)}function $p(e,n,s,o,h,f){return Ur(n),n.updateQueue=null,s=Wg(n,o,s,h),Jg(e),o=df(),e!==null&&!Me?(mf(e,n,f),Ji(e,n,f)):(Bt&&o&&Qh(n),n.flags|=1,$e(e,n,s,f),n.child)}function Zp(e,n,s,o,h){if(Ur(n),n.stateNode===null){var f=ya,g=s.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):ya,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=qr(s,E);f.props=C;var z=f.context,F=s.contextType;g=ya,typeof F=="object"&&F!==null&&(g=Xe(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Lp(n,f,o,g),Os=!1;var j=n.memoizedState;f.state=j,Qo(n,o,f,h),Fo(),z=n.memoizedState,E||j!==z||Os?(typeof K=="function"&&(If(n,s,K,o),z=n.memoizedState),(C=Os||Up(n,s,C,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,F=qr(s,g),f.props=F,K=n.pendingProps,j=f.context,z=s.contextType,C=ya,typeof z=="object"&&z!==null&&(C=Xe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==C)&&Lp(n,f,o,C),Os=!1,j=n.memoizedState,f.state=j,Qo(n,o,f,h),Fo();var q=n.memoizedState;g!==K||j!==q||Os||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,o),q=n.memoizedState),(F=Os||Up(n,s,F,o,j,q,C)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,s,h)):$e(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function Jp(e,n,s,o){return Vr(),n.flags|=256,$e(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:Bg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function Wp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?ks(n):Us(),(e=ce)?(e=o_(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=Og(e),s.return=n,n.child=s,Ke=n,ce=null)):e=null,e===null)throw Ns(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=Ku({mode:"hidden",children:E},h),o=Mr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,Zo(null,o)):(ks(n),Uf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),E=Mr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,jr(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,n=Zo(null,o));else if(ks(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(Me||Ta(e,n,s,!1),g=(s&e.childLanes)!==0,Me||g){if(g=le,g!==null&&(o=_o(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Or(e,o),_n(g,e,o),Df;pd(E)||ic(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ce=Fn(E.nextSibling),Ke=n,Bt=!0,xs=null,Hn=!1,e!==null&&kg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Qi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=Mr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(C=De._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Bg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,s),n.memoizedState=Mf,Zo(e.child,o)):(ks(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return jr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ey(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(Ae,g),$e(e,n,o,s),o=Bt?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,s,n);else if(e.tag===19)ty(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ta(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function T1(e,n,s){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),Ds(n,De,e.memoizedState.cache),Vr();break;case 27:case 5:qt(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wp(e,n,s):(ks(n),e=Ji(e,n,s),e!==null?e.sibling:null);ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ta(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,s,n.pendingProps);case 24:Ds(n,De,e.memoizedState.cache)}return Ji(e,n,s)}function ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Me=!1,T1(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,Bt&&(n.flags&1048576)!==0&&Vg(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Pr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=qr(e,o),n.tag=1,n=Zp(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Yt){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Fp(null,n,e,o,s);break t}}throw n=ue(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=qr(o,n.pendingProps),Zp(e,n,o,h,s);case 3:t:{if(ot(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Qo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ds(n,De,o),o!==f.cache&&Jh(n,[De],s,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(e,n,o,s);break t}else if(o!==h){h=jn(Error(a(424)),n),zo(h),n=Jp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Fn(e.firstChild),Ke=n,Bt=!0,xs=null,Hn=!0,s=Yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Vr(),o===h){n=Ji(e,n,s);break t}$e(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=d_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,o=cc(Z.current).createElement(s),o[Ie]=n,o[qe]=e,Ze(o,s,e),xe(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qt(n),e===null&&Bt&&(o=n.stateNode=c_(n.type,n.pendingProps,Z.current),Ke=n,Hn=!0,h=ce,Gs(n.type)?(_d=h,ce=Fn(o.firstChild)):ce=h),$e(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=ce)&&(o=Z1(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Ke=n,ce=Fn(o.firstChild),Hn=!1,h=!0):h=!1),h||Ns(n)),qt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,f1,null,null,s),fl._currentValue=h),Yu(e,n),$e(e,n,o,s),n.child;case 6:return e===null&&Bt&&((e=s=ce)&&(s=J1(s,n.pendingProps,Hn),s!==null?(n.stateNode=s,Ke=n,ce=null,e=!0):e=!1),e||Ns(n)),null;case 13:return Wp(e,n,s);case 4:return ot(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,s):$e(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return $e(e,n,n.pendingProps,s),n.child;case 8:return $e(e,n,n.pendingProps.children,s),n.child;case 12:return $e(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),$e(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ur(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,s),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,s);case 15:return Qp(e,n,n.type,n.pendingProps,s);case 19:return ey(e,n,s);case 31:return E1(e,n,s);case 22:return Yp(e,n,s,n.pendingProps);case 24:return Ur(n),o=Xe(De),e===null?(h=ef(),h===null&&(h=le,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},sf(n),Ds(n,De,h)):((e.lanes&s)!==0&&(rf(e,n),Qo(n,null,null,s),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,De,o)):(o=f.cache,Ds(n,De,o),o!==h.cache&&Jh(n,[De],s,!0))),$e(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw zr=Ou,nf}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(xy())e.flags|=8192;else throw zr=Ou,nf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ma|=n)}function Jo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function b1(e,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(De),gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),he(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(he(n),iy(n,f)):(he(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(Wi(n),he(n),iy(n,f)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),he(n),jf(n,h,e,o,s)),null;case 27:if(lt(n),s=Z.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}e=rt.current,Ea(n)?Ug(n):(e=c_(h,o,s),n.stateNode=e,Wi(n))}return he(n),null;case 5:if(lt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(f=rt.current,Ea(n))Ug(n);else{var g=cc(Z.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[qe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return he(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Z.current,Ea(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||Ns(n,!0)}else e=cc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return he(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return he(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),he(n),null);case 4:return gt(),e===null&&ld(n.stateNode.containerInfo),he(n),null;case 10:return Xi(n.type),he(n),null;case 19:if(Y(Ae),o=n.memoizedState,o===null)return he(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dg(s,e),s=s.sibling;return st(Ae,Ae.current&1|2),Bt&&Yi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>tc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return he(n),null}else 2*ln()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,s=Ae.current,st(Ae,h?s&1|2:s&1),Bt&&Yi(n,o.treeForkCount),e):(he(n),null);case 22:case 23:return Rn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Lr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(De),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function A1(e,n){switch(Yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(De),gt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return lt(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ae),null;case 4:return gt(),null;case 10:return Xi(n.type),null;case 22:case 23:return Rn(n),uf(),e!==null&&Y(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(De),null;case 25:return null;default:return null}}function sy(e,n){switch(Yh(n),n.tag){case 3:Xi(De),gt();break;case 26:case 27:case 5:lt(n);break;case 4:gt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Y(Ae);break;case 10:Xi(n.type);break;case 22:case 23:Rn(n),uf(),e!==null&&Y(Lr);break;case 24:Xi(De)}}function Wo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){ne(n,n.return,E)}}function Ls(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){ne(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){ne(n,n.return,F)}}function ry(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Xg(n,s)}catch(o){ne(e,e.return,o)}}}function ay(e,n,s){s.props=qr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ne(e,n,o)}}function tl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ne(e,n,h)}}function Ni(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ne(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ne(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ne(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;F1(o,e.type,s,n),o[qe]=n}catch(h){ne(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function $u(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for($u(e,n,s),e=e.sibling;e!==null;)$u(e,n,s),e=e.sibling}function uy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,s),n[Ie]=e,n[qe]=s}catch(f){ne(e,e.return,f)}}var ts=!1,Ve=!1,Gf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function S1(e,n){if(e=e.containerInfo,hd=yc,e=bg(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,F=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(C=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===o&&(C=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},yc=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ut=qr(s.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){ne(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function hy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ns(e,s),o&4&&Wo(5,s);break;case 1:if(ns(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ne(s,s.return,g)}else{var h=qr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ne(s,s.return,g)}}o&64&&ry(s),o&512&&tl(s,s.return);break;case 3:if(ns(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Xg(e,n)}catch(g){ne(s,s.return,g)}}break;case 27:n===null&&o&4&&uy(s);case 26:case 5:ns(e,s),n===null&&o&4&&oy(s),o&512&&tl(s,s.return);break;case 12:ns(e,s);break;case 31:ns(e,s),o&4&&my(e,s);break;case 13:ns(e,s),o&4&&gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=M1.bind(null,s),W1(e,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||Ve,h=ts;var f=Ve;ts=o,(Ve=n)&&!f?is(e,s,(s.subtreeFlags&8772)!==0):ns(e,s),ts=h,Ve=f}break;case 30:break;default:ns(e,s)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,mn=!1;function es(e,n,s){for(s=s.child;s!==null;)dy(e,n,s),s=s.sibling}function dy(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:Ve||Ni(s,n),es(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Ni(s,n);var o=me,h=mn;Gs(s.type)&&(me=s.stateNode,mn=!1),es(e,n,s),ul(s.stateNode),me=o,mn=h;break;case 5:Ve||Ni(s,n);case 6:if(o=me,h=mn,me=null,es(e,n,s),me=o,mn=h,me!==null)if(mn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(s.stateNode)}catch(f){ne(s,n,f)}else try{me.removeChild(s.stateNode)}catch(f){ne(s,n,f)}break;case 18:me!==null&&(mn?(e=me,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ba(e)):r_(me,s.stateNode));break;case 4:o=me,h=mn,me=s.stateNode.containerInfo,mn=!0,es(e,n,s),me=o,mn=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),Ve||Ls(4,s,n),es(e,n,s);break;case 1:Ve||(Ni(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ay(s,n,o)),es(e,n,s);break;case 21:es(e,n,s);break;case 22:Ve=(o=Ve)||s.memoizedState!==null,es(e,n,s),Ve=o;break;default:es(e,n,s)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(s){ne(n,n.return,s)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){ne(n,n.return,s)}}function w1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var s=w1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=V1.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){me=E.stateNode,mn=!1;break t}break;case 5:me=E.stateNode,mn=!1;break t;case 3:case 4:me=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(me===null)throw Error(a(160));dy(f,g,h),me=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var ai=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(Ls(3,e,e.return),Wo(3,e),Ls(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(Ve||s===null||Ni(s,s.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ai;if(gn(n,e),pn(e),o&512&&(Ve||s===null||Ni(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,s),f[Ie]=e,xe(f),o=f;break t;case"link":var g=p_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ie]=e,xe(f),o=f}e.stateNode=o}else y_(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?y_(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(Ve||s===null||Ni(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(Ve||s===null||Ni(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ut){ne(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ut){ne(e,e.return,ut)}}break;case 3:if(dc=null,h=ai,ai=hc(n.containerInfo),gn(n,e),ai=h,pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(ut){ne(e,e.return,ut)}Gf&&(Gf=!1,yy(e));break;case 4:o=ai,ai=hc(e.stateNode.containerInfo),gn(n,e),pn(e),ai=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=ts,F=Ve;if(ts=z||h,Ve=F||C,gn(n,e),Ve=F,ts=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ts||Ve||Hr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){ne(C,C.return,ut)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ut){ne(C,C.return,ut)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?a_(q,!0):a_(C.stateNode,!1)}catch(ut){ne(C,C.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ly(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);$u(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var E=qf(e);$u(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=qf(e);Hf(e,z,C);break;default:throw Error(a(161))}}catch(F){ne(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ay(n,n.return,s),Hr(n);break;case 27:ul(n.stateNode);case 26:case 5:Ni(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,s),Wo(4,f);break;case 1:if(is(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ne(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Kg(C[h],E)}catch(z){ne(o,o.return,z)}}s&&g&64&&ry(f),tl(f,f.return);break;case 27:uy(f);case 26:case 5:is(h,f,s),s&&o===null&&g&4&&oy(f),tl(f,f.return);break;case 12:is(h,f,s);break;case 31:is(h,f,s),s&&g&4&&my(h,f);break;case 13:is(h,f,s),s&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&is(h,f,s),tl(f,f.return);break;case 30:break;default:is(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&jo(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function oi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,o),n=n.sibling}function _y(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,s,o),h&2048&&Wo(9,n);break;case 1:oi(e,n,s,o);break;case 3:oi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){oi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ne(n,n.return,C)}}else oi(e,n,s,o);break;case 31:oi(e,n,s,o);break;case 13:oi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(e,n,s,o):el(e,n):f._visibility&2?oi(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:oi(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:oi(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,E,C,h),Wo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Na(f,g,E,C,h):el(f,g):(F._visibility|=2,Na(f,g,E,C,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:Na(f,g,E,C,h),h&&z&2048&&Qf(g.alternate,g);break;default:Na(f,g,E,C,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:el(s,o),h&2048&&Ff(o.alternate,o);break;case 24:el(s,o),h&2048&&Qf(o.alternate,o);break;default:el(s,o)}n=n.sibling}}var nl=8192;function Da(e,n,s){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)vy(e,n,s),e=e.sibling}function vy(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&nl&&e.memoizedState!==null&&hb(s,ai,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=ai;ai=hc(e.stateNode.containerInfo),Da(e,n,s),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Da(e,n,s),nl=o):Da(e,n,s));break;default:Da(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ge=o,by(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):il(e);break;default:il(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ge=o,by(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function by(e,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ge=o;else t:for(s=e;Ge!==null;){o=Ge;var h=o.sibling,f=o.return;if(fy(o),o===s){Ge=null;break t}if(h!==null){h.return=f,Ge=h;break t}Ge=f}}}var R1={getCacheForType:function(e){var n=Xe(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(De).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,$t=0,le=null,Ot=null,Ut=0,ee=0,Cn=null,Ps=!1,Oa=!1,Yf=!1,ss=0,ve=0,zs=0,Gr=0,Kf=0,In=0,Ma=0,sl=null,yn=null,Xf=!1,Wu=0,Ay=0,tc=1/0,ec=null,js=null,Pe=0,Bs=null,Va=null,rs=0,$f=0,Zf=null,Sy=null,rl=0,Jf=null;function xn(){return($t&2)!==0&&Ut!==0?Ut&-Ut:G.T!==null?sd():nu()}function wy(){if(In===0)if((Ut&536870912)===0||Bt){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),In=e}else In=536870912;return e=wn.current,e!==null&&(e.flags|=32),In}function _n(e,n,s){(e===le&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(ka(e,0),qs(e,Ut,In,!1)),_r(e,s),(($t&2)===0||e!==le)&&(e===le&&(($t&2)===0&&(Gr|=s),ve===4&&qs(e,Ut,In,!1)),Di(e))}function Ry(e,n,s){if(($t&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),h=o?N1(e,n):td(e,n,!0),f=o;do{if(h===0){Oa&&!o&&qs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!I1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=sl;var C=E.current.memoizedState.isDehydrated;if(C&&(ka(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Yf&&!C){E.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,In,!Ps);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-ln(),10<h)){if(qs(o,n,In,!Ps),di(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=i_(Cy.bind(null,o,s,yn,ec,Xf,n,In,Gr,Ma,Ps,f,"Throttled",-0,0),h);break t}Cy(o,s,yn,ec,Xf,n,In,Gr,Ma,Ps,f,null,-0,0)}}break}while(!0);Di(e)}function Cy(e,n,s,o,h,f,g,E,C,z,F,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},vy(n,f,K);var ut=(f&62914560)===f?Wu-ln():(f&4194048)===f?Ay-ln():0;if(ut=fb(K,ut),ut!==null){rs=f,e.cancelPendingCommit=ut(ky.bind(null,e,n,f,s,o,h,g,E,C,F,K,null,j,q)),qs(e,f,g,!z);return}}ky(e,n,f,s,o,h,g,E,C)}function I1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,s,o){n&=~Kf,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Te(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&vr(e,s,n)}function nc(){return($t&6)===0?(al(0),!1):!0}function Wf(){if(Ot!==null){if(ee===0)var e=Ot.return;else e=Ot,Ki=kr=null,gf(e),wa=null,qo=0,e=Ot;for(;e!==null;)sy(e.alternate,e),e=e.return;Ot=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,K1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,Wf(),le=e,Ot=s=Qi(e.current,null),Ut=n,ee=0,Cn=null,Ps=!1,Oa=Zn(e,n),Yf=!1,Ma=In=Kf=Gr=zs=ve=0,yn=sl=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Te(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Au(),s}function Iy(e,n){xt=null,G.H=$o,n===Sa||n===Du?(n=Gg(),ee=3):n===nf?(n=Gg(),ee=4):ee=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Ot===null&&(ve=1,Fu(e,jn(n,e.current)))}function xy(){var e=wn.current;return e===null?!0:(Ut&4194048)===Ut?Gn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Gn:!1}function Ny(){var e=G.H;return G.H=$o,e===null?$o:e}function Dy(){var e=G.A;return G.A=R1,e}function ic(){ve=4,Ps||(Ut&4194048)!==Ut&&wn.current!==null||(Oa=!0),(zs&134217727)===0&&(Gr&134217727)===0||le===null||qs(le,Ut,In,!1)}function td(e,n,s){var o=$t;$t|=2;var h=Ny(),f=Dy();(le!==e||Ut!==n)&&(ec=null,ka(e,n)),n=!1;var g=ve;t:do try{if(ee!==0&&Ot!==null){var E=Ot,C=Cn;switch(ee){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=ee;if(ee=0,Cn=null,Ua(e,E,C,z),s&&Oa){g=0;break t}break;default:z=ee,ee=0,Cn=null,Ua(e,E,C,z)}}x1(),g=ve;break}catch(F){Iy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ki=kr=null,$t=o,G.H=h,G.A=f,Ot===null&&(le=null,Ut=0,Au()),g}function x1(){for(;Ot!==null;)Oy(Ot)}function N1(e,n){var s=$t;$t|=2;var o=Ny(),h=Dy();le!==e||Ut!==n?(ec=null,tc=ln()+500,ka(e,n)):Oa=Zn(e,n);t:do try{if(ee!==0&&Ot!==null){n=Ot;var f=Cn;e:switch(ee){case 1:ee=0,Cn=null,Ua(e,n,f,1);break;case 2:case 9:if(qg(f)){ee=0,Cn=null,My(n);break}n=function(){ee!==2&&ee!==9||le!==e||(ee=7),Di(e)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:qg(f)?(ee=0,Cn=null,My(n)):(ee=0,Cn=null,Ua(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?__(g):E.stateNode.complete){ee=0,Cn=null;var C=E.sibling;if(C!==null)Ot=C;else{var z=E.return;z!==null?(Ot=z,sc(z)):Ot=null}break e}}ee=0,Cn=null,Ua(e,n,f,5);break;case 6:ee=0,Cn=null,Ua(e,n,f,6);break;case 8:Wf(),ve=6;break t;default:throw Error(a(462))}}D1();break}catch(F){Iy(e,F)}while(!0);return Ki=kr=null,G.H=o,G.A=h,$t=s,Ot!==null?0:(le=null,Ut=0,Au(),ve)}function D1(){for(;Ot!==null&&!xh();)Oy(Ot)}function Oy(e){var n=ny(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?sc(e):Ot=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=$p(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=$p(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:gf(n);default:sy(s,n),n=Ot=Dg(n,ss),n=ny(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?sc(e):Ot=n}function Ua(e,n,s,o){Ki=kr=null,gf(n),wa=null,qo=0;var h=n.return;try{if(v1(e,h,n,s,Ut)){ve=1,Fu(e,jn(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;ve=1,Fu(e,jn(s,e.current)),Ot=null;return}n.flags&32768?(Bt||o===1?e=!0:Oa||(Ut&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Ps);return}e=n.return;var s=b1(n.alternate,n,ss);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);ve===0&&(ve=5)}function Vy(e,n){do{var s=A1(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);ve=6,Ot=null}function ky(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do rc();while(Pe!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,g,E,C),e===le&&(Ot=le=null,Ut=0),Va=n,Bs=e,rs=s,$f=f,Zf=h,Sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k1(_s,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,g=$t,$t|=4;try{S1(e,n,s)}finally{$t=g,it.p=h,G.T=o}}Pe=1,Uy(),Ly(),Py()}}function Uy(){if(Pe===1){Pe=0;var e=Bs,n=Va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=$t;$t|=4;try{py(n,e);var f=fd,g=bg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(C!==null&&Uh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ut=E.textContent.length,yt=Math.min(C.start,ut),ae=C.end===void 0?yt:Math.min(C.end,ut);!q.extend&&yt>ae&&(g=ae,ae=yt,yt=g);var U=Eg(E,yt),N=Eg(E,ae);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),yt>ae?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yc=!!hd,fd=hd=null}finally{$t=h,it.p=o,G.T=s}}e.current=n,Pe=2}}function Ly(){if(Pe===2){Pe=0;var e=Bs,n=Va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=$t;$t|=4;try{hy(e,n.alternate,n)}finally{$t=h,it.p=o,G.T=s}}Pe=3}}function Py(){if(Pe===4||Pe===3){Pe=0,Xl();var e=Bs,n=Va,s=rs,o=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Va=Bs=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),qi(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(rs&3)!==0&&rc(),Di(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?rl++:(rl=0,Jf=e):rl=0,al(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function rc(){return Uy(),Ly(),Py(),jy()}function jy(){if(Pe!==5)return!1;var e=Bs,n=$f;$f=0;var s=qi(rs),o=G.T,h=it.p;try{it.p=32>s?32:s,G.T=null,s=Zf,Zf=null;var f=Bs,g=rs;if(Pe=0,Va=Bs=null,rs=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,Ty(f.current),_y(f,f.current,g,s),$t=E,al(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{it.p=h,G.T=o,zy(e,n)}}function By(e,n,s){n=jn(s,n),n=Nf(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(_r(e,2),Di(e))}function ne(e,n,s){if(e.tag===3)By(e,e,s);else for(;n!==null;){if(n.tag===3){By(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=jn(s,e),s=qp(2),o=Vs(n,s,2),o!==null&&(Hp(s,o,n,e),_r(o,2),Di(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new C1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),e=O1.bind(null,e,n,s),n.then(e,e))}function O1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Ut&s)===s&&(ve===4||ve===3&&(Ut&62914560)===Ut&&300>ln()-Wu?($t&2)===0&&ka(e,0):Kf|=s,Ma===Ut&&(Ma=0)),Di(e)}function qy(e,n){n===0&&(n=eu()),e=Or(e,n),e!==null&&(_r(e,n),Di(e))}function M1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),qy(e,s)}function V1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),qy(e,s)}function k1(e,n){return oe(e,n)}var ac=null,La=null,nd=!1,oc=!1,id=!1,Hs=0;function Di(e){e!==La&&e.next===null&&(La===null?ac=La=e:La=La.next=e),oc=!0,nd||(nd=!0,L1())}function al(e,n){if(!id&&oc){id=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Te(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(o,f))}else f=Ut,f=di(o,o===le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(s=!0,Qy(o,f));o=o.next}while(s);id=!1}}function U1(){Hy()}function Hy(){oc=nd=!1;var e=0;Hs!==0&&Y1()&&(e=Hs);for(var n=ln(),s=null,o=ac;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(La=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Pe!==0&&Pe!==5||al(e),Hs!==0&&(Hs=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Te(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Dh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,s=Ut,s=di(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ys(o),qi(s)){case 2:case 8:s=po;break;case 32:s=_s;break;case 268435456:s=$l;break;default:s=_s}return o=Fy.bind(null,e),s=oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ys(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=Ut;return o=di(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,n),Gy(e,ln()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Qy(e,n){if(rc())return null;Ry(e,n,!0)}function L1(){X1(function(){($t&6)!==0?oe(go,U1):Hy()})}function sd(){if(Hs===0){var e=ba;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Hs=e}return Hs}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function P1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[qe]||null).action),g=o.submitter;g&&(n=(n=g[qe]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var C=g?Ky(h,g):new FormData(h);Sf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Ky(h,g):new FormData(h),Sf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],z1=ad.toLowerCase(),j1=ad[0].toUpperCase()+ad.slice(1);ri(z1,"on"+j1)}ri(wg,"onAnimationEnd"),ri(Rg,"onAnimationIteration"),ri(Cg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(n1,"onTransitionRun"),ri(i1,"onTransitionStart"),ri(s1,"onTransitionCancel"),ri(Ig,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=C}}}}function Mt(e,n){var s=n[na];s===void 0&&(s=n[na]=new Set);var o=e+"__bubble";s.has(o)||($y(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),$y(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[lc]){e[lc]=!0,vo.forEach(function(s){s!=="selectionchange"&&(B1.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,od("selectionchange",!1,n))}}function $y(e,n,s,o){switch(w_(n)){case 2:var h=gb;break;case 8:h=pb;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=yi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ss(function(){var z=f,F=Un(s),K=[];t:{var j=xg.get(e);if(j!==void 0){var q=Si,ut=e;switch(e){case"keypress":if(Rr(s)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":ut="focus",q=Ir;break;case"focusout":ut="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case wg:case Rg:case Cg:q=fu;break;case Ig:q=b;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fi;break;case"toggle":case"beforetoggle":q=It}var yt=(n&4)!==0,ae=!yt&&(e==="scroll"||e==="scrollend"),U=yt?j!==null?j+"Capture":null:j;yt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=ei(N,U),Q!=null&&yt.push(ll(N,Q,P))),ae)break;N=N.return}0<yt.length&&(j=new q(j,ut,null,s,F),K.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Io&&(ut=s.relatedTarget||s.fromElement)&&(yi(ut)||ut[gi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ut=s.relatedTarget||s.toElement,q=z,ut=ut?yi(ut):null,ut!==null&&(ae=c(ut),yt=ut.tag,ut!==ae||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(q=null,ut=z),q!==ut)){if(yt=Oo,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Fi,Q="onPointerLeave",U="onPointerEnter",N="pointer"),ae=q==null?j:Tn(q),P=ut==null?j:Tn(ut),j=new yt(Q,N+"leave",q,s,F),j.target=ae,j.relatedTarget=P,Q=null,yi(F)===z&&(yt=new yt(U,N+"enter",ut,s,F),yt.target=P,yt.relatedTarget=ae,Q=yt),ae=Q,q&&ut)e:{for(yt=q1,U=q,N=ut,P=0,Q=U;Q;Q=yt(Q))P++;Q=0;for(var dt=N;dt;dt=yt(dt))Q++;for(;0<P-Q;)U=yt(U),P--;for(;0<Q-P;)N=yt(N),Q--;for(;P--;){if(U===N||N!==null&&U===N.alternate){yt=U;break e}U=yt(U),N=yt(N)}yt=null}else yt=null;q!==null&&Zy(K,j,q,yt,!1),ut!==null&&ae!==null&&Zy(K,ae,ut,yt,!0)}}t:{if(j=z?Tn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ft=mg;else if(fg(j))if(gg)Ft=WT;else{Ft=ZT;var ct=$T}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(Ft=mg):Ft=JT;if(Ft&&(Ft=Ft(e,z))){dg(K,Ft,s,F);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&wo(j,"number",j.value)}switch(ct=z?Tn(z):window,e){case"focusin":(fg(ct)||ct.contentEditable==="true")&&(ma=ct,Lh=z,Lo=null);break;case"focusout":Lo=Lh=ma=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Ag(K,s,F);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":Ag(K,s,F)}var Nt;if(Xt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else da?xr(e,s)&&(Lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ci&&s.locale!=="ko"&&(da||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&da&&(Nt=No()):(Ai=F,xo="value"in Ai?Ai.value:Ai.textContent,da=!0)),ct=uc(z,Lt),0<ct.length&&(Lt=new Ri(Lt,e,null,s,F),K.push({event:Lt,listeners:ct}),Nt?Lt.data=Nt:(Nt=fa(s),Nt!==null&&(Lt.data=Nt)))),(Nt=Pn?QT(e,s):YT(e,s))&&(Lt=uc(z,"onBeforeInput"),0<Lt.length&&(ct=new Ri("onBeforeInput","beforeinput",null,s,F),K.push({event:ct,listeners:Lt}),ct.data=Nt)),P1(K,e,z,s,F)}Xy(K,n)})}function ll(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,s),h!=null&&o.unshift(ll(e,h,f)),h=ei(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ei(s,f),z!=null&&g.unshift(ll(s,z,C))):h||(z=ei(s,f),z!=null&&g.push(ll(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var H1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(H1,`
`).replace(G1,"")}function Wy(e,n){return n=Jy(n),Jy(e)===n}function re(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,s,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,sa(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Ze(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,s,null)}}h&&re(e,n,"srcSet",s.srcSet,s,null),o&&re(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:re(e,n,o,F,s,null)}}au(e,f,E,C,z,g,h,!1);return;case"select":Mt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:re(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):s!=null&&Es(e,!!o,s,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:re(e,n,g,E,s,null)}Ts(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:re(e,n,C,o,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Mt(ol[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,o,s,null)}return;default:if(aa(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&cd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&re(e,n,E,o,s,null))}function F1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(q)||re(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=s[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&re(e,n,j,q,o,K)}}ra(e,g,E,C,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||re(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&re(e,n,h,f,o,C)}n=E,s=g,o=q,j!=null?Es(e,!!s,j,!1):!!o!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,o,f)}ou(e,j,q);return;case"option":for(var ut in s)if(j=s[ut],s.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:re(e,n,ut,null,o,j)}for(C in o)if(j=o[C],q=s[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,n,C,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&re(e,n,yt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,z,j,o,q)}return;default:if(aa(n)){for(var ae in s)j=s[ae],s.hasOwnProperty(ae)&&j!==void 0&&!o.hasOwnProperty(ae)&&cd(e,n,ae,void 0,o,j);for(F in o)j=o[F],q=s[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||cd(e,n,F,j,o,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&re(e,n,U,null,o,j);for(K in o)j=o[K],q=s[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||re(e,n,K,j,o,q)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&t_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var F=C.transferSize,K=C.initiatorType;F&&t_(K)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function Y1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch($1)}:i_;function $1(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function r_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ul(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ul(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ul(e.ownerDocument.body);s=h}while(s);Ba(n)}function a_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Z1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function J1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Fn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Qn=new Map,h_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=it.d;it.d={f:tb,r:eb,D:nb,C:ib,L:sb,m:rb,X:ob,S:ab,M:lb};function tb(){var e=as.f(),n=nc();return e||n}function eb(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?Ip(n):as.r(e)}var Pa=typeof document>"u"?null:document;function f_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),xe(n),o.head.appendChild(n)))}}function nb(e){as.D(e),f_("dns-prefetch",e,null)}function ib(e,n){as.C(e,n),f_("preconnect",e,n)}function sb(e,n,s){as.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}Qn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Ze(n,"link",e),xe(n),o.head.appendChild(n)))}}function rb(e,n){as.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!Qn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Qn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(f)))return}o=s.createElement("link"),Ze(o,"link",e),xe(o),s.head.appendChild(o)}}}function ab(e,n,s){as.S(e,n,s);var o=Pa;if(o&&e){var h=_i(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Qn.get(f))&&vd(e,s);var C=g=o.createElement("link");xe(C),Ze(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ob(e,n){as.X(e,n);var s=Pa;if(s&&e){var o=_i(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=A({src:e,async:!0},n),(n=Qn.get(h))&&Ed(e,n),f=s.createElement("script"),xe(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function lb(e,n){as.M(e,n);var s=Pa;if(s&&e){var o=_i(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Qn.get(h))&&Ed(e,n),f=s.createElement("script"),xe(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,s,o){var h=(h=Z.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=za(s.href),s=_i(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=za(s.href);var f=_i(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Qn.set(e,s),f||ub(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(s),s=_i(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+fn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",s),xe(n),e.head.appendChild(n))}function ja(e){return'[src="'+fn(e)+'"]'}function hl(e){return"script[async]"+e}function g_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(o)return n.instance=o,xe(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),xe(o),Ze(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=za(s.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;o=m_(s),(h=Qn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ze(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=ja(s.src),(h=e.querySelector(hl(f)))?(n.instance=h,xe(h),h):(o=s,(h=Qn.get(f))&&(o=A({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function p_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[pi]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function y_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function cb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=za(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,xe(f);return}f=n.ownerDocument||n,o=m_(o),(h=Qn.get(h))&&vd(o,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ze(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function fb(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*Q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(db,e),gc=null,mc.call(e))}function db(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function mb(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function v_(e,n,s,o,h,f,g,E,C,z,F,K){return e=new mb(e,n,s,g,C,z,F,K,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},sf(f),e}function E_(e){return e?(e=ya,e):ya}function T_(e,n,s,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Vs(e,o,n),s!==null&&(_n(s,e,n),Go(s,e,n))}function b_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){b_(e,n),(e=e.alternate)&&b_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=Or(e,67108864);n!==null&&_n(n,e,67108864),bd(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=xn();n=Er(n);var s=Or(e,n);s!==null&&_n(s,e,n),bd(e,n)}}var yc=!0;function gb(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Ad(e,n,s,o)}finally{it.p=f,G.T=h}}function pb(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Ad(e,n,s,o)}finally{it.p=f,G.T=h}}function Ad(e,n,s,o){if(yc){var h=Sd(o);if(h===null)ud(e,n,o,_c,s),R_(e,o);else if(_b(h,e,n,s,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<yb.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-Te(g);E.entanglements[1]|=C,g&=~C}Di(f),($t&6)===0&&(tc=ln()+500,al(0))}}break;case 31:case 13:E=Or(f,2),E!==null&&_n(E,f,2),nc(),bd(f,2)}if(f=Sd(o),f===null&&ud(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function Sd(e){return e=Un(e),wd(e)}var _c=null;function wd(e){if(_c=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case go:return 2;case po:return 8;case _s:case Nh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Rd=!1,Fs=null,Qs=null,Ys=null,dl=new Map,ml=new Map,Ks=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _b(e,n,s,o,h){switch(n){case"focusin":return Fs=gl(Fs,e,n,s,o,h),!0;case"dragenter":return Qs=gl(Qs,e,n,s,o,h),!0;case"mouseover":return Ys=gl(Ys,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,s,o,h)),!0}return!1}function C_(e){var n=yi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){S_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){S_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Io=o,s.target.dispatchEvent(o),Io=null}else return n=kn(s),n!==null&&A_(n),e.blockedOn=s,!1;n.shift()}return!0}function I_(e,n,s){vc(e)&&s.delete(n)}function vb(){Rd=!1,Fs!==null&&vc(Fs)&&(Fs=null),Qs!==null&&vc(Qs)&&(Qs=null),Ys!==null&&vc(Ys)&&(Ys=null),dl.forEach(I_),ml.forEach(I_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vb)))}var Tc=null;function x_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=kn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ba(e){function n(C){return Ec(C,e)}Fs!==null&&Ec(Fs,e),Qs!==null&&Ec(Qs,e),Ys!==null&&Ec(Ys,e),dl.forEach(n),ml.forEach(n);for(var s=0;s<Ks.length;s++){var o=Ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ks.length&&(s=Ks[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&Ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[qe]||null;if(typeof f=="function")g||x_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qe]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),x_(s)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}bc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=xn();T_(s,o,e,n,null,null)},bc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),nc(),n[gi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ks.length&&n!==0&&n<Ks[s].priority;s++);Ks.splice(s,0,e),s===0&&C_(e)}};var D_=t.version;if(D_!=="19.2.3")throw Error(a(527,D_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{$n=Ac.inject(Eb),Qe=Ac}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Pp,f=zp,g=jp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=v_(e,1,!1,null,null,s,o,null,h,f,g,N_),e[gi]=n.current,ld(e),new Cd(n)},yl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Pp,g=zp,E=jp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=v_(e,1,!0,n,s??null,o,h,C,f,g,E,N_),n.context=E_(null),s=n.current,o=xn(),o=Er(o),h=Ms(o),h.callback=null,Vs(s,h,o),s=o,n.current.lanes=s,_r(n,s),Di(n),e[gi]=n.current,ld(e),new bc(n)},yl.version="19.2.3",yl}var B_;function Nb(){if(B_)return Nd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=xb(),Nd.exports}var Db=Nb();const Ob=()=>{};var q_={};const A0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Mb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(M=64)),a.push(i[T],i[A],i[M],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(A0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Mb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new Vb;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),A!==64){const W=y<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kb=function(r){const t=A0(r);return S0.encodeByteArray(t,!0)},Bc=function(r){return kb(r).replace(/\./g,"")},w0=function(r){try{return S0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>Ub().__FIREBASE_DEFAULTS__,Pb=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&w0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return Ob()||Lb()||Pb()||zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>oh()?.emulatorHosts?.[r],jb=r=>{const t=R0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},C0=()=>oh()?.config,I0=r=>oh()?.[`_${r}`];class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x0(r){return(await fetch(r,{credentials:"include"})).ok}function qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const bl={};function Hb(){const r={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?r.emulator.push(t):r.prod.push(t);return r}function Gb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let H_=!1;function N0(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||bl[r]===t||bl[r]||H_)return;bl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Hb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{H_=!0,d()},M}function T(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Gb(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),tt=document.getElementById(nt)||document.createElement("a"),mt=i("preprendIcon"),Tt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;p(_t),T(tt,nt);const Yt=y();_(Tt,mt),_t.append(Tt,W,tt,Yt),document.body.appendChild(_t)}c?(W.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function Qb(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $b(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Zb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Wb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const tA="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tA,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?eA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ps(l,p,a)}}function eA(r,t){return r.replace(nA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const nA=/\{\$([^}]+)}/g;function iA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function or(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(G_(c)&&G_(d)){if(!or(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}function Ll(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function sA(r,t){const i=new rA(r,t);return i.subscribe.bind(i)}class rA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function hn(r){return r&&r._delegate?r._delegate:r}class Kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class oA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Bb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uA(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lA(r){return r===Fr?void 0:r}function uA(r){return r.instantiationMode==="EAGER"}class cA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new oA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const hA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},fA=Pt.INFO,dA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},mA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=dA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const gA=(r,t)=>t.some(i=>r instanceof i);let F_,Q_;function pA(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Kd=new WeakMap,O0=new WeakMap,kd=new WeakMap,bm=new WeakMap;function _A(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(nr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&D0.set(i,r)}).catch(()=>{}),bm.set(t,r),t}function vA(r){if(Kd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||O0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function EA(r){Xd=r(Xd)}function TA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return O0.set(a,t.sort?t.sort():[t]),nr(a)}:yA().includes(r)?function(...t){return r.apply(Ud(this),t),nr(D0.get(this))}:function(...t){return nr(r.apply(Ud(this),t))}}function bA(r){return typeof r=="function"?TA(r):(r instanceof IDBTransaction&&vA(r),gA(r,pA())?new Proxy(r,Xd):r)}function nr(r){if(r instanceof IDBRequest)return _A(r);if(kd.has(r))return kd.get(r);const t=bA(r);return t!==r&&(kd.set(r,t),bm.set(t,r)),t}const Ud=r=>bm.get(r);function AA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=nr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(nr(d.result),_.oldVersion,_.newVersion,nr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const SA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],Ld=new Map;function Y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=wA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||SA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}EA(r=>({...r,get:(t,i,a)=>Y_(t,i)||r.get(t,i,a),has:(t,i)=>!!Y_(t,i)||r.has(t,i)}));class RA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CA(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",K_="0.14.6";const cs=new Tm("@firebase/app"),IA="@firebase/app-compat",xA="@firebase/analytics-compat",NA="@firebase/analytics",DA="@firebase/app-check-compat",OA="@firebase/app-check",MA="@firebase/auth",VA="@firebase/auth-compat",kA="@firebase/database",UA="@firebase/data-connect",LA="@firebase/database-compat",PA="@firebase/functions",zA="@firebase/functions-compat",jA="@firebase/installations",BA="@firebase/installations-compat",qA="@firebase/messaging",HA="@firebase/messaging-compat",GA="@firebase/performance",FA="@firebase/performance-compat",QA="@firebase/remote-config",YA="@firebase/remote-config-compat",KA="@firebase/storage",XA="@firebase/storage-compat",$A="@firebase/firestore",ZA="@firebase/ai",JA="@firebase/firestore-compat",WA="firebase",tS="12.6.0";const Zd="[DEFAULT]",eS={[$d]:"fire-core",[IA]:"fire-core-compat",[NA]:"fire-analytics",[xA]:"fire-analytics-compat",[OA]:"fire-app-check",[DA]:"fire-app-check-compat",[MA]:"fire-auth",[VA]:"fire-auth-compat",[kA]:"fire-rtdb",[UA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[PA]:"fire-fn",[zA]:"fire-fn-compat",[jA]:"fire-iid",[BA]:"fire-iid-compat",[qA]:"fire-fcm",[HA]:"fire-fcm-compat",[GA]:"fire-perf",[FA]:"fire-perf-compat",[QA]:"fire-rc",[YA]:"fire-rc-compat",[KA]:"fire-gcs",[XA]:"fire-gcs-compat",[$A]:"fire-fst",[JA]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};const qc=new Map,nS=new Map,Jd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(Jd.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const i of qc.values())X_(i,r);for(const i of nS.values())X_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Kn(r){return r==null?!1:r.settings!==void 0}const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Ul("app","Firebase",iS);class sS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const lo=tS;function M0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Zd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=C0()),!i)throw ir.create("no-options");const c=qc.get(l);if(c){if(or(i,c.options)&&or(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new cA(l);for(const _ of Jd.values())d.addComponent(_);const p=new sS(i,a,d);return qc.set(l,p),p}function V0(r=Zd){const t=qc.get(r);if(!t&&r===Zd&&C0())return M0();if(!t)throw ir.create("no-app",{appName:r});return t}function sr(r,t,i){let a=eS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}Wa(new Kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rS="firebase-heartbeat-database",aS=1,Il="firebase-heartbeat-store";let Pd=null;function k0(){return Pd||(Pd=AA(rS,aS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw ir.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function oS(r){try{const i=(await k0()).transaction(Il),a=await i.objectStore(Il).get(U0(r));return await i.done,a}catch(t){if(t instanceof ps)cs.warn(t.message);else{const i=ir.create("idb-get",{originalErrorMessage:t?.message});cs.warn(i.message)}}}async function $_(r,t){try{const a=(await k0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,U0(r)),await a.done}catch(i){if(i instanceof ps)cs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function U0(r){return`${r.name}!${r.options.appId}`}const lS=1024,uS=30;class cS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uS){const l=dS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:a}=hS(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cs.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function hS(r,t=lS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),J_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function dS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function mS(r){Wa(new Kr("platform-logger",t=>new RA(t),"PRIVATE")),Wa(new Kr("heartbeat",t=>new cS(t),"PRIVATE")),sr($d,K_,r),sr($d,K_,"esm2020"),sr("fire-js","")}mS("");var gS="firebase",pS="12.6.0";sr(gS,pS,"app");function L0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yS=L0,P0=new Ul("auth","Firebase",L0());const Hc=new Tm("@firebase/auth");function _S(r,...t){Hc.logLevel<=Pt.WARN&&Hc.warn(`Auth (${lo}): ${r}`,...t)}function Nc(r,...t){Hc.logLevel<=Pt.ERROR&&Hc.error(`Auth (${lo}): ${r}`,...t)}function hs(r,...t){throw Sm(r,...t)}function Vi(r,...t){return Sm(r,...t)}function z0(r,t,i){const a={...yS(),[t]:i};return new Ul("auth","Firebase",a).create(t,{appName:r.name})}function us(r){return z0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return P0.create(r,...t)}function bt(r,t,...i){if(!r)throw Sm(t,...i)}function os(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function fs(r,t){r||os(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function vS(){return W_()==="http:"||W_()==="https:"}function W_(){return typeof self<"u"&&self.location?.protocol||null}function ES(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vS()||Kb()||"connection"in navigator)?navigator.onLine:!0}function TS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,fs(i>t,"Short delay should be less than long delay!"),this.isMobile=Fb()||Xb()}get(){return ES()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,t){fs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class j0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SS=new Pl(3e4,6e4);function zl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function uo(r,t,i,a,l={}){return B0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Yb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),j0.fetch()(await q0(r,r.config.apiHost,i,p),y)})}async function B0(r,t,i){r._canInitEmulator=!1;const a={...bS,...t};try{const l=new wS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(r,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw z0(r,T,y);hs(r,T)}}catch(l){if(l instanceof ps)throw l;hs(r,"network-request-failed",{message:String(l)})}}async function Rm(r,t,i,a,l={}){const c=await uo(r,t,i,a,l);return"mfaPendingCredential"in c&&hs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function q0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,l):`${r.config.apiScheme}://${l}`;return AS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class wS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Vi(this.auth,"network-request-failed")),SS.get())})}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Vi(r,t,a);return l.customData._tokenResponse=i,l}async function RS(r,t){return uo(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return uo(r,"POST","/v1/accounts:lookup",t)}function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CS(r,t=!1){const i=hn(r),a=await i.getIdToken(t),l=Cm(a);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(zd(l.auth_time)),issuedAtTime:Al(zd(l.iat)),expirationTime:Al(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=w0(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function tv(r){const t=Cm(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&IS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function IS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fc(r){const t=r.auth,i=await r.getIdToken(),a=await xl(r,Gc(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?H0(l.providerUserInfo):[],d=DS(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function NS(r){const t=hn(r);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function H0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OS(r,t){const i=await B0(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await q0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),j0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MS(r,t){return uo(r,"POST","/v2/accounts:revokeToken",zl(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=tv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await OS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return os("not implemented")}}function $s(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new xS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CS(this,t)}reload(){return NS(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await xl(this,RS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:H,providerData:W,stsTokenManager:nt}=i;bt(A&&nt,t,"internal-error");const tt=Ka.fromJSON(this.name,nt);bt(typeof A=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),bt(typeof M=="boolean",t,"internal-error"),bt(typeof H=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(p,t.name),$s(_,t.name),$s(y,t.name),$s(T,t.name);const mt=new li({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:T});return W&&Array.isArray(W)&&(mt.providerData=W.map(Tt=>({...Tt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Fc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?H0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const _=new li({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const ev=new Map;function ls(r){fs(r instanceof Function,"Expected a class definition");let t=ev.get(r);return t?(fs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,ev.set(r,t),t)}class G0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}G0.type="NONE";const nv=G0;function Dc(r,t,i){return`firebase:${r}:${t}:${i}`}class Xa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xa(ls(nv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ls(nv);const d=Dc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const M=await Gc(t,{idToken:T}).catch(()=>{});if(!M)break;A=await li._fromGetAccountInfoResponse(t,M,T)}else A=li._fromJSON(t,T);y!==c&&(p=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Xa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,t,a))}}function iv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(K0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(F0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($0(t))return"Blackberry";if(Z0(t))return"Webos";if(Q0(t))return"Safari";if((t.includes("chrome/")||Y0(t))&&!t.includes("edge/"))return"Chrome";if(X0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function F0(r=an()){return/firefox\//i.test(r)}function Q0(r=an()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Y0(r=an()){return/crios\//i.test(r)}function K0(r=an()){return/iemobile/i.test(r)}function X0(r=an()){return/android/i.test(r)}function $0(r=an()){return/blackberry/i.test(r)}function Z0(r=an()){return/webos/i.test(r)}function Im(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VS(r=an()){return Im(r)&&!!window.navigator?.standalone}function kS(){return $b()&&document.documentMode===10}function J0(r=an()){return Im(r)||X0(r)||Z0(r)||$0(r)||/windows phone/i.test(r)||K0(r)}function W0(r,t=[]){let i;switch(r){case"Browser":i=iv(an());break;case"Worker":i=`${iv(an())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${a}`}class US{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LS(r,t={}){return uo(r,"GET","/v2/passwordPolicy",zl(r,t))}const PS=6;class zS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class jS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sv(this),this.idTokenSubscription=new sv(this),this.beforeStateQueue=new US(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(us(this));const i=t?hn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LS(this),i=new zS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=W0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_S(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jl(r){return hn(r)}class sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=sA(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BS(r){xm=r}function qS(r){return xm.loadJS(r)}function HS(){return xm.gapiScript}function GS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function FS(r,t){const i=Am(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(or(c,t??{}))return l;hs(l,"already-initialized")}return i.initialize({options:t})}function QS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function YS(r,t,i){const a=jl(r);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=tE(t),{host:d,port:p}=KS(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(or(y,a.config.emulator)&&or(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,oo(d)?(x0(`${c}//${d}${_}`),N0("Auth",!0)):XS()}function tE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function KS(r){const t=tE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:rv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:rv(d)}}}function rv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function XS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class eE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function $a(r,t){return Rm(r,"POST","/v1/accounts:signInWithIdp",zl(r,t))}const $S="http://localhost";class Xr extends eE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):hs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:$S,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class nE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bl extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends Bl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Bl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class tr extends Bl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function ZS(r,t){return Rm(r,"POST","/v1/accounts:signUp",zl(r,t))}class ds{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await li._fromIdTokenResponse(t,a,l),d=av(a);return new ds({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=av(a);return new ds({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function av(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function JS(r){if(Kn(r.app))return Promise.reject(us(r));const t=jl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ds({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ZS(t,{returnSecureToken:!0}),a=await ds._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Qc extends ps{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function iE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,c,t,a):c})}async function WS(r,t,i=!1){const a=await xl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ds._forOperation(r,"link",a)}async function tw(r,t,i=!1){const{auth:a}=r;if(Kn(a.app))return Promise.reject(us(a));const l="reauthenticate";try{const c=await xl(r,iE(a,l,t,r),i);bt(c.idToken,a,"internal-error");const d=Cm(c.idToken);bt(d,a,"internal-error");const{sub:p}=d;return bt(r.uid===p,a,"user-mismatch"),ds._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&hs(a,"user-mismatch"),c}}async function ew(r,t,i=!1){if(Kn(r.app))return Promise.reject(us(r));const a="signIn",l=await iE(r,a,t),c=await ds._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function nw(r,t){return Rm(r,"POST","/v1/accounts:signInWithCustomToken",zl(r,t))}async function iw(r,t){if(Kn(r.app))return Promise.reject(us(r));const i=jl(r),a=await nw(i,{token:t,returnSecureToken:!0}),l=await ds._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function sw(r,t,i,a){return hn(r).onIdTokenChanged(t,i,a)}function rw(r,t,i){return hn(r).beforeAuthStateChanged(t,i)}function aw(r,t,i,a){return hn(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class sE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ow=1e3,lw=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);kS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,lw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}rE.type="LOCAL";const uw=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aE.type="SESSION";const oE=aE;function cw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await cw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Nm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Nm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function fw(r){ki().location.href=r}function lE(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){return navigator?.serviceWorker?.controller||null}function gw(){return lE()?self:null}const uE="firebaseLocalStorageDb",pw=1,Kc="firebaseLocalStorage",cE="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Kc],t?"readwrite":"readonly").objectStore(Kc)}function yw(){const r=indexedDB.deleteDatabase(uE);return new ql(r).toPromise()}function em(){const r=indexedDB.open(uE,pw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Kc,{keyPath:cE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Kc)?t(a):(a.close(),await yw(),t(await em()))})})}async function ov(r,t,i){const a=uh(r,!0).put({[cE]:t,value:i});return new ql(a).toPromise()}async function _w(r,t){const i=uh(r,!1).get(t),a=await new ql(i).toPromise();return a===void 0?null:a.value}function lv(r,t){const i=uh(r,!0).delete(t);return new ql(i).toPromise()}const vw=800,Ew=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ew)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(gw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dw(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await ov(t,Yc,"1"),await lv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ov(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_w(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=uh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const Tw=hE;new Pl(3e4,6e4);function bw(r,t){return t?ls(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Dm extends eE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Aw(r){return ew(r.auth,new Dm(r),r.bypassAuthState)}function Sw(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),tw(i,new Dm(r),r.bypassAuthState)}async function ww(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),WS(i,new Dm(r),r.bypassAuthState)}class fE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return ww;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:hs(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rw=new Pl(2e3,1e4);class Ya extends fE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}Ya.currentPopupAction=null;const Cw="pendingRedirect",Oc=new Map;class Iw extends fE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await xw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xw(r,t){const i=Ow(t),a=Dw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Nw(r,t){Oc.set(r._key(),t)}function Dw(r){return ls(r._redirectPersistence)}function Ow(r){return Dc(Cw,r.config.apiKey,r.name)}async function Mw(r,t,i=!1){if(Kn(r.app))return Promise.reject(us(r));const a=jl(r),l=bw(a,t),d=await new Iw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Vw=600*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!dE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(t))}saveEventToCache(t){this.cachedEventUids.add(uv(t)),this.lastProcessedEventTime=Date.now()}}function uv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function dE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(r);default:return!1}}async function Lw(r,t={}){return uo(r,"GET","/v1/projects",t)}const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function jw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Lw(r);for(const i of t)try{if(Bw(i))return}catch{}hs(r,"unauthorized-domain")}function Bw(r){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zw.test(i))return!1;if(Pw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const qw=new Pl(3e4,6e4);function cv(){const r=ki().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Hw(r){return new Promise((t,i)=>{function a(){cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cv(),i(Vi(r,"network-request-failed"))},timeout:qw.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const l=GS("iframefcb");return ki()[l]=()=>{gapi.load?a():i(Vi(r,"network-request-failed"))},qS(`${HS()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function Gw(r){return Mc=Mc||Hw(r),Mc}const Fw=new Pl(5e3,15e3),Qw="__/auth/iframe",Yw="emulator/auth/iframe",Kw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wm(t,Yw):`https://${r.config.authDomain}/${Qw}`,a={apiKey:t.apiKey,appName:r.name,v:lo},l=Xw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function Zw(r){const t=await Gw(r),i=ki().gapi;return bt(i,r,"internal-error"),t.open({where:document.body,url:$w(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Vi(r,"network-request-failed"),p=ki().setTimeout(()=>{c(d)},Fw.get());function _(){ki().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ww=500,t2=600,e2="_blank",n2="http://localhost";class hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(r,t,i,a=Ww,l=t2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...Jw,width:a.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(p=Y0(y)?e2:i),F0(y)&&(t=t||n2,_.scrollbars="yes");const T=Object.entries(_).reduce((M,[H,W])=>`${M}${H}=${W},`,"");if(VS(y)&&p!=="_self")return s2(t||"",p),new hv(null);const A=window.open(t||"",p,T);bt(A,r,"popup-blocked");try{A.focus()}catch{}return new hv(A)}function s2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const r2="__/auth/handler",a2="emulator/auth/handler",o2=encodeURIComponent("fac");async function fv(r,t,i,a,l,c){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:lo,eventId:l};if(t instanceof nE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",iA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Bl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${o2}=${encodeURIComponent(_)}`:"";return`${l2(r)}?${Ll(p).slice(1)}${y}`}function l2({config:r}){return r.emulator?wm(r,a2):`https://${r.authDomain}/${r2}`}const jd="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=Mw,this._overrideRedirectResult=Nw}async _openPopup(t,i,a,l){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await fv(t,i,a,Wd(),l);return i2(t,c,Nm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await fv(t,i,a,Wd(),l);return fw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Zw(t),a=new kw(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return J0()||Q0()||Im()}}const c2=u2;var dv="@firebase/auth",mv="1.11.1";class h2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2(r){Wa(new Kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W0(r)},y=new jS(a,l,c,_);return QS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Kr("auth-internal",t=>{const i=jl(t.getProvider("auth").getImmediate());return(a=>new h2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(dv,mv,f2(r)),sr(dv,mv,"esm2020")}const m2=300,g2=I0("authIdTokenMaxAge")||m2;let gv=null;const p2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>g2)return;const l=i?.token;gv!==l&&(gv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function y2(r=V0()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=FS(r,{popupRedirectResolver:c2,persistence:[Tw,uw,oE]}),a=I0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=p2(c.toString());rw(i,d,()=>d(i.currentUser)),sw(i,p=>d(p))}}const l=R0("auth");return l&&YS(i,`http://${l}`),i}function _2(){return document.getElementsByTagName("head")?.[0]??document}BS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",_2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2("Browser");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,mE;(function(){var r;function t(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,x,k){for(var w=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)w[ue-2]=arguments[ue];return S.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)V[x]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(x=0;x<16;++x)V[x]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],x=I.g[2];let k=I.g[3],w;w=S+(k^R&(x^k))+V[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(x^S&(R^x))+V[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(R^k&(S^R))+V[2]+606105819&4294967295,x=k+(w<<17&4294967295|w>>>15),w=R+(S^x&(k^S))+V[3]+3250441966&4294967295,R=x+(w<<22&4294967295|w>>>10),w=S+(k^R&(x^k))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(x^S&(R^x))+V[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(R^k&(S^R))+V[6]+2821735955&4294967295,x=k+(w<<17&4294967295|w>>>15),w=R+(S^x&(k^S))+V[7]+4249261313&4294967295,R=x+(w<<22&4294967295|w>>>10),w=S+(k^R&(x^k))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(x^S&(R^x))+V[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(R^k&(S^R))+V[10]+4294925233&4294967295,x=k+(w<<17&4294967295|w>>>15),w=R+(S^x&(k^S))+V[11]+2304563134&4294967295,R=x+(w<<22&4294967295|w>>>10),w=S+(k^R&(x^k))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(x^S&(R^x))+V[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(R^k&(S^R))+V[14]+2792965006&4294967295,x=k+(w<<17&4294967295|w>>>15),w=R+(S^x&(k^S))+V[15]+1236535329&4294967295,R=x+(w<<22&4294967295|w>>>10),w=S+(x^k&(R^x))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^x&(S^R))+V[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^R&(k^S))+V[11]+643717713&4294967295,x=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(x^k))+V[0]+3921069994&4294967295,R=x+(w<<20&4294967295|w>>>12),w=S+(x^k&(R^x))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^x&(S^R))+V[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^R&(k^S))+V[15]+3634488961&4294967295,x=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(x^k))+V[4]+3889429448&4294967295,R=x+(w<<20&4294967295|w>>>12),w=S+(x^k&(R^x))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^x&(S^R))+V[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^R&(k^S))+V[3]+4107603335&4294967295,x=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(x^k))+V[8]+1163531501&4294967295,R=x+(w<<20&4294967295|w>>>12),w=S+(x^k&(R^x))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^x&(S^R))+V[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^R&(k^S))+V[7]+1735328473&4294967295,x=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(x^k))+V[12]+2368359562&4294967295,R=x+(w<<20&4294967295|w>>>12),w=S+(R^x^k)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^x)+V[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^R)+V[11]+1839030562&4294967295,x=k+(w<<16&4294967295|w>>>16),w=R+(x^k^S)+V[14]+4259657740&4294967295,R=x+(w<<23&4294967295|w>>>9),w=S+(R^x^k)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^x)+V[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^R)+V[7]+4139469664&4294967295,x=k+(w<<16&4294967295|w>>>16),w=R+(x^k^S)+V[10]+3200236656&4294967295,R=x+(w<<23&4294967295|w>>>9),w=S+(R^x^k)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^x)+V[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^R)+V[3]+3572445317&4294967295,x=k+(w<<16&4294967295|w>>>16),w=R+(x^k^S)+V[6]+76029189&4294967295,R=x+(w<<23&4294967295|w>>>9),w=S+(R^x^k)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^x)+V[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^R)+V[15]+530742520&4294967295,x=k+(w<<16&4294967295|w>>>16),w=R+(x^k^S)+V[2]+3299628645&4294967295,R=x+(w<<23&4294967295|w>>>9),w=S+(x^(R|~k))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~x))+V[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~R))+V[14]+2878612391&4294967295,x=k+(w<<15&4294967295|w>>>17),w=R+(k^(x|~S))+V[5]+4237533241&4294967295,R=x+(w<<21&4294967295|w>>>11),w=S+(x^(R|~k))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~x))+V[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~R))+V[10]+4293915773&4294967295,x=k+(w<<15&4294967295|w>>>17),w=R+(k^(x|~S))+V[1]+2240044497&4294967295,R=x+(w<<21&4294967295|w>>>11),w=S+(x^(R|~k))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~x))+V[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~R))+V[6]+2734768916&4294967295,x=k+(w<<15&4294967295|w>>>17),w=R+(k^(x|~S))+V[13]+1309151649&4294967295,R=x+(w<<21&4294967295|w>>>11),w=S+(x^(R|~k))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~x))+V[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~R))+V[2]+718787259&4294967295,x=k+(w<<15&4294967295|w>>>17),w=R+(k^(x|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,V=this.C;let x=this.h,k=0;for(;k<S;){if(x==0)for(;k<=R;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(V[x++]=I.charCodeAt(k++),x==this.blockSize){l(this,V),x=0;break}}else for(;k<S;)if(V[x++]=I[k++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[S++]=this.g[R]>>>V&255;return I};function c(I,S){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function d(I,S){this.h=S;const R=[];let V=!0;for(let x=I.length-1;x>=0;x--){const k=I[x]|0;V&&k==S||(R[x]=k,V=!1)}this.g=R}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return tt(y(-I));const S=[];let R=1;for(let V=0;I>=R;V++)S[V]=I/R|0,R*=4294967296;return new d(S,0)}function T(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(T(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let V=A;for(let k=0;k<I.length;k+=8){var x=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+x),S);x<8?(x=y(Math.pow(S,x)),V=V.j(x).add(y(w))):(V=V.j(R),V=V.add(y(w)))}return V}var A=_(0),M=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-tt(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(nt(this))return"-"+tt(this).toString(I);const S=y(Math.pow(I,6));var R=this;let V="";for(;;){const x=Yt(R,S).g;R=mt(R,x.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=x,W(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function nt(I){return I.h==-1}r.l=function(I){return I=mt(this,I),nt(I)?-1:W(I)?0:1};function tt(I){const S=I.g.length,R=[];for(let V=0;V<S;V++)R[V]=~I.g[V];return new d(R,~I.h).add(M)}r.abs=function(){return nt(this)?tt(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let x=0;x<=S;x++){let k=V+(this.i(x)&65535)+(I.i(x)&65535),w=(k>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);V=w>>>16,k&=65535,w&=65535,R[x]=w<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(I,S){return I.add(tt(S))}r.j=function(I){if(W(this)||W(I))return A;if(nt(this))return nt(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(nt(I))return tt(this.j(tt(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<I.g.length;x++){const k=this.i(V)>>>16,w=this.i(V)&65535,ue=I.i(x)>>>16,Ee=I.i(x)&65535;R[2*V+2*x]+=w*Ee,Tt(R,2*V+2*x),R[2*V+2*x+1]+=k*Ee,Tt(R,2*V+2*x+1),R[2*V+2*x+1]+=w*ue,Tt(R,2*V+2*x+1),R[2*V+2*x+2]+=k*ue,Tt(R,2*V+2*x+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new d(R,0)};function Tt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function _t(I,S){this.g=I,this.h=S}function Yt(I,S){if(W(S))throw Error("division by zero");if(W(I))return new _t(A,A);if(nt(I))return S=Yt(tt(I),S),new _t(tt(S.g),tt(S.h));if(nt(S))return S=Yt(I,tt(S)),new _t(tt(S.g),S.h);if(I.g.length>30){if(nt(I)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=S;V.l(I)<=0;)R=Gt(R),V=Gt(V);var x=At(R,1),k=At(V,1);for(V=At(V,2),R=At(R,2);!W(V);){var w=k.add(V);w.l(I)<=0&&(x=x.add(R),k=w),V=At(V,1),R=At(R,1)}return S=mt(I,x.j(S)),new _t(x,S)}for(x=A;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(R),w=k.j(S);nt(w)||w.l(I)>0;)R-=V,k=y(R),w=k.j(S);W(k)&&(k=M),x=x.add(k),I=mt(I,w)}return new _t(x,I)}r.B=function(I){return Yt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&I.i(V);return new d(R,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|I.i(V);return new d(R,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^I.i(V);return new d(R,this.h^I.h)};function Gt(I){const S=I.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(R,I.h)}function At(I,S){const R=S>>5;S%=32;const V=I.g.length-R,x=[];for(let k=0;k<V;k++)x[k]=S>0?I.i(k+R)>>>S|I.i(k+R+1)<<32-S:I.i(k+R);return new d(x,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,rr=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,_l,pE,Vc,nm,yE,_E,vE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var et=Array(arguments.length-2),It=2;It<arguments.length;It++)et[It-2]=arguments[It];return m.prototype[L].apply(b,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const b=_t.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var _t=new nt(()=>new Yt,u=>u.reset());class Yt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Gt,At=!1,I=new Tt,S=()=>{const u=Promise.resolve(void 0);Gt=()=>{u.then(R)}};function R(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}At=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ue,x),ue.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Kt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=Z(u,m,b,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new it(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Z(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var J="closure_lm_"+(Math.random()*1e6|0),ot={};function gt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)gt(u,m[B],v,b,L);return null}return v=Mn(v),u&&u[Ee]?u.J(m,v,p(b)?!!b.capture:!1,L):qt(u,m,v,!1,b,L)}function qt(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let It=Jt(u);if(It||(u[J]=It=new rt(u)),v=It.add(m,v,b,et,B),v.proxy)return v;if(b=lt(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(kt(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function lt(){function u(v){return m.call(u.src,u.listener,v)}const m=Re;return u}function Dt(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Dt(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=Mn(v),u&&u[Ee]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Z(m,v,b,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Jt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Z(m,v,b,L)),(v=u>-1?m[u]:null)&&Ct(v))}function Ct(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ee])Et(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(kt(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Jt(m))?(Et(v,u),v.h==0&&(v.src=null,m[J]=null)):ft(u)}}}function kt(u){return u in ot?ot[u]:ot[u]="on"+u}function Re(u,m){if(u.da)u=!0;else{m=new ue(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ct(u),u=v.call(b,m)}return u}function Jt(u){return u=u[J],u instanceof rt?u:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mn(u){return typeof u=="function"?u:(u[on]||(u[on]=function(m){return u.handleEvent(m)}),u[on])}function Wt(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(Wt,V),Wt.prototype[Ee]=!0,Wt.prototype.removeEventListener=function(u,m,v,b){Dt(this,u,m,v,b)};function oe(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(b,u),st(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=ys(B,b,!0,m)&&L;if(B=m.g=u,L=ys(B,b,!0,m)&&L,L=ys(B,b,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=ys(B,b,!1,m)&&L}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ft(v[b]);delete u.g[m],u.h--}}this.G=null},Wt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Wt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ys(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const It=et.listener,be=et.ha||et.src;et.fa&&Et(u.i,et),L=It.call(be,b)!==!1&&L}}return L&&!b.defaultPrevented}function xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=xh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){V.call(this),this.h=u,this.g={}}A(pr,V);var go=[];function po(u){Vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ct(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),po(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Nh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){x.call(this,"d")}A(Qe,x);function Vn(){x.call(this,"c")}A(Vn,x);var Te={},Wl=null;function ea(){return Wl=Wl||new Wt}Te.Ia="serverreachability";function tu(u){x.call(this,Te.Ia,u)}A(tu,x);function hi(u){const m=ea();oe(m,new tu(m))}Te.STAT_EVENT="statevent";function yr(u,m){x.call(this,Te.STAT_EVENT,u),this.stat=m}A(yr,x);function Ce(u){const m=ea();oe(m,new yr(m,u))}Te.Ja="timingevent";function fi(u,m){x.call(this,Te.Ja,u),this.size=m}A(fi,x);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var et="",It=B.split("&");for(let Xt=0;Xt<It.length;Xt++){var be=It[Xt].split("=");if(be.length>1){const de=be[0];be=be[1];const Pn=de.split("_");et=Pn.length>=2&&Pn[1]=="type"?et+(de+"="+be+"&"):et+(de+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function eu(u,m,v,b,L,B,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function mi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(b?" "+b:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return _s(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function Er(){}A(Er,Zl),Er.prototype.g=function(){return new XMLHttpRequest},_o=new Er;function qi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Ie={},qe={};function gi(u,m,v){u.M=1,u.A=Tr(Ne(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),pi(u),u.B=Ne(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),aa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Wn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(go[0]=L.toString()),L=go);for(let B=0;B<L.length;B++){const et=gt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const It=ni(this.g),be=this.g.ya(),Xt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||It!=4||be==7||(be==8||Xt<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Ce(12),Tn(this),kn(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<v.length;)if(de=su(this,v),de==qe){It==4&&(this.m=4,Ce(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ie){this.m=4,Ce(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,de,null),_i(this,de);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(et),et.P=!0,Ce(11))}}else mi(this.i,this.l,v,null),_i(this,v);It==4&&Tn(this),this.o&&!this.K&&(It==4?du(this.j,this):(this.o=!1,pi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Tn(this),kn(this)}}}catch{}};function Mh(u){if(!iu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const b=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qe:(v=Number(m.substring(v,b)),isNaN(v)?Ie:(b+=1,b+v>m.length?qe:(m=m.slice(b,b+v),u.C=b+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function pi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(hi(),Ce(17)),Tn(this),this.m=2,kn(this)):ia(this,this.T-u)};function kn(u){u.j.I==0||u.K||du(u.j,u)}function Tn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),Rs(v);else break t;Ir(v),Ce(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Xt=L[m];const de=Xt[0];if(!(de<=v.K))if(v.K=de,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const Pn=Xt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ci=Xt[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ii=Xt[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const si=u.g;if(si){const xr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var B=b.h;B.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(b.G){const fa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(b.wa=fa,te(b.J,b.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=pu(b,b.L?b.ba:null,b.W),et.L){bo(b.h,et);var It=et,be=b.O;be&&(It.H=be),It.D&&(yi(It),pi(It)),b.g=et}else hu(b);v.i.length>0&&wi(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Ri(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Ri(v,7):Do(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}hi(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,So(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,He(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),vs(this,m[4]),this.h=Ti(m[5]||"",!0),So(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ra,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?wo:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,ou)),u.join("")},bn.prototype.resolve=function(u){const m=Ne(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const It=L[et++];It=="."?b&&et==L.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&et==L.length&&B.push("")):(B.push(It),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?So(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ne(u){return new bn(u)}function He(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof Ts?(u.i=m,oa(u.i,u.l)):(v||(m=br(m,Es)),u.i=new Ts(m,u.l))}function te(u,m,v){u.i.set(m,v)}function Tr(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,au=/[#\?:]/g,wo=/[#\?]/g,Es=/[#\?@]/g,ou=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ts.prototype,r.add=function(u,m){dn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){dn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return dn(u),m=bs(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Co(u,m){dn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=bs(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=qi(v);v=Co(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+qi(v[B])),u.push(et)}}return this.i=u.join("&")};function uu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(lu(this,b),aa(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const b=new Image;b.onload=T(Un,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Un,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Un,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Un,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Io(u,m){const v=new Zn,b=new AbortController,L=setTimeout(()=>{b.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function As(){this.g=new $l}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(bi,Zl),bi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,m){Wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ar,Wt),r=Ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):ei(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},r.Na=function(u){this.g&&(this.response=u,Ss(this))},r.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return Vt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Sr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Ln(v),typeof u=="string"?v!=null&&qi(v):te(u,m,v))}function ie(u){Wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ie,Wt);var Ai=/^https?$/i,xo=["POST","PUT"];r=ie.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Hi(u)}function No(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},r.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let et=String(u.D).match(ru)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Ai.test(et?et.toLowerCase():"")}v=b}if(v)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=nu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Kt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=pu(this,null,this.W),wi(this)};function Do(u){if(ua(u),u.I==3){var m=u.V++,v=Ne(u.J);if(te(v,"SID",u.M),te(v,"RID",m),te(v,"TYPE","terminate"),Cr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=Tr(Ne(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}gu(u)}function Rs(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function ua(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Gt||S(),At||(Gt(),At=!0),I.add(m,u),u.D=0}}function ca(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),st(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),v=Ne(this.J),te(v,"RID",u),te(v,"CVER",22),this.G&&te(v,"X-HTTP-Session-Id",this.G),Cr(this,v),B&&(this.R?m="headers="+qi(Ln(B))+"&"+m:this.u&&Sr(v,this.u,B)),To(this.h,L),this.Ra&&te(v,"TYPE","init"),this.S?(te(v,"$req",m),te(v,"SID","null"),L.U=!0,gi(L,v,null)):gi(L,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||Eo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const b=Ne(u.J);te(b,"SID",u.M),te(b,"RID",v),te(b,"AID",u.K),Cr(u,b),u.u&&u.o&&Sr(b,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),gi(v,b,m)}function Cr(u,m){u.H&&Vt(u.H,function(v,b){te(m,b,v)}),u.l&&Vt({},function(v,b){te(m,b,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let It=-1;for(;;){const be=["count="+v];It==-1?v>0?(It=L[0].g,be.push("ofs="+It)):It=0:be.push("ofs="+It);let Xt=!0;for(let de=0;de<v;de++){var B=L[de].g;const Pn=L[de].map;if(B-=It,B<0)It=Math.max(0,L[de].g-100),Xt=!1;else try{B="req"+B+"_"||"";try{var et=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ci,ii]of et){let si=ii;p(ii)&&(si=_s(ii)),be.push(B+Ci+"="+encodeURIComponent(si))}}catch(Ci){throw be.push(B+"type="+encodeURIComponent("_badmap")),Ci}}catch{b&&b(Pn)}}if(Xt){et=be.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Gt||S(),At||(Gt(),At=!0),I.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Rs(this),fu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Tr(Ne(m)),v.u=null,v.R=!0,na(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ir(this),Ce(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){ha(u),Mo(u),u.g=null;var b=2}else if(Ei(u.h,m))v=m.G,bo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ea(),oe(b,new fi(b,v)),wi(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ca(u,m)||b==2&&Ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),Tr(b),L?ti(b.toString(),v):Io(b.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),gu(u),ua(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var b=v instanceof bn?Ne(v):new bn(v);if(b.g!="")m&&(b.g=m+"."+b.g),vs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);b&&He(B,b),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&te(b,v,m),te(b,"VER",u.ka),Cr(u,b),b}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new bi({ab:v})):new ie(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Wt.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}A(un,Wt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Do(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&wi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,un.Z.N.call(this)};function vu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,Qe);function Eu(){Vn.call(this),this.status=1}A(Eu,Vn);function Fi(u){this.g=u}A(Fi,_u),Fi.prototype.ra=function(){oe(this.g,"a")},Fi.prototype.qa=function(u){oe(this.g,new vu(u))},Fi.prototype.pa=function(u){oe(this.g,new Eu)},Fi.prototype.oa=function(){oe(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,vE=function(){return new Cs},_E=function(){return ea()},yE=Te,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Vc=vr,yo.COMPLETE="complete",pE=yo,Jl.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,_l=Jl,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,gE=ie}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const yv="@firebase/firestore",_v="4.9.2";let sn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let co="12.3.0";const $r=new Tm("@firebase/firestore");function Ha(){return $r.logLevel}function at(r,...t){if($r.logLevel<=Pt.DEBUG){const i=t.map(Om);$r.debug(`Firestore (${co}): ${r}`,...i)}}function ms(r,...t){if($r.logLevel<=Pt.ERROR){const i=t.map(Om);$r.error(`Firestore (${co}): ${r}`,...i)}}function to(r,...t){if($r.logLevel<=Pt.WARN){const i=t.map(Om);$r.warn(`Firestore (${co}): ${r}`,...i)}}function Om(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,EE(r,a,i)}function EE(r,t,i){let a=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ms(a),new Error(a)}function Zt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||EE(t,l,a)}function Rt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class v2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class E2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class T2{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class b2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new b2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=w2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function zt(r,t){return r<t?-1:r>t?1:0}function im(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?zt(l,c):Bd(l)?1:-1}return zt(r.length,t.length)}const R2=55296,C2=57343;function Bd(r){const t=r.charCodeAt(0);return t>=R2&&t<=C2}function eo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Ev="__name__";class Mi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Mi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const a=Mi.isNumericId(t),l=Mi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Mi.extractNumericId(t).compare(Mi.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class pe extends Mi{construct(t,i,a){return new pe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new pe(i)}static emptyPath(){return new pe([])}}const I2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Mi{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return I2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new We([Ev])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(pe.fromString(t))}static fromName(t){return new pt(pe.fromString(t).popFirst(5))}static empty(){return new pt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return pe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new pe(t.slice()))}}function x2(r,t,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function N2(r,t,i,a){if(t===!0&&a===!0)throw new ht($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Tv(r){if(!pt.isDocumentKey(r))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function ui(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new ht($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ue(r,t){const i={typeString:r};return t&&(i.value=t),i}function Hl(r,t){if(!bE(r))throw new ht($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht($.INVALID_ARGUMENT,i);return!0}const bv=-62135596800,Av=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Av);return new fe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<bv)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Ue("string",fe._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new fe(0,0))}static max(){return new St(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function D2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new fe(i+1,0):new fe(i,a));return new lr(l,pt.empty(),t)}function O2(r){return new lr(r.readTime,r.key,Nl)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(St.min(),pt.empty(),Nl)}static max(){return new lr(St.max(),pt.empty(),Nl)}}function M2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:zt(r.largestBatchId,t.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==V2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function U2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(r){return r.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const km=-1;function hh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function L2(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const AE="";function P2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Sv(t)),t=z2(r.get(i),t);return Sv(t)}function z2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function Sv(r){return r+AE+""}function wv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function mr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function SE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=l??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Je(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new On([])}unionWith(t){let i=new je(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(r){if(Zt(!!r,39018),typeof r=="string"){let t=0;const i=j2.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:we(r.seconds),nanos:we(r.nanos)}}function we(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const RE="server_timestamp",CE="__type__",IE="__previous_value__",xE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===RE}function fh(r){const t=r.mapValue.fields[IE];return Um(t)?fh(t):t}function Dl(r){const t=ur(r.mapValue.fields[xE].timestampValue);return new fe(t.seconds,t.nanos)}class B2{constructor(t,i,a,l,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const $c="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const NE="__type__",q2="__max__",Cc={mapValue:{}},DE="__vector__",Zc="value";function hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:G2(r)?9007199254740991:H2(r)?10:11:vt(28295,{value:r})}function ji(r,t){if(r===t)return!0;const i=hr(r);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return we(l.geoPointValue.latitude)===we(c.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return we(l.integerValue)===we(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=we(l.doubleValue),p=we(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(wv(d)!==wv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ji(d[_],p[_])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Ml(r,t){return(r.values||[]).find((i=>ji(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=hr(r),a=hr(t);if(i!==a)return zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=we(c.integerValue||c.doubleValue),_=we(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Cv(r.timestampValue,t.timestampValue);case 4:return Cv(Dl(r),Dl(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=cr(c),_=cr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=zt(p[y],_[y]);if(T!==0)return T}return zt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=zt(we(c.latitude),we(d.latitude));return p!==0?p:zt(we(c.longitude),we(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Iv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Zc]?.arrayValue,T=_[Zc]?.arrayValue,A=zt(y?.values?.length||0,T?.values?.length||0);return A!==0?A:Iv(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const M=im(_[A],T[A]);if(M!==0)return M;const H=no(p[_[A]],y[T[A]]);if(H!==0)return H}return zt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function Cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const i=ur(r),a=ur(t),l=zt(i.seconds,a.seconds);return l!==0?l:zt(i.nanos,a.nanos)}function Iv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return zt(i.length,a.length)}function io(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return cr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${sm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function kc(r){switch(hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function Nv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function H2(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===DE}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return mr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function G2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=We.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){mr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new En(Sl(this.value))}}function OE(r){const t=[];return mr(r.fields,((i,a)=>{const l=new We([i]);if(Uc(a)){const c=OE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new On(t)}class rn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new rn(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new rn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new rn(t,2,i,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function Dv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ov(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ji(r.position[i],t.position[i]))return!1;return!0}class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function F2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class ME{}class ze extends ME{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Y2(t,i,a):i==="array-contains"?new $2(t,a):i==="in"?new Z2(t,a):i==="not-in"?new J2(t,a):i==="array-contains-any"?new W2(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new K2(t,a):new X2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends ME{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return VE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(r){return r.op==="and"}function kE(r){return Q2(r)&&VE(r)}function Q2(r){for(const t of r.filters)if(t instanceof Bi)return!1;return!0}function am(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+io(r.value);if(kE(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof ze?(function(a,l){return l instanceof ze&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(r,t):r instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&UE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function LE(r){return r instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(r):"Filter"}class Y2 extends ze{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class K2 extends ze{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class X2 extends ze{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class $2 extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Lm(i)&&Ml(i.arrayValue,this.value)}}class Z2 extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class J2 extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class W2 extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}class tR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Mv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new tR(r,t,i,a,l,c,d)}function Pm(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Te=i}return t.Te}function zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!F2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!UE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Ov(r.startAt,t.startAt)&&Ov(r.endAt,t.endAt)}function om(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eR(r,t,i,a,l,c,d,p){return new dh(r,t,i,a,l,c,d,p)}function mh(r){return new dh(r)}function Vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nR(r){return r.collectionGroup!==null}function wl(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wc(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new Wc(We.keyField(),a))}return t.Ie}function Ui(r){const t=Rt(r);return t.Ee||(t.Ee=iR(t,wl(r))),t.Ee}function iR(r,t){if(r.limitType==="F")return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return zm(Ui(r),Ui(t))&&r.limitType===t.limitType}function zE(r){return`${Pm(Ui(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(Ui(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Dv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,_){const y=Dv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,wl(a),l))})(r,t)}function sR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jE(r){return(t,i)=>{let a=!1;for(const l of wl(r)){const c=rR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function rR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?no(_,y):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const aR=new ye(pt.comparator);function gs(){return aR}const BE=new ye(pt.comparator);function vl(...r){let t=BE;for(const i of r)t=t.insert(i.key,i);return t}function qE(r){let t=BE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Qr(){return Rl()}function HE(){return Rl()}function Rl(){return new Wr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const oR=new ye(pt.comparator),lR=new je(pt.comparator);function jt(...r){let t=lR;for(const i of r)t=t.add(i);return t}const uR=new je(zt);function cR(){return uR}function jm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function GE(r){return{integerValue:""+r}}function hR(r,t){return L2(t)?GE(t):jm(r,t)}class yh{constructor(){this._=void 0}}function fR(r,t,i){return r instanceof th?(function(l,c){const d={fields:{[CE]:{stringValue:RE},[xE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=fh(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,t):r instanceof so?QE(r,t):r instanceof Vl?YE(r,t):(function(l,c){const d=FE(l,c),p=kv(d)+kv(l.Ae);return rm(d)&&rm(l.Ae)?GE(p):jm(l.serializer,p)})(r,t)}function dR(r,t,i){return r instanceof so?QE(r,t):r instanceof Vl?YE(r,t):i}function FE(r,t){return r instanceof eh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class th extends yh{}class so extends yh{constructor(t){super(),this.elements=t}}function QE(r,t){const i=KE(t);for(const a of r.elements)i.some((l=>ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Vl extends yh{constructor(t){super(),this.elements=t}}function YE(r,t){let i=KE(t);for(const a of r.elements)i=i.filter((l=>!ji(l,a)));return{arrayValue:{values:i}}}class eh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function kv(r){return we(r.integerValue||r.doubleValue)}function KE(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class mR{constructor(t,i){this.field=t,this.transform=i}}function gR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof so&&l instanceof so||a instanceof Vl&&l instanceof Vl?eo(a.elements,l.elements,ji):a instanceof eh&&l instanceof eh?ji(a.Ae,l.Ae):a instanceof th&&l instanceof th})(r.transform,t.transform)}class pR{constructor(t,i){this.version=t,this.transformResults=i}}class ci{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function XE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Bm(r.key,ci.none()):new Gl(r.key,r.data,ci.none());{const i=r.data,a=En.empty();let l=new je(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(r.key,a,new On(l.toArray()),ci.none())}}function yR(r,t,i){r instanceof Gl?(function(l,c,d){const p=l.value.clone(),_=Lv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof gr?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Lv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll($E(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,a){return r instanceof Gl?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=c.value.clone(),T=Pv(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof gr?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=Pv(c.fieldTransforms,_,d),T=d.data;return T.setAll($E(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function _R(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=FE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function Uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>gR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $E(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Lv(r,t,i){const a=new Map;Zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,dR(d,p,i[l]))}return a}function Pv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,fR(c,d,t))}return a}class Bm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vR extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ER{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&yR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=HE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=XE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>Uv(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>Uv(i,a)))}}class qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return oR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new qm(t,i,a,l)}}class TR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bR{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Ht;function AR(r){switch(r){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function ZE(r){if(r===void 0)return ms("GRPC error has no .code"),$.UNKNOWN;switch(r){case ke.OK:return $.OK;case ke.CANCELLED:return $.CANCELLED;case ke.UNKNOWN:return $.UNKNOWN;case ke.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ke.INTERNAL:return $.INTERNAL;case ke.UNAVAILABLE:return $.UNAVAILABLE;case ke.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ke.NOT_FOUND:return $.NOT_FOUND;case ke.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ke.ABORTED:return $.ABORTED;case ke.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ke.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:r})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function SR(){return new TextEncoder}const wR=new rr([4294967295,4294967295],0);function zv(r){const t=SR().encode(r),i=new mE;return i.update(t),new Uint8Array(i.digest())}function jv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Hm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(rr.fromNumber(a)));return l.compare(wR)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=zv(t),[a,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Hm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=zv(t),[a,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(St.min(),l,new ye(zt),gs(),jt())}}class Fl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Fl(a,i,jt(),jt(),jt())}}class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class JE{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),a=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=qv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RR{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.Je=Ic(),this.He=Ic(),this.Ye=new ye(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new pt(c.path);this.et(i,d,rn.newNoDocument(d,St.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(_){if(_ instanceof wE)return to("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Hm(d,l,c)}catch(_){return to(_ instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&om(p.target)){const _=new pt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=jt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=gs(),this.Je=Ic(),this.He=Ic(),this.Ye=new ye(zt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Bv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new ye(pt.comparator)}function qv(){return new ye(pt.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},IR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xR={and:"AND",or:"OR"};class NR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function DR(r,t){return nh(r,t.toTimestamp())}function Li(r){return Zt(!!r,49232),St.fromTimestamp((function(i){const a=ur(i);return new fe(a.seconds,a.nanos)})(r))}function Gm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=(function(l){return new pe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function eT(r){const t=pe.fromString(r);return Zt(aT(t),10190,{key:t.toString()}),t}function hm(r,t){return Gm(r.databaseId,t.path)}function qd(r,t){const i=eT(t);if(i.get(1)!==r.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(iT(i))}function nT(r,t){return Gm(r.databaseId,t)}function OR(r){const t=eT(r);return t.length===4?pe.emptyPath():iT(t)}function fm(r){return new pe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iT(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hv(r,t,i){return{name:hm(r,t),fields:i.value.mapValue.fields}}function MR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Zt(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(Zt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:ZE(y.code);return new ht(T,y.message||"")})(d);i=new WE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):St.min(),p=new En({mapValue:{fields:a.document.fields}}),_=rn.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Pc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Li(a.readTime):St.min(),d=rn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Pc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new bR(l,c),p=a.targetId;i=new JE(p,d)}}return i}function VR(r,t){let i;if(t instanceof Gl)i={update:Hv(r,t.key,t.value)};else if(t instanceof Bm)i={delete:hm(r,t.key)};else if(t instanceof gr)i={update:Hv(r,t.key,t.data),updateMask:HR(t.fieldMask)};else{if(!(t instanceof vR))return vt(16599,{Vt:t.type});i={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:DR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function kR(r,t){return r&&r.length>0?(Zt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(St.min())&&(d=Li(c)),new pR(d,l.transformResults||[])})(i,t)))):[]}function UR(r,t){return{documents:[nT(r,t.path)]}}function LR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nT(r,l);const c=(function(y){if(y.length!==0)return rT(Bi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(M){return{field:Fa(M.field),direction:jR(M.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function PR(r){let t=OR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const M=sT(A);return M instanceof Bi&&kE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new Wc(Qa(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,hh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,H=A.values||[];return new Jc(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,H=A.values||[];return new Jc(H,M)})(i.endAt)),eR(t,l,d,c,p,"F",_,y)}function zR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ze.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>sT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function jR(r){return CR[r]}function BR(r){return IR[r]}function qR(r){return xR[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Qa(r){return We.fromServerFormat(r.fieldPath)}function rT(r){return r instanceof ze?(function(i){if(i.op==="=="){if(Nv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Nv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:BR(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((l=>rT(l)));return a.length===1?a[0]:{compositeFilter:{op:qR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function HR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function aT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class er{constructor(t,i,a,l,c=St.min(),d=St.min(),p=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GR{constructor(t){this.yt=t}}function FR(r){const t=PR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}class QR{constructor(){this.Cn=new YR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(lr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class YR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new je(pe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new je(pe.comparator)).toArray()}}const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(oT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}const Fv="LruGarbageCollector",KR=1048576;function Qv([r,t],[i,a]){const l=zt(r,i);return l===0?zt(t,a):l}class XR{constructor(t){this.Ir=t,this.buffer=new je(Qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $R{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?at(Fv,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class ZR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const a=new XR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Gv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Ha()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function JR(r,t){return new ZR(r,t)}class WR{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class eC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,On.empty(),fe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=jt()){const l=Qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Qr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,jt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=gs();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof gr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Cl(T.mutation,y,T.mutation.getFieldMask(),fe.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new tC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new ye(((d,p)=>d-p)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||On.empty();T=p.applyToLocalView(y,T),a.set(_,T);const A=(l.get(p.batchId)||jt()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,A=HE();T.forEach((M=>{if(!c.has(M)){const H=XE(i.get(M),a.get(M));H!==null&&A.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Qr());let p=Nl,_=c;return d.next((y=>X.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((M=>{_=_.insert(T,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,jt()))).next((T=>({batchId:p,changes:qE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(A,M){return new dh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,rn.newInvalidDocument(T)))}));let p=vl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Cl(T.mutation,y,On.empty(),fe.now()),ph(i,y)&&(p=p.insert(_,y))})),p}))}}class nC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:FR(l.bundledQuery),readTime:Li(l.readTime)}})(i)),X.resolve()}}class iC{constructor(){this.overlays=new ye(pt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Qr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Qr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ye(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Qr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Qr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new TR(i,a));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class sC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Fm{constructor(){this.Qr=new je(Fe.$r),this.Ur=new je(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Fe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new pe([])),a=new Fe(i,t),l=new Fe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new pe([])),a=new Fe(i,t),l=new Fe(i,t+1);let c=jt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Fe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class rC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Fe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ER(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Fe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?km:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),l=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(zt);return i.forEach((l=>{const c=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new pt(c),0);let p=new je(zt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Fe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Fe(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class aC{constructor(t){this.ri=t,this.docs=(function(){return new ye(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=gs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=gs();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||M2(O2(T),a)<=0||(l.has(T.key)||ph(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oC(this)}getSize(t){return X.resolve(this.size)}}class oC extends WR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class lC{constructor(t){this.persistence=t,this.si=new Wr((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class lT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new sC,this.referenceDelegate=t(this),this.Pi=new lC(this),this.indexManager=new QR,this.remoteDocumentCache=(function(l){return new aC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new GR(i),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new iC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new rC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new uC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class uC extends k2{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Vi=null}static mi(t){return new Qm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Wr((a=>P2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=JR(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,a,l)}}class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Zb()?8:U2(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new cC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ha()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ha()<=Pt.DEBUG&&at("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ha()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):X.resolve())}ys(t,i){if(Vv(i))return X.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,lm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Vv(i)||l.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Ha()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.vs(t,d,i,D2(l,Nl)).next((p=>p)))}))}Ds(t,i){let a=new je(jE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ha()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.ps.getDocumentsMatchingQuery(t,i,lr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Km="LocalStore",fC=3e8;class dC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ye(zt),this.xs=new Wr((c=>Pm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function mC(r,t,i,a){return new dC(r,t,i,a)}async function uT(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=jt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function gC(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const A=y.batch,M=A.keys();let H=X.resolve();return M.forEach((W=>{H=H.next((()=>T.getEntry(_,W))).next((nt=>{const tt=y.docVersions.get(W);Zt(tt!==null,48541),nt.version.compareTo(tt)<0&&(A.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),T.addEntry(nt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=jt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function cT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function pC(r,t){const i=Rt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(tn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,a)),l=l.insert(A,H),(function(nt,tt,mt){return nt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=fC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,H,T)&&p.push(i.Pi.updateTargetData(c,H))}));let _=gs(),y=jt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(yC(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(St.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function yC(r,t,i){let a=jt(),l=jt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=gs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(Km,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function _C(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function vC(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new er(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function dm(r,t,i){const a=Rt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;at(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Yv(r,t,i){const a=Rt(r);let l=St.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const A=Rt(_),M=A.xs.get(T);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,T)})(a,d,Ui(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:jt()))).next((p=>(EC(a,sR(t),p),{documents:p,Qs:c})))))}function EC(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Kv{constructor(){this.activeTargetIds=cR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TC{constructor(){this.Mo=new Kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Kv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bC{Oo(t){}shutdown(){}}const Xv="ConnectivityMonitor";class $v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Xv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function mm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Hd="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=mm(),p=this.zo(t,i.toUriEncodedString());at(Hd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),T=oo(y);return this.Jo(t,p,_,a,T).then((A=>(at(Hd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw to(Hd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=AC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class wC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class RC extends SC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=mm();return new Promise(((p,_)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(pE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const A=y.getResponseJson();at(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Vc.TIMEOUT:at(nn,`RPC '${t}' ${d} timed out`),_(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const M=y.getStatus();if(at(nn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const nt=(function(mt){const Tt=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Tt)>=0?Tt:$.UNKNOWN})(W.status);_(new ht(nt,W.message))}else _(new ht($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ht($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(nn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vE(),p=_E(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");at(nn,`Creating RPC '${t}' stream ${l}: ${T}`,_);const A=d.createWebChannel(T,_);this.I_(A);let M=!1,H=!1;const W=new wC({Yo:tt=>{H?at(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(at(nn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),at(nn,`RPC '${t}' stream ${l} sending:`,tt),A.send(tt))},Zo:()=>A.close()}),nt=(tt,mt,Tt)=>{tt.listen(mt,(_t=>{try{Tt(_t)}catch(Yt){setTimeout((()=>{throw Yt}),0)}}))};return nt(A,_l.EventType.OPEN,(()=>{H||(at(nn,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),nt(A,_l.EventType.CLOSE,(()=>{H||(H=!0,at(nn,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),nt(A,_l.EventType.ERROR,(tt=>{H||(H=!0,to(nn,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new ht($.UNAVAILABLE,"The operation could not be completed")))})),nt(A,_l.EventType.MESSAGE,(tt=>{if(!H){const mt=tt.data[0];Zt(!!mt,16349);const Tt=mt,_t=Tt?.error||Tt[0]?.error;if(_t){at(nn,`RPC '${t}' stream ${l} received error:`,_t);const Yt=_t.status;let Gt=(function(S){const R=ke[S];if(R!==void 0)return ZE(R)})(Yt),At=_t.message;Gt===void 0&&(Gt=$.INTERNAL,At="Unknown error status: "+Yt+" with message "+_t.message),H=!0,W.a_(new ht(Gt,At)),A.close()}else at(nn,`RPC '${t}' stream ${l} received:`,mt),W.u_(mt)}})),nt(p,yE.STAT_EVENT,(tt=>{tt.stat===nm.PROXY?at(nn,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===nm.NOPROXY&&at(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function Eh(r){return new NR(r,!0)}class hT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Zv="PersistentStream";class fT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CC extends fT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=MR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Li(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=om(_)?{documents:UR(c,_)}:{query:LR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=zR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.q_(i)}}class IC extends fT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kR(t.writeResults,t.commitTime),a=Li(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>VR(this.serializer,a)))};this.q_(i)}}class xC{}class NC extends xC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class OC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(at(Zr,"Restarting streams for network reachability change."),await(async function(_){const y=Rt(_);y.Ea.add(4),await Ql(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Ra=new DC(a,l)}}async function Th(r){if(ta(r))for(const t of r.da)await t(!0)}async function Ql(r){for(const t of r.da)await t(!1)}function dT(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?Zm(i):mo(i).O_()&&$m(i,t))}function Xm(r,t){const i=Rt(r),a=mo(i);i.Ia.delete(t),a.O_()&&mT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Ra.set("Unknown"))}function $m(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(r).Y_(t)}function mT(r,t){r.Va.Ue(t),mo(r).Z_(t)}function Zm(r){r.Va=new RR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function Jm(r){return ta(r)&&!mo(r).x_()&&r.Ia.size>0}function ta(r){return Rt(r).Ea.size===0}function gT(r){r.Va=void 0}async function MC(r){r.Ra.set("Online")}async function VC(r){r.Ia.forEach(((t,i)=>{$m(r,t)}))}async function kC(r,t){gT(r),Jm(r)?(r.Ra.ha(t),Zm(r)):r.Ra.set("Unknown")}async function UC(r,t,i){if(r.Ra.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof JE?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await cT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),mT(c,_);const A=new er(T.target,_,y,T.sequenceNumber);$m(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Zr,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,i){if(!fo(t))throw t;r.Ea.add(1),await Ql(r),r.Ra.set("Offline"),i||(i=()=>cT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Zr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function pT(r,t){return t().catch((i=>sh(r,i,t)))}async function bh(r){const t=Rt(r),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;LC(t);)try{const l=await _C(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,PC(t,l)}catch(l){await sh(t,l)}yT(t)&&_T(t)}function LC(r){return ta(r)&&r.Ta.length<10}function PC(r,t){r.Ta.push(t);const i=fr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function yT(r){return ta(r)&&!fr(r).x_()&&r.Ta.length>0}function _T(r){fr(r).start()}async function zC(r){fr(r).ra()}async function jC(r){const t=fr(r);for(const i of r.Ta)t.ea(i.mutations)}async function BC(r,t,i){const a=r.Ta.shift(),l=qm.from(a,t,i);await pT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await bh(r)}async function qC(r,t){t&&fr(r).X_&&await(async function(a,l){if((function(d){return AR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await pT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(r,t),yT(r)&&_T(r)}async function Jv(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),at(Zr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await Ql(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function HC(r,t){const i=Rt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(i,a,l){const c=Rt(i);return c.sa(),new CC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:MC.bind(null,r),t_:VC.bind(null,r),r_:kC.bind(null,r),H_:UC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Jm(r)?Zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function fr(r){return r.fa||(r.fa=(function(i,a,l){const c=Rt(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zC.bind(null,r),r_:qC.bind(null,r),ta:jC.bind(null,r),na:BC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Zr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Wm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(r,t){if(ms("AsyncQueue",`${t}: ${r}`),fo(r))return new ht($.UNAVAILABLE,`${t}: ${r}`);throw r}class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Wv{constructor(){this.ga=new ye(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ao{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,Za.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class GC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class FC{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Rt(i),c=l.queries;l.queries=t0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ht($.ABORTED,"Firestore shutting down"))}}function t0(){return new Wr((r=>zE(r)),gh)}async function vT(r,t){const i=Rt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new GC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=tg(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&eg(i)}async function ET(r,t){const i=Rt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function QC(r,t){const i=Rt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&eg(i)}function YC(r,t,i){const a=Rt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function eg(r){r.Ca.forEach((t=>{t.next()}))}var gm,e0;(e0=gm||(gm={})).Ma="default",e0.Cache="cache";class TT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ao(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class bT{constructor(t){this.key=t}}class AT{constructor(t){this.key=t}}class KC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=jE(t),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Wv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const M=l.get(T),H=ph(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;M&&H?M.data.isEqual(H.data)?W!==nt&&(a.track({type:3,doc:H}),tt=!0):this.su(M,H)||(a.track({type:2,doc:H}),tt=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),tt=!0):M&&!H&&(a.track({type:1,doc:M}),tt=!0,(_||y)&&(p=!0)),tt&&(H?(d=d.add(H),c=nt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(H,W){const nt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:tt})}};return nt(H)-nt(W)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new AT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new bT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class XC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $C{constructor(t){this.key=t,this.hu=!1}}class ZC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((p=>zE(p)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new ye(pt.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JC(r,t,i=!0){const a=xT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ST(a,t,i,!0),l}async function WC(r,t){const i=xT(r);await ST(i,t,!0,!1)}async function ST(r,t,i,a){const l=await vC(r.localStore,Ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await tI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&dT(r.remoteStore,l),p}async function tI(r,t,i,a,l){r.pu=(A,M,H)=>(async function(nt,tt,mt,Tt){let _t=tt.view.ru(mt);_t.Cs&&(_t=await Yv(nt.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,_t))));const Yt=Tt&&Tt.targetChanges.get(tt.targetId),Gt=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,At=tt.view.applyChanges(_t,nt.isPrimaryClient,Yt,Gt);return i0(nt,tt.targetId,At.au),At.snapshot})(r,A,M,H);const c=await Yv(r.localStore,t,!0),d=new KC(t,c.Qs),p=d.ru(c.documents),_=Fl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);i0(r,i,y.au);const T=new XC(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function eI(r,t,i){const a=Rt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Xm(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(ho)):(pm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function nI(r,t){const i=Rt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(i.remoteStore,a.targetId))}async function iI(r,t,i){const a=cI(r);try{const l=await(function(d,p){const _=Rt(d),y=fe.now(),T=p.reduce(((H,W)=>H.add(W.key)),jt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=gs(),nt=jt();return _.Ns.getEntries(H,T).next((tt=>{W=tt,W.forEach(((mt,Tt)=>{Tt.isValidDocument()||(nt=nt.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,W))).next((tt=>{A=tt;const mt=[];for(const Tt of p){const _t=_R(Tt,A.get(Tt.key).overlayedDocument);_t!=null&&mt.push(new gr(Tt.key,_t,OE(_t.value.mapValue),ci.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,mt,p)})).next((tt=>{M=tt;const mt=tt.applyToLocalDocumentSet(A,nt);return _.documentOverlayCache.saveOverlays(H,tt.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:qE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ye(zt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=tg(l,"Failed to persist write");i.reject(c)}}async function wT(r,t){const i=Rt(r);try{const a=await pC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await ho(a)}}function n0(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Rt(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,A)=>{for(const M of A.Sa)M.va(p)&&(y=!0)})),y&&eg(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sI(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ye(pt.comparator);d=d.insert(c,rn.newNoDocument(c,St.min()));const p=jt().add(c),_=new vh(St.min(),new Map,new ye(zt),d,p);await wT(a,_),a.du=a.du.remove(c),a.Au.delete(t),ig(a)}else await dm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(ho)}async function rI(r,t){const i=Rt(r),a=t.batch.batchId;try{const l=await gC(i.localStore,t);CT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await ho(l)}}async function aI(r,t,i){const a=Rt(r);try{const l=await(function(d,p){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(Zt(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);CT(a,t,i),RT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await ho(l)}}function RT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function CT(r,t,i){const a=Rt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||IT(r,a)}))}function IT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Xm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ig(r))}function i0(r,t,i){for(const a of i)a instanceof bT?(r.Ru.addReference(a.key,t),oI(r,a)):a instanceof AT?(at(ng,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||IT(r,a.key)):vt(19791,{wu:a})}function oI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(ng,"New document in limbo: "+i),r.Eu.add(a),ig(r))}function ig(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(pe.fromString(t)),a=r.fu.next();r.Au.set(a,new $C(i)),r.du=r.du.insert(i,a),dT(r.remoteStore,new er(Ui(mh(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Yl(r,t,i){const a=Rt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Ym.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const T=Rt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(M=>X.forEach(M.Es,(H=>T.persistence.referenceDelegate.addReference(A,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>T.persistence.referenceDelegate.removeReference(A,M.targetId,H)))))))))}catch(A){if(!fo(A))throw A;at(Km,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const H=T.Ms.get(M),W=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(M,nt)}}})(a.localStore,c))}async function lI(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){at(ng,"User change. New user:",t.toKey());const a=await uT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ht($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function uI(r,t){const i=Rt(r),a=i.Au.get(t);if(a&&a.hu)return jt().add(a.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function xT(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.Pu.H_=QC.bind(null,t.eventManager),t.Pu.yu=YC.bind(null,t.eventManager),t}function cI(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return mC(this.persistence,new hC,t.initialUser,this.serializer)}Cu(t){return new lT(Qm.mi,this.serializer)}Du(t){return new TC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class hI extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $R(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new lT((a=>ih.mi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>n0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lI.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new RC(c)})(t.databaseInfo);return(function(c,d,p,_){return new NC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new OC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>n0(this.syncEngine,i,0)),(function(){return $v.v()?new $v:new bC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const A=new ZC(l,c,d,p,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);at(Zr,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class NT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class fI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=tg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),at(dr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await uT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function s0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await dI(r);at(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Jv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Jv(t.remoteStore,l))),r._onlineComponents=t}async function dI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(dr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new rh)}}else at(dr,"Using default OfflineComponentProvider"),await Fd(r,new hI(void 0));return r._offlineComponents}async function DT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(dr,"Using user provided OnlineComponentProvider"),await s0(r,r._uninitializedComponentsProvider._online)):(at(dr,"Using default OnlineComponentProvider"),await s0(r,new ym))),r._onlineComponents}function mI(r){return DT(r).then((t=>t.syncEngine))}async function _m(r){const t=await DT(r),i=t.eventManager;return i.onListen=JC.bind(null,t.syncEngine),i.onUnlisten=eI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=WC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nI.bind(null,t.syncEngine),i}function gI(r,t,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new NT({next:M=>{T.Nu(),d.enqueueAndForget((()=>ET(c,A)));const H=M.docs.has(p);!H&&M.fromCache?y.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&_&&_.source==="server"?y.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new TT(mh(p.path),T,{includeMetadataChanges:!0,qa:!0});return vT(c,A)})(await _m(r),r.asyncQueue,t,i,a))),a.promise}function OT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const r0=new Map;const MT="firestore.googleapis.com",a0=!0;class o0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=a0}else this.host=t.host,this.ssl=t.ssl??a0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KR)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new v2;switch(a.type){case"firstParty":return new A2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=r0.get(i);a&&(at("ComponentProvider","Removing Datastore"),r0.delete(i),a.terminate())})(this),Promise.resolve()}}function pI(r,t,i,a={}){r=ui(r,sg);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(x0(`https://${p}`),N0("Firestore",!0)),c.host!==MT&&c.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!or(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=sn.MOCK_USER;else{y=qb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new sn(A)}r._authCredentials=new E2(new TE(y,T))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,Le._jsonSchema))return new Le(t,a||null,new pt(pe.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ue("string",Le._jsonSchemaVersion),referencePath:Ue("string")};class kl extends Ah{constructor(t,i,a){super(t,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new pt(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function Nn(r,t,...i){if(r=hn(r),arguments.length===1&&(t=Mm.newId()),x2("doc","path",t),r instanceof sg){const a=pe.fromString(t,...i);return Tv(a),new Le(r,null,new pt(a))}{if(!(r instanceof Le||r instanceof kl))throw new ht($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pe.fromString(t,...i));return Tv(a),new Le(r.firestore,r instanceof kl?r.converter:null,new pt(a))}}const l0="AsyncQueue";class u0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&at(l0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;at(l0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",c0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Wm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function c0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function h0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Jr extends sg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new u0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new u0(t),this._firestoreClient=void 0,await t}}}function yI(r,t){const i=typeof r=="object"?r:V0(),a=typeof r=="string"?r:$c,l=Am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jb("firestore");c&&pI(l,...c)}return l}function rg(r){if(r._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_I(r),r._firestoreClient}function _I(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new B2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new fI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(tn.fromBase64String(t))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ue("string",Xn._jsonSchemaVersion),bytes:Ue("string")};class Sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ue("string",Pi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new zi(t.vectorValues);throw new ht($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Ue("string",zi._jsonSchemaVersion),vectorValues:Ue("object")};const vI=/^__.*__$/;class EI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class VT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function kT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Rh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Rh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kT(this.Ac)&&vI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,l=!1){return new Rh({Ac:t,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new TI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function bI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);og("Data must be an object, but it was:",d,a);const p=LT(a,d);let _,y;if(c.merge)_=new On(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const M=vm(t,A,i);if(!d.contains(M))throw new ht($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);zT(T,M)||T.push(M)}_=new On(T),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new EI(new En(p),_,y)}class Ch extends wh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function AI(r,t,i){return new Rh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ag extends wh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=AI(this,t,!0),a=this.vc.map((c=>Kl(c,i))),l=new so(a);return new mR(t.path,l)}isEqual(t){return t instanceof ag&&or(this.vc,t.vc)}}function SI(r,t,i,a){const l=r.Cc(1,t,i);og("Data must be an object, but it was:",l,a);const c=[],d=En.empty();mr(a,((_,y)=>{const T=lg(t,_,i);y=hn(y);const A=l.yc(T);if(y instanceof Ch)c.push(T);else{const M=Kl(y,A);M!=null&&(c.push(T),d.set(T,M))}}));const p=new On(c);return new VT(d,p,l.fieldTransforms)}function wI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[vm(t,a,i)],_=[l];if(c.length%2!=0)throw new ht($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(vm(t,c[M])),_.push(c[M+1]);const y=[],T=En.empty();for(let M=p.length-1;M>=0;--M)if(!zT(y,p[M])){const H=p[M];let W=_[M];W=hn(W);const nt=d.yc(H);if(W instanceof Ch)y.push(H);else{const tt=Kl(W,nt);tt!=null&&(y.push(H),T.set(H,tt))}}const A=new On(y);return new VT(T,A,d.fieldTransforms)}function Kl(r,t){if(PT(r=hn(r)))return og("Unsupported field value:",t,r),LT(r,t);if(r instanceof wh)return(function(a,l){if(!kT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Kl(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=fe.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof fe){const c=new fe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof zi)return(function(d,p){return{mapValue:{fields:{[NE]:{stringValue:DE},[Zc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return jm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Vm(a)}`)})(r,t)}function LT(r,t){const i={};return SE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(r,((a,l)=>{const c=Kl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function PT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof fe||r instanceof Pi||r instanceof Xn||r instanceof Le||r instanceof wh||r instanceof zi)}function og(r,t,i){if(!PT(i)||!bE(i)){const a=Vm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function vm(r,t,i){if((t=hn(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return lg(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const RI=new RegExp("[~\\*/\\[\\]]");function lg(r,t,i){if(t.search(RI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Sh(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ht($.INVALID_ARGUMENT,p+r+_)}function zT(r,t){return r.some((i=>i.isEqual(t)))}class jT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(BT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CI extends jT{data(){return super.data()}}function BT(r,t){return typeof t=="string"?lg(r,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function II(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xI{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return mr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>we(a.doubleValue)));return new zi(i)}convertGeoPoint(t){return new Pi(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=ur(t);return new fe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=pe.fromString(t);Zt(aT(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||ms(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yr extends jT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(BT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Ue("string",Yr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class zc extends Yr{data(t={}){return super.data(t)}}class Ja{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:DI(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function f0(r){r=ui(r,Le);const t=ui(r.firestore,Jr);return gI(rg(t),r._key).then((i=>HT(t,r,i)))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Ue("string",Ja._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class qT extends xI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function OI(r,t,i){r=ui(r,Le);const a=ui(r.firestore,Jr),l=NI(r.converter,t);return ug(a,[bI(UT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ci.none())])}function Oi(r,t,i,...a){r=ui(r,Le);const l=ui(r.firestore,Jr),c=UT(l);let d;return d=typeof(t=hn(t))=="string"||t instanceof Sh?wI(c,"updateDoc",r._key,t,i,a):SI(c,"updateDoc",r._key,t),ug(l,[d.toMutation(r._key,ci.exists(!0))])}function MI(r){return ug(ui(r.firestore,Jr),[new Bm(r._key,ci.none())])}function d0(r,...t){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||h0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(h0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Le)d=ui(r.firestore,Jr),p=mh(r._key.path),c={next:_=>{t[a]&&t[a](HT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=ui(r,Ah);d=ui(_.firestore,Jr),p=_._query;const y=new qT(d);c={next:T=>{t[a]&&t[a](new Ja(d,y,_,T))},error:t[a+1],complete:t[a+2]},II(r._query)}return(function(y,T,A,M){const H=new NT(M),W=new TT(T,H,A);return y.asyncQueue.enqueueAndForget((async()=>vT(await _m(y),W))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>ET(await _m(y),W)))}})(rg(d),p,l,c)}function ug(r,t){return(function(a,l){const c=new ar;return a.asyncQueue.enqueueAndForget((async()=>iI(await mI(a),l,c))),c.promise})(rg(r),t)}function HT(r,t,i){const a=i.docs.get(t._key),l=new qT(r);return new Yr(r,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}function qa(...r){return new ag("arrayUnion",r)}(function(t,i=!0){(function(l){co=l})(lo),Wa(new Kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Jr(new T2(a.getProvider("auth-internal")),new S2(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),sr(yv,_v,t),sr(yv,_v,"esm2020")})();const VI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),m0=r=>{const t=kI(r);return t.charAt(0).toUpperCase()+t.slice(1)},GT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),UI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var LI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PI=ge.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>ge.createElement("svg",{ref:_,...LI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:GT("lucide",l),...!c&&!UI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>ge.createElement(y,T)),...Array.isArray(c)?c:[c]]));const Be=(r,t)=>{const i=ge.forwardRef(({className:a,...l},c)=>ge.createElement(PI,{ref:c,iconNode:t,className:GT(`lucide-${VI(m0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=m0(r),i};const zI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jI=Be("arrow-right",zI);const BI=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g0=Be("ban",BI);const qI=[["circle",{cx:"12",cy:"11.9",r:"2",key:"e8h31w"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6",key:"17bolr"}],["path",{d:"m8.9 10.1 1.4.8",key:"15ezny"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5",key:"wtwa5u"}],["path",{d:"m15.1 10.1-1.4.8",key:"1r0b28"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2",key:"m7qszh"}],["path",{d:"M12 13.9v1.6",key:"zfyyim"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0",key:"1bi9q0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5",key:"1rhjqw"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5",key:"8gsud3"}]],cg=Be("biohazard",qI);const HI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],p0=Be("book-open",HI);const GI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y0=Be("circle-check-big",GI);const FI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_0=Be("crown",FI);const QI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],YI=Be("hammer",QI);const KI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],XI=Be("history",KI);const $I=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ZI=Be("house",$I);const JI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jc=Be("log-out",JI);const WI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],tx=Be("play",WI);const ex=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nx=Be("rotate-ccw",ex);const ix=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Ih=Be("skull",ix);const sx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],v0=Be("sparkles",sx);const rx=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],hg=Be("syringe",rx);const ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ox=Be("trash-2",ax);const lx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ux=Be("user",lx);const cx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hx=Be("users",cx);const fx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dx=Be("x",fx),mx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:36417135068764fe6aa637"},FT=M0(mx),Qd=y2(FT),Dn=yI(FT),Yn=typeof __app_id<"u"?__app_id:"last-of-us",gx="22",px={2:14,3:12,4:11,5:10,6:9},yx=()=>{const r=[];return Object.entries({1:2,3:4,5:6,7:8,9:6,11:4,13:2}).forEach(([a,l])=>{for(let c=0;c<l;c++)r.push({val:parseInt(a),type:"ZOMBIE"})}),Object.entries({2:3,4:5,6:7,8:7,10:5,12:3}).forEach(([a,l])=>{for(let c=0;c<l;c++)r.push({val:parseInt(a),type:"ANTIDOTE"})}),r},_x=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Yd=()=>O.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[O.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-red-900/30 via-stone-950 to-black"}),O.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((r,t)=>O.jsx("div",{className:"absolute animate-float text-stone-500/20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${15+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:t%2===0?O.jsx(Ih,{size:48}):O.jsx(hg,{size:48})},t))}),O.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
    `})]}),E0=({val:r,type:t,count:i=1,size:a="md",selected:l=!1,onClick:c,disabled:d=!1,faded:p=!1,isBoard:_=!1})=>{const y=t==="ZOMBIE";let T="";_?T=y?"bg-red-900 border-red-600 shadow-red-900/40":"bg-lime-900 border-lime-500 shadow-lime-900/40":T=y?"bg-gradient-to-b from-red-800 to-stone-900 border-red-600":"bg-gradient-to-b from-lime-700 to-stone-900 border-lime-500";const A=y?"text-red-100":"text-lime-100",M=y?"text-red-500/30":"text-lime-400/30",H=a==="lg"?64:a==="md"?48:24,W=a==="lg"?"w-20 h-32 md:w-28 md:h-40 text-3xl md:text-5xl":a==="sm"?"w-10 h-14 text-xs":"w-16 h-24 md:w-20 md:h-28 text-xl md:text-2xl";return O.jsxs("div",{onClick:d?void 0:c,className:`
        ${W} rounded-xl border-2 flex flex-col items-center justify-center shadow-xl relative overflow-hidden transition-all duration-200 shrink-0
        ${T}
        ${l?"ring-4 ring-yellow-400 -translate-y-4 z-20 scale-110":""}
        ${d?p?"opacity-40 grayscale":"cursor-default":"cursor-pointer hover:scale-105"}
        ${!d&&!l?"hover:-translate-y-1":""}
      `,children:[O.jsx("div",{className:`absolute top-1 left-2 font-black opacity-70 text-[10px] ${A}`,children:y?"ZMB":"ANT"}),O.jsx("div",{className:`font-black ${A} z-10`,children:r}),y?O.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:O.jsx(Ih,{size:H,strokeWidth:2.5})}):O.jsx("div",{className:`absolute -bottom-2 -right-2 ${M}`,children:O.jsx(hg,{size:H,strokeWidth:2.5})}),i>1&&O.jsxs("div",{className:"absolute top-[-5px] right-[-5px] bg-yellow-500 text-black font-bold rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-md border border-yellow-600 z-20",children:["x",i]})]})},T0=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>O.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:O.jsxs("div",{className:"bg-stone-900 rounded-xl border border-red-900/50 p-6 max-w-sm w-full text-center shadow-2xl relative overflow-hidden",children:[O.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-600 to-transparent"}),O.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center justify-center gap-2",children:[O.jsx(cg,{className:"text-red-500"})," Abandon Zone?"]}),O.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:l?"Leaving now will disrupt the survival effort.":"Disconnect from the safe house?"}),O.jsxs("div",{className:"flex flex-col gap-3",children:[O.jsx("button",{onClick:i,className:"bg-gray-800 hover:bg-gray-700 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),a&&l&&O.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-700 hover:bg-blue-600 text-white shadow-lg",children:[O.jsx(ZI,{size:18})," Return Group to Lobby"]}),O.jsxs("button",{onClick:r,className:"bg-red-700 hover:bg-red-600 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 shadow-lg",children:[O.jsx(jc,{size:18})," Leave Game"]})]})]})}),b0=({onClose:r})=>O.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-stone-900 rounded-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden border border-red-900/30 flex flex-col",children:[O.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-black/50",children:[O.jsxs("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-widest flex items-center gap-2",children:[O.jsx(Ih,{})," Survival Guide"]}),O.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:O.jsx(dx,{})})]}),O.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-300 text-left",children:[O.jsxs("section",{children:[O.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[O.jsx(cg,{className:"text-green-500",size:20})," The Basics"]}),O.jsxs("p",{className:"text-sm",children:["Get rid of your cards. Be the last survivor. ",O.jsx("br",{})," Odd cards are"," ",O.jsx("strong",{children:"Zombies"}),". Even cards are ",O.jsx("strong",{children:"Antidotes"}),"."]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[O.jsx(jI,{className:"text-blue-400",size:20})," Placement Rules"]}),O.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[O.jsxs("li",{children:["Cards on the board are arranged in"," ",O.jsx("strong",{children:"Ascending Order"}),"."]}),O.jsxs("li",{children:["You can play cards ",O.jsx("strong",{children:"Lower"})," than the minimum or"," ",O.jsx("strong",{children:"Higher"})," than the maximum."]}),O.jsx("li",{children:"You CANNOT play inside the cage (between min and max)."}),O.jsxs("li",{children:[O.jsx("strong",{children:"The Twist:"})," Two cards of the same type (Zombie/Zombie or Antidote/Antidote) CANNOT sit next to each other horizontally."]}),O.jsx("li",{children:"You CAN stack a matching card on top of an existing one."})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[O.jsx(hx,{className:"text-yellow-400",size:20})," Multi-Play & Quarantine"]}),O.jsxs("p",{className:"text-sm mb-2",children:["If you play on the edges, you must play ",O.jsx("strong",{children:"at least"})," as many cards as are currently on that edge stack. If you stack on top, just follow the same rule."]}),O.jsxs("p",{className:"text-sm border-l-4 border-red-600 pl-3 py-1 bg-red-900/10",children:[O.jsx("strong",{children:"Stuck?"})," Select ",O.jsx("strong",{children:"QUARANTINE"})," mode, then click a card on the board to take it as a penalty. You are out for the round."]})]})]}),O.jsx("div",{className:"p-4 bg-black/50 border-t border-gray-800 text-center",children:O.jsx("button",{onClick:r,className:"bg-red-700 hover:bg-red-600 text-white px-8 py-3 rounded-lg font-bold",children:"Survive"})})]})});function vx(){const[r,t]=ge.useState(null),[i,a]=ge.useState("menu"),[l,c]=ge.useState(""),[d,p]=ge.useState(""),[_,y]=ge.useState(""),[T,A]=ge.useState(null),[M,H]=ge.useState(""),[W,nt]=ge.useState(!1),[tt,mt]=ge.useState(!1),[Tt,_t]=ge.useState(!1),[Yt,Gt]=ge.useState(!1),[At,I]=ge.useState([]),[S,R]=ge.useState(!1),[V,x]=ge.useState(!1),k=Z=>{H(Z),setTimeout(()=>H(""),3e3)};ge.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await iw(Qd,__initial_auth_token):await JS(Qd))(),aw(Qd,t)},[]),ge.useEffect(()=>{const Z=d0(Nn(Dn,"game_hub_settings","config"),J=>{J.exists()&&J.data()[gx]?.maintenance?x(!0):x(!1)});return()=>Z()},[]),ge.useEffect(()=>{if(!d||!r)return;const Z=d0(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),J=>{if(J.exists()){const ot=J.data();if(ot.players&&!ot.players.find(gt=>gt.id===r.uid)){p(""),a("menu"),k("You have been kicked from the safe house.");return}A(ot),ot.status==="playing"||ot.status==="finished"?a("game"):ot.status==="lobby"&&a("lobby"),ot.turnIndex!==void 0&&ot.players&&ot.players[ot.turnIndex]&&r&&(ot.players[ot.turnIndex].id===r.uid||R(!1))}else p(""),a("menu"),k("Safe house compromised (Room closed).")});return()=>Z()},[d,r]);const w=(Z,J)=>{if(Z.length===0)return{valid:!1,msg:"Select cards."};const ot=Z[0].val,gt=Z[0].type,qt=Z.length;if(!Z.every(kt=>kt.val===ot))return{valid:!1,msg:"Must play identical cards."};if(J.length===0)return{valid:!0};const lt=J[0],Dt=J[J.length-1],Ct=J.findIndex(kt=>kt.val===ot);if(Ct!==-1){if(!(Ct===0||Ct===J.length-1))return{valid:!1,msg:"Cannot play inside the cage (even to stack)."};const Re=J[Ct];return qt<Re.count?{valid:!1,msg:`Must play at least ${Re.count} cards to stack on this edge.`}:{valid:!0,action:"STACK",index:Ct}}return ot>lt.val&&ot<Dt.val?{valid:!1,msg:"Cannot play inside the cage."}:ot<lt.val?gt===lt.type?{valid:!1,msg:`Cannot place ${gt} next to ${lt.type}.`}:qt<lt.count?{valid:!1,msg:`Must play at least ${lt.count} cards here (matches edge stack).`}:{valid:!0,action:"LEFT"}:ot>Dt.val?gt===Dt.type?{valid:!1,msg:`Cannot place ${gt} next to ${Dt.type}.`}:qt<Dt.count?{valid:!1,msg:`Must play at least ${Dt.count} cards here (matches edge stack).`}:{valid:!0,action:"RIGHT"}:{valid:!1,msg:"Invalid move."}},ue=async()=>{if(!l)return k("Name required");nt(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase();await OI(Nn(Dn,"artifacts",Yn,"public","data","rooms",Z),{roomId:Z,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,hand:[],quarantined:!1,ready:!1}],board:[],deck:[],turnIndex:0,activeRoundPlayers:[],logs:[],winner:null}),p(Z),nt(!1)},Ee=async()=>{if(!_||!l)return k("Details required");nt(!0);const Z=Nn(Dn,"artifacts",Yn,"public","data","rooms",_),J=await f0(Z);if(!J.exists()){k("Room not found"),nt(!1);return}const ot=J.data();if(ot.status!=="lobby"){k("Game in progress"),nt(!1);return}if(ot.players.length>=6){k("Room full"),nt(!1);return}ot.players.find(gt=>gt.id===r.uid)||await Oi(Z,{players:qa({id:r.uid,name:l,hand:[],quarantined:!1,ready:!1})}),p(_),nt(!1)},G=async Z=>{if(T.hostId!==r.uid)return;const J=T.players.filter(ot=>ot.id!==Z);await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{players:J})},it=async()=>{if(T.hostId!==r.uid)return;const Z=T.players.length,J=_x(yx()),ot=px[Z]||10,gt=T.players.map(lt=>{const Dt=J.splice(0,ot).sort((Ct,kt)=>Ct.val-kt.val);return{...lt,hand:Dt,quarantined:!1,ready:!1}}),qt=gt.map(lt=>lt.id);await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{status:"playing",players:gt,deck:J,board:[],activeRoundPlayers:qt,turnIndex:0,logs:[{text:"Survival begins. Good luck.",type:"neutral"}]})},ft=async()=>{T.hostId===r.uid&&await it()},Vt=async()=>{if(T.hostId!==r.uid)return;const Z=T.players.map(J=>({...J,hand:[],quarantined:!1,ready:!1}));await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{status:"lobby",players:Z,board:[],logs:[],activeRoundPlayers:[]}),Gt(!1)},Kt=async()=>{if(!d||!r)return;const Z=T.players.map(J=>J.id===r.uid?{...J,ready:!J.ready}:J);await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{players:Z})},D=async()=>{const Z=T.players.findIndex(Wt=>Wt.id===r.uid),J=T.players[Z],ot=At.map(Wt=>J.hand[Wt]),gt=w(ot,T.board);if(!gt.valid){k(gt.msg);return}const qt=[...T.board],lt=ot[0].val,Dt=ot[0].type,Ct=ot.length;gt.action==="STACK"?qt[gt.index].count+=Ct:gt.action==="LEFT"?qt.unshift({val:lt,type:Dt,count:Ct}):gt.action==="RIGHT"?qt.push({val:lt,type:Dt,count:Ct}):qt.push({val:lt,type:Dt,count:Ct});const kt=[...T.players],Re=[];let Jt=0;for(let Wt of J.hand)Wt.val===lt&&Jt<Ct?Jt++:Re.push(Wt);if(kt[Z].hand=Re,Re.length===0){await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{players:kt,board:qt,status:"finished",winner:J,logs:qa({text:`${J.name} survived! Game Over.`,type:"success"})}),I([]);return}let on=(T.turnIndex+1)%kt.length,Mn=0;for(;(!T.activeRoundPlayers.includes(kt[on].id)||kt[on].quarantined)&&(on=(on+1)%kt.length,Mn++,!(Mn>kt.length)););await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{players:kt,board:qt,turnIndex:on,logs:qa({text:`${J.name} played ${Ct}x ${lt}.`,type:"neutral"})}),I([])},Y=()=>{R(!0)},st=async Z=>{if(!S)return;const J=T.players.findIndex(Jt=>Jt.id===r.uid),ot=T.players[J],gt=[...T.board];if(gt.length===0)return;const qt=gt[Z],lt={val:qt.val,type:qt.type};qt.count>1?gt[Z].count-=1:gt.splice(Z,1);const Dt=[...ot.hand,lt].sort((Jt,on)=>Jt.val-on.val),Ct=[...T.players];Ct[J].hand=Dt,Ct[J].quarantined=!0;const kt=T.activeRoundPlayers.filter(Jt=>Jt!==r.uid),Re=[{text:`${ot.name} quarantined and took ${lt.val}.`,type:"danger"}];if(kt.length===1){const Jt=kt[0],on=Ct.find(oe=>oe.id===Jt);Re.push({text:`${on.name} won the round! Board cleared.`,type:"success"});const Mn=Ct.map(oe=>({...oe,quarantined:!1})),Wt=Mn.findIndex(oe=>oe.id===Jt);await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{players:Mn,board:[],activeRoundPlayers:Mn.map(oe=>oe.id),turnIndex:Wt,logs:qa(...Re)})}else{let Jt=(T.turnIndex+1)%Ct.length;for(;!kt.includes(Ct[Jt].id)||Ct[Jt].quarantined;)Jt=(Jt+1)%Ct.length;await Oi(Nn(Dn,"artifacts",Yn,"public","data","rooms",d),{players:Ct,board:gt,activeRoundPlayers:kt,turnIndex:Jt,logs:qa(...Re)})}R(!1),H("")},rt=async()=>{if(!(!d||!r)){try{const Z=Nn(Dn,"artifacts",Yn,"public","data","rooms",d),J=await f0(Z);if(J.exists()){const ot=J.data();if(ot.hostId===r.uid&&ot.status==="lobby")await MI(Z);else{const qt=ot.players.filter(Dt=>Dt.id!==r.uid);let lt=ot.status;ot.status==="playing"&&qt.length<2&&(lt="finished"),await Oi(Z,{players:qt,status:lt,logs:qa({text:`${l} fled.`,type:"danger"})})}}}catch{}p(""),a("menu"),A(null),Gt(!1)}},Et=(Z,J)=>{if(At.includes(J))I(At.filter(ot=>ot!==J));else{if(At.length>0){const ot=At[0];if(T.players.find(lt=>lt.id===r.uid).hand[ot].val!==Z.val){I([J]);return}}I([...At,J])}};if(V)return O.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[O.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[O.jsx(YI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),O.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),O.jsx("p",{className:"text-gray-400",children:"Zombies are lurking around. Wait for the sunlight to scare them away."})]}),O.jsx("div",{className:"h-8"}),O.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:O.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:O.jsx("div",{className:"text-center pb-12 animate-pulse",children:O.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[O.jsx(v0,{size:16})," Visit Gamehub...Try our other releases..."," ",O.jsx(v0,{size:16})]})})})})]});if(i==="menu")return O.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[O.jsx(Yd,{}),O.jsxs("div",{className:"z-10 text-center mb-8 animate-in fade-in zoom-in duration-700 w-full px-4",children:[O.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[O.jsx(Ih,{size:50,className:"text-red-600 animate-bounce"}),O.jsx(hg,{size:50,className:"text-lime-500 animate-bounce delay-75"})]}),O.jsx("h1",{className:"text-4xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-stone-500 uppercase tracking-tighter",children:"Last of Us"}),O.jsx("p",{className:"text-stone-500 tracking-[0.5em] uppercase mt-2 font-bold text-xs md:text-sm",children:"Survive the Horde"})]}),O.jsxs("div",{className:"bg-stone-900/80 backdrop-blur border border-red-900/30 p-6 md:p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 mx-4",children:[M&&O.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),O.jsx("input",{className:"w-full bg-black/50 border border-stone-700 p-3 rounded-xl mb-4 text-white focus:border-red-500 outline-none text-sm",placeholder:"Survivor Name",value:l,onChange:Z=>c(Z.target.value)}),O.jsxs("button",{onClick:ue,disabled:W,className:"w-full bg-red-800 hover:bg-red-700 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 transition-all shadow-lg text-sm md:text-base",children:[O.jsx(tx,{size:20})," New Survival Zone"]}),O.jsxs("div",{className:"flex gap-2 mb-4",children:[O.jsx("input",{className:"flex-1 bg-black/50 border border-stone-700 p-3 rounded-xl text-white focus:border-red-500 outline-none uppercase text-sm",placeholder:"CODE",value:_,onChange:Z=>y(Z.target.value.toUpperCase())}),O.jsx("button",{onClick:Ee,disabled:W,className:"bg-stone-700 hover:bg-stone-600 px-6 rounded-xl font-bold transition-all text-sm",children:"Join"})]}),O.jsxs("button",{onClick:()=>mt(!0),className:"w-full text-center text-stone-500 hover:text-stone-300 text-sm flex items-center justify-center gap-2",children:[O.jsx(p0,{size:14})," Field Manual"]})]}),tt&&O.jsx(b0,{onClose:()=>mt(!1)})]});if(i==="lobby"&&T){const Z=T.hostId===r.uid;return O.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col items-center justify-center p-6 relative",children:[O.jsx(Yd,{}),Yt&&O.jsx(T0,{onConfirmLeave:rt,onConfirmLobby:null,onCancel:()=>Gt(!1),isHost:Z,inGame:!1}),O.jsxs("div",{className:"z-10 w-full max-w-lg bg-stone-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/30 shadow-2xl",children:[O.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-stone-800",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"text-xl text-red-600 font-bold uppercase",children:"Safe Zone"}),O.jsx("div",{className:"text-3xl font-mono text-white font-black",children:T.roomId})]}),O.jsx("button",{onClick:()=>Gt(!0),className:"p-2 bg-red-900/30 text-red-400 rounded-full hover:bg-red-900/50",children:O.jsx(jc,{size:20})})]}),O.jsxs("div",{className:"space-y-3 mb-8",children:[T.players.map(J=>O.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-xl border border-stone-800",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2 rounded-full bg-stone-800",children:O.jsx(ux,{size:18,className:"text-stone-400"})}),O.jsx("span",{className:`font-bold ${J.id===r.uid?"text-red-500":"text-stone-400"}`,children:J.name})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[J.id===T.hostId&&O.jsx(_0,{size:16,className:"text-yellow-500"}),Z&&J.id!==r.uid&&O.jsx("button",{onClick:()=>G(J.id),className:"text-stone-600 hover:text-red-500 p-1 transition-colors",title:"Kick Player",children:O.jsx(ox,{size:18})})]})]},J.id)),T.players.length<2&&O.jsx("div",{className:"text-center text-stone-600 py-4 italic",children:"Need at least 2 survivors..."})]}),Z?O.jsx("button",{onClick:it,disabled:T.players.length<2,className:"w-full py-4 rounded-xl font-black text-xl uppercase tracking-widest bg-red-700 hover:bg-red-600 text-white shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Game"}):O.jsx("div",{className:"w-full py-4 rounded-xl font-bold text-center text-stone-500 bg-stone-800/50 border border-stone-700 animate-pulse",children:"Waiting for Host..."})]})]})}if(i==="game"&&T){const Z=T.players.find(lt=>lt.id===r.uid);if(!Z)return O.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center text-white",children:"Loading..."});const J=T.players[T.turnIndex].id===r.uid,ot=T.players.filter(lt=>lt.id!==r.uid),gt=T.logs.slice(-2).reverse(),qt=T.players.filter(lt=>lt.id!==T.hostId).every(lt=>lt.ready);return O.jsxs("div",{className:"h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden font-sans",children:[O.jsx(Yd,{}),Yt&&O.jsx(T0,{onConfirmLeave:rt,onConfirmLobby:Vt,onCancel:()=>Gt(!1),isHost:T.hostId===r.uid,inGame:!0}),tt&&O.jsx(b0,{onClose:()=>mt(!1)}),O.jsxs("div",{className:"h-14 bg-stone-900/90 border-b border-stone-800 flex items-center justify-between px-4 z-50 sticky top-0 backdrop-blur-md",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(cg,{className:"text-red-600",size:24}),O.jsx("span",{className:"font-black uppercase hidden md:block",children:"Last of Us"})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>mt(!0),className:"p-2 text-stone-400 hover:bg-stone-800 rounded-full",children:O.jsx(p0,{size:20})}),O.jsx("button",{onClick:()=>_t(!Tt),className:`p-2 rounded-full ${Tt?"bg-red-900/50 text-red-200":"text-stone-400 hover:bg-stone-800"}`,children:O.jsx(XI,{size:20})}),O.jsx("button",{onClick:()=>Gt(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:O.jsx(jc,{size:20})})]})]}),Tt&&O.jsx("div",{className:"absolute top-16 right-4 z-50 bg-stone-900/95 border border-stone-700 p-2 rounded-xl max-h-60 overflow-y-auto w-64 shadow-2xl",children:[...T.logs].reverse().map((lt,Dt)=>O.jsx("div",{className:`text-xs p-2 mb-1 rounded border-l-2 ${lt.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":"bg-stone-800 border-stone-600 text-gray-400"}`,children:lt.text},Dt))}),T.status==="finished"&&O.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 flex flex-col items-center justify-center p-6 text-center animate-in zoom-in",children:[O.jsx(_0,{size:80,className:"text-yellow-500 mb-6 animate-bounce"}),O.jsx("h1",{className:"text-5xl font-black text-white mb-4",children:"Survivor Found!"}),O.jsxs("p",{className:"text-2xl text-stone-300 mb-8",children:[T.winner.name," cleared their hand!"]}),O.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full mb-8",children:T.players.map(lt=>O.jsx("div",{className:"bg-stone-800 p-4 rounded-xl flex justify-between items-center border border-stone-700",children:O.jsxs("div",{className:"flex items-center gap-2",children:[lt.ready&&O.jsx(y0,{size:16,className:"text-green-500"}),O.jsx("span",{className:lt.id===T.winner.id?"text-yellow-400 font-bold":"text-gray-400",children:lt.name})]})},lt.id))}),O.jsx("div",{className:"flex flex-col gap-4 items-center w-full max-w-md",children:T.hostId!==r.uid?Z.ready?O.jsxs("div",{className:"w-full py-3 bg-stone-800 rounded-xl font-bold text-green-400 border border-green-500/50 flex items-center justify-center gap-2",children:[O.jsx(y0,{size:20})," Waiting for host..."]}):O.jsx("button",{onClick:Kt,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white shadow-lg animate-pulse transition-all hover:scale-105",children:"Ready for Next Game"}):O.jsxs("div",{className:"flex flex-col w-full gap-3",children:[O.jsxs("div",{className:"flex gap-4 w-full",children:[O.jsxs("button",{onClick:Vt,disabled:!qt,className:`flex-1 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${qt?"bg-stone-700 hover:bg-stone-600 text-white hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[O.jsx(jc,{size:18})," Lobby"]}),O.jsxs("button",{onClick:ft,disabled:!qt,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2 ${qt?"bg-red-700 hover:bg-red-600 hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:[O.jsx(nx,{size:18})," Restart"]})]}),!qt&&O.jsx("p",{className:"text-stone-500 text-sm animate-pulse",children:"Waiting for survivors to report in..."})]})})]}),O.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-6xl mx-auto p-2 gap-2 overflow-hidden relative",children:[O.jsx("div",{className:"flex-none h-24 md:h-28 flex items-start justify-center gap-2 overflow-x-auto no-scrollbar px-2 py-2",children:ot.map(lt=>O.jsxs("div",{className:`flex flex-col items-center min-w-[80px] md:min-w-[100px] p-2 rounded-xl border ${lt.quarantined?"border-red-900 bg-red-900/20 opacity-50":"border-stone-700 bg-stone-900/50"} ${T.players[T.turnIndex].id===lt.id?"ring-2 ring-yellow-500":""}`,children:[O.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[lt.quarantined&&O.jsx(g0,{size:12,className:"text-red-500"}),O.jsx("span",{className:"text-xs font-bold truncate max-w-[60px] md:max-w-[70px]",children:lt.name})]}),O.jsx("div",{className:"flex gap-1 overflow-hidden h-8 md:h-12 w-full justify-center",children:lt.hand.length>0?O.jsx("div",{className:"flex -space-x-2",children:lt.hand.map((Dt,Ct)=>O.jsx("div",{className:"w-4 md:w-6 h-6 md:h-8 bg-stone-700 rounded border border-stone-600 shadow-sm"},Ct))}):O.jsx("span",{className:"text-[10px] text-green-500",children:"Safe"})}),O.jsxs("span",{className:"text-[10px] text-stone-500",children:[lt.hand.length," Cards"]})]},lt.id))}),O.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0 bg-stone-900/30 rounded-2xl border border-stone-800/30 mx-2",children:[O.jsxs("div",{className:"absolute top-4 left-0 right-0 flex flex-col items-center pointer-events-none z-10 w-full space-y-2",children:[!Tt&&gt.map((lt,Dt)=>O.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] md:text-xs font-bold shadow-lg backdrop-blur-md border animate-in fade-in zoom-in duration-300 ${lt.type==="danger"?"bg-red-900/50 border-red-500 text-red-100":"bg-stone-800/50 border-stone-600 text-stone-300"}`,children:lt.text},Dt)),M&&O.jsx("div",{className:"px-6 py-2 rounded-full text-sm font-bold bg-red-600 text-white shadow-xl animate-bounce whitespace-nowrap border-4 border-red-800",children:M})]}),T.board.length===0?O.jsx("div",{className:"text-stone-600 text-sm font-bold border-2 border-dashed border-stone-800 rounded-xl p-8",children:"Board Empty"}):O.jsx("div",{className:"flex items-center gap-1 md:gap-2 overflow-x-auto p-4 w-full justify-start md:justify-center no-scrollbar h-full",children:T.board.map((lt,Dt)=>O.jsx("div",{className:"transform hover:scale-105 transition-transform shrink-0",children:O.jsx(E0,{val:lt.val,type:lt.type,count:lt.count,size:"lg",isBoard:!0,disabled:!S,selected:S,onClick:()=>st(Dt)})},Dt))}),J&&!Z.quarantined&&O.jsx("div",{className:"absolute bottom-4 flex gap-4 z-20",children:S?O.jsxs("div",{className:"flex flex-col items-center gap-2 animate-in slide-in-from-bottom-2",children:[O.jsx("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 text-sm font-bold border border-red-500 shadow-xl",children:"Tap a card to take penalty"}),O.jsx("button",{onClick:()=>R(!1),className:"px-6 py-2 rounded-xl font-bold bg-gray-700 hover:bg-gray-600 text-gray-200 shadow-lg",children:"Cancel"})]}):O.jsxs(O.Fragment,{children:[O.jsxs("button",{onClick:D,disabled:At.length===0,className:`px-6 md:px-8 py-3 rounded-xl font-black text-lg md:text-xl shadow-xl flex items-center gap-2 transition-all ${At.length>0?"bg-yellow-500 hover:bg-yellow-400 text-black hover:scale-105":"bg-stone-800 text-stone-500 cursor-not-allowed"}`,children:["PLAY"," ",At.length>0&&`(${At.length})`]}),O.jsxs("button",{onClick:Y,className:"px-4 md:px-6 py-3 rounded-xl font-bold bg-red-900/50 hover:bg-red-800 text-red-200 border border-red-800 flex items-center gap-2 transition-all",children:[O.jsx(g0,{size:18})," ",O.jsx("span",{className:"inline",children:"QUARANTINE"})]})]})}),J&&Z.quarantined&&O.jsx("div",{className:"absolute bottom-4 text-red-500 font-bold animate-pulse bg-black/50 px-4 py-2 rounded-xl",children:"You are Quarantined. Skip turn."}),!J&&O.jsx("div",{className:"absolute bottom-4 px-4 py-2 bg-stone-900 rounded-full text-stone-500 text-sm border border-stone-800 animate-pulse",children:"Waiting for survivors..."})]}),O.jsxs("div",{className:"flex-none bg-stone-900/95 p-2 md:p-4 rounded-t-3xl border-t border-red-900/30 shadow-2xl relative z-30 w-full overflow-hidden",children:[O.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[O.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-stone-400 uppercase tracking-widest",children:["Inventory (",Z.hand.length,")"]}),O.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-stone-500",children:"Match count on edges"})]}),O.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-4 pt-2 px-2 no-scrollbar",children:(()=>{const lt=[];let Dt=[];for(let Ct=0;Ct<Z.hand.length;Ct++){const kt=Z.hand[Ct];Ct>0&&Z.hand[Ct-1].val!==kt.val&&(lt.push(Dt),Dt=[]),Dt.push({card:kt,index:Ct})}return Dt.length>0&&lt.push(Dt),lt.map((Ct,kt)=>O.jsx("div",{className:"flex -space-x-6 md:-space-x-8 hover:space-x-1 transition-all duration-300 pr-4 shrink-0",children:Ct.map(({card:Re,index:Jt})=>O.jsx("div",{children:O.jsx(E0,{val:Re.val,type:Re.type,size:"md",selected:At.includes(Jt),onClick:()=>Et(Re,Jt)})},Jt))},kt))})()})]})]})]})}return null}Db.createRoot(document.getElementById("root")).render(O.jsx(ge.StrictMode,{children:O.jsx(vx,{})}));
